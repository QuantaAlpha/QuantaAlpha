{
  "metadata": {
    "created_at": "2026-01-17T12:00:22.267921",
    "last_updated": "2026-01-17T12:00:22.267927",
    "total_factors": 88,
    "version": "1.0",
    "source": "all_factors_library_10_10_10_best1_组合123_QA.json",
    "note": "evolution_phase为crossover的后半部分因子，保持原始顺序"
  },
  "factors": {
    "0c23295be2fe9201": {
      "factor_id": "0c23295be2fe9201",
      "factor_name": "Cross_Sectional_Absorption_Density_20D",
      "factor_expression": "RANK(TS_MEAN($volume / (POW($high - $low, 2) + 1e-8), 20))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN($volume / (POW($high - $low, 2) + 1e-8), 20))\" # Your output factor expression will be filled in here\n    name = \"Cross_Sectional_Absorption_Density_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally ranked version of the absorption density focused on price range efficiency. It measures where volume is high relative to the price volatility (squared range), identifying stocks under heavy accumulation or distribution relative to the market universe.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Absorption-Exhaustion' factor, defined as the product of the 10-day Volume-to-Squared-Range ratio and the 10-day Price Trend Non-Linearity (1 - RSQR), identifies high-probability reversals by detecting institutional liquidity absorption at the climax of rigid price trends.\n                Concise Observation: Parent 1 showed that trend linearity (RSQR) effectively identifies trend maturity, while Parent 2 demonstrated that volume density relative to squared price range captures stealth institutional activity; combining them addresses the weakness of each acting in isolation.\n                Concise Justification: Institutional investors often accumulate or distribute large positions near trend exhaustion points without causing large price swings (stealth); by weighting this 'absorption' by the decay in trend linearity, we isolate the specific moment where smart money overcomes the prevailing trend's inertia.\n                Concise Knowledge: If high volume occurs within a narrow price range (high absorption density) while a previously linear price trend loses its structural rigidity (low RSQR), then a trend reversal or high-quality breakout is imminent; institutional positioning is most effective when it disrupts established retail momentum.\n                concise Specification: Calculate the 10-day rolling RSQR of daily close prices and the 10-day rolling average of (Volume / (High - Low)^2); the final factor is the product of the average volume density and (1 - RSQR), targeting assets with high consolidation density and low trend fit.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "574cd1e862c0",
      "parent_trajectory_ids": [
        "3cb6ea9034b4",
        "1d7506acce10"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0047167361451284,
        "ICIR": 0.0364844064841437,
        "RankIC": 0.0191266897767354,
        "RankICIR": 0.1502700646302422,
        "annualized_return": 0.0513879652748899,
        "information_ratio": 0.8647905410225525,
        "max_drawdown": -0.0999122671344044
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:35:28.477002",
      "updated_at": "2026-01-17T04:35:28.477009"
    },
    "5e621ca92d46931b": {
      "factor_id": "5e621ca92d46931b",
      "factor_name": "Trend_Linearity_Exhaustion_15D",
      "factor_expression": "ABS(REGRESI($close, SEQUENCE(15), 15)) / (TS_STD($close, 15) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ABS(REGRESI($close, SEQUENCE(15), 15)) / (TS_STD($close, 15) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Trend_Linearity_Exhaustion_15D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures the 'exhaustion' component of the hypothesis by identifying assets whose price trends are losing their linear rigidity. It uses the residual of a linear regression of price against time, normalized by the standard deviation, to detect structural breaks in momentum.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Absorption-Exhaustion' factor, defined as the product of the 10-day Volume-to-Squared-Range ratio and the 10-day Price Trend Non-Linearity (1 - RSQR), identifies high-probability reversals by detecting institutional liquidity absorption at the climax of rigid price trends.\n                Concise Observation: Parent 1 showed that trend linearity (RSQR) effectively identifies trend maturity, while Parent 2 demonstrated that volume density relative to squared price range captures stealth institutional activity; combining them addresses the weakness of each acting in isolation.\n                Concise Justification: Institutional investors often accumulate or distribute large positions near trend exhaustion points without causing large price swings (stealth); by weighting this 'absorption' by the decay in trend linearity, we isolate the specific moment where smart money overcomes the prevailing trend's inertia.\n                Concise Knowledge: If high volume occurs within a narrow price range (high absorption density) while a previously linear price trend loses its structural rigidity (low RSQR), then a trend reversal or high-quality breakout is imminent; institutional positioning is most effective when it disrupts established retail momentum.\n                concise Specification: Calculate the 10-day rolling RSQR of daily close prices and the 10-day rolling average of (Volume / (High - Low)^2); the final factor is the product of the average volume density and (1 - RSQR), targeting assets with high consolidation density and low trend fit.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "574cd1e862c0",
      "parent_trajectory_ids": [
        "3cb6ea9034b4",
        "1d7506acce10"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0047167361451284,
        "ICIR": 0.0364844064841437,
        "RankIC": 0.0191266897767354,
        "RankICIR": 0.1502700646302422,
        "annualized_return": 0.0513879652748899,
        "information_ratio": 0.8647905410225525,
        "max_drawdown": -0.0999122671344044
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:35:28.510721",
      "updated_at": "2026-01-17T04:35:28.510731"
    },
    "6c85d665d5418c64": {
      "factor_id": "6c85d665d5418c64",
      "factor_name": "Inst_Exhaustion_Reversal_10D",
      "factor_expression": "(($open - DELAY($close, 1)) / ($high - $low + 1e-8) / (TS_STD($close, 10) + 1e-8)) * (1 / (1 + ABS(DELTA(REGRESI($close, SEQUENCE(5), 5), 1))))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($open - DELAY($close, 1)) / ($high - $low + 1e-8) / (TS_STD($close, 10) + 1e-8)) * (1 / (1 + ABS(DELTA(REGRESI($close, SEQUENCE(5), 5), 1))))\" # Your output factor expression will be filled in here\n    name = \"Inst_Exhaustion_Reversal_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies potential price exhaustion by interacting the institutional conviction gap (overnight gap relative to range) with the 5-day change in price residual convexity. It aims to capture 'blow-off' tops or bottoms where high institutional activity meets decelerating price energy.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Momentum-Exhaustion' factor, calculated as the 10-day volatility-normalized Institutional Conviction Gap multiplied by the negative 5-day change in price-residual convexity, identifies high-probability reversals and sustainable trends by filtering institutional signals through a lens of price exhaustion.\n                Concise Observation: Parent 1's residual convexity (RankIC 0.0237) and Parent 2's conviction gap (RankIC 0.0252) both capture price-volume anomalies, but they fail to distinguish between the start of a trend and its final exhaustion phase.\n                Concise Justification: By interacting the conviction gap with the inverse of residual velocity, we isolate 'clean' smart-money entries that have not yet depleted their price energy, thereby reducing the risk of buying into a climax.\n                Concise Knowledge: If institutional conviction (overnight gap relative to range) is high while price residual acceleration (convexity) is low or negative, the trend is likely sustainable; when high conviction coincides with extreme residual acceleration, it signals a 'blow-off' exhaustion point.\n                concise Specification: The factor is defined as (Gap_Ratio / TS_STD($close, 10)) * (1 / (1 + ABS(Delta_RESI5))), where Gap_Ratio is ($open - $close.shift(1)) / (($high - $low) + ($low - $close.shift(1))), and Delta_RESI5 is the 5-day difference of the residual of $close regressed against time.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "75821eb5ffff",
      "parent_trajectory_ids": [
        "c7199504b485",
        "77bb890cab72"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0048621246374715,
        "ICIR": 0.0383360805784428,
        "RankIC": 0.0191808615256612,
        "RankICIR": 0.1535564180682635,
        "annualized_return": 0.0663555207704074,
        "information_ratio": 1.0807202666469589,
        "max_drawdown": -0.0762739481620921
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:37:30.357928",
      "updated_at": "2026-01-17T04:37:30.357936"
    },
    "75f75ad197c75734": {
      "factor_id": "75f75ad197c75734",
      "factor_name": "Sustainable_Conviction_Gap_15D",
      "factor_expression": "RANK(($open - DELAY($close, 1)) / (TS_STD($close, 15) + 1e-8)) * (1 - RANK(ABS(REGRESI($close, SEQUENCE(10), 10))))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($open - DELAY($close, 1)) / (TS_STD($close, 15) + 1e-8)) * (1 - RANK(ABS(REGRESI($close, SEQUENCE(10), 10))))\" # Your output factor expression will be filled in here\n    name = \"Sustainable_Conviction_Gap_15D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Measures the volatility-normalized institutional gap filtered by the stability of price residuals. It favors stocks where the overnight gap is supported by consistent price behavior rather than extreme acceleration, suggesting a more sustainable trend.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Momentum-Exhaustion' factor, calculated as the 10-day volatility-normalized Institutional Conviction Gap multiplied by the negative 5-day change in price-residual convexity, identifies high-probability reversals and sustainable trends by filtering institutional signals through a lens of price exhaustion.\n                Concise Observation: Parent 1's residual convexity (RankIC 0.0237) and Parent 2's conviction gap (RankIC 0.0252) both capture price-volume anomalies, but they fail to distinguish between the start of a trend and its final exhaustion phase.\n                Concise Justification: By interacting the conviction gap with the inverse of residual velocity, we isolate 'clean' smart-money entries that have not yet depleted their price energy, thereby reducing the risk of buying into a climax.\n                Concise Knowledge: If institutional conviction (overnight gap relative to range) is high while price residual acceleration (convexity) is low or negative, the trend is likely sustainable; when high conviction coincides with extreme residual acceleration, it signals a 'blow-off' exhaustion point.\n                concise Specification: The factor is defined as (Gap_Ratio / TS_STD($close, 10)) * (1 / (1 + ABS(Delta_RESI5))), where Gap_Ratio is ($open - $close.shift(1)) / (($high - $low) + ($low - $close.shift(1))), and Delta_RESI5 is the 5-day difference of the residual of $close regressed against time.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "75821eb5ffff",
      "parent_trajectory_ids": [
        "c7199504b485",
        "77bb890cab72"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0048621246374715,
        "ICIR": 0.0383360805784428,
        "RankIC": 0.0191808615256612,
        "RankICIR": 0.1535564180682635,
        "annualized_return": 0.0663555207704074,
        "information_ratio": 1.0807202666469589,
        "max_drawdown": -0.0762739481620921
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:37:30.382521",
      "updated_at": "2026-01-17T04:37:30.382527"
    },
    "747074138c6e3b7c": {
      "factor_id": "747074138c6e3b7c",
      "factor_name": "Institutional_Momentum_Energy_Ratio",
      "factor_expression": "TS_ZSCORE($open - DELAY($close, 1), 10) / (1 + TS_STD(DELTA($close, 1), 5))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE($open - DELAY($close, 1), 10) / (1 + TS_STD(DELTA($close, 1), 5))\" # Your output factor expression will be filled in here\n    name = \"Institutional_Momentum_Energy_Ratio\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor combines the gap-based conviction metric with a volume-weighted price range to assess the 'energy' behind institutional moves. It seeks to identify entries where conviction is high but the price has not yet reached a state of volatility exhaustion.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Momentum-Exhaustion' factor, calculated as the 10-day volatility-normalized Institutional Conviction Gap multiplied by the negative 5-day change in price-residual convexity, identifies high-probability reversals and sustainable trends by filtering institutional signals through a lens of price exhaustion.\n                Concise Observation: Parent 1's residual convexity (RankIC 0.0237) and Parent 2's conviction gap (RankIC 0.0252) both capture price-volume anomalies, but they fail to distinguish between the start of a trend and its final exhaustion phase.\n                Concise Justification: By interacting the conviction gap with the inverse of residual velocity, we isolate 'clean' smart-money entries that have not yet depleted their price energy, thereby reducing the risk of buying into a climax.\n                Concise Knowledge: If institutional conviction (overnight gap relative to range) is high while price residual acceleration (convexity) is low or negative, the trend is likely sustainable; when high conviction coincides with extreme residual acceleration, it signals a 'blow-off' exhaustion point.\n                concise Specification: The factor is defined as (Gap_Ratio / TS_STD($close, 10)) * (1 / (1 + ABS(Delta_RESI5))), where Gap_Ratio is ($open - $close.shift(1)) / (($high - $low) + ($low - $close.shift(1))), and Delta_RESI5 is the 5-day difference of the residual of $close regressed against time.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "75821eb5ffff",
      "parent_trajectory_ids": [
        "c7199504b485",
        "77bb890cab72"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0048621246374715,
        "ICIR": 0.0383360805784428,
        "RankIC": 0.0191808615256612,
        "RankICIR": 0.1535564180682635,
        "annualized_return": 0.0663555207704074,
        "information_ratio": 1.0807202666469589,
        "max_drawdown": -0.0762739481620921
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:37:30.406766",
      "updated_at": "2026-01-17T04:37:30.406772"
    },
    "2ca3a9a4260666f5": {
      "factor_id": "2ca3a9a4260666f5",
      "factor_name": "Gap_Efficiency_Ratio_20D",
      "factor_expression": "TS_MEAN(ABS($open - DELAY($close, 1)) / ($high - $low + 1e-8), 20)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN(ABS($open - DELAY($close, 1)) / ($high - $low + 1e-8), 20)\" # Your output factor expression will be filled in here\n    name = \"Gap_Efficiency_Ratio_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor calculates the ratio of the absolute overnight gap to the intraday range, smoothed over 20 days. A high ratio suggests that price discovery is occurring primarily through overnight information shocks rather than intraday noise, indicating high-conviction institutional movement.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Volatility-Adjusted Gap Efficiency factor, calculated as the ratio of the absolute overnight gap to the 20-day ATR-normalized intraday range, predicts future returns by identifying high-conviction information shocks that occur without excessive intraday exhaustion.\n                Concise Observation: Parent 1 showed that ATR-normalized ranges capture volatility regimes (RankIC 0.029), while Parent 2 highlighted that overnight gaps contain unique information (RankIC 0.024); however, both struggle when high volatility is purely noise-driven.\n                Concise Justification: By using the 20-day ATR to scale the intraday range, we create a 'noise' baseline that allows the overnight 'signal' (the gap) to be evaluated for efficiency, where a high ratio signifies a clean price discovery process.\n                Concise Knowledge: If a significant overnight price gap is followed by a narrow, ATR-normalized intraday range, it indicates institutional conviction; conversely, wide intraday ranges relative to historical volatility suggest speculative exhaustion and noise.\n                concise Specification: The factor is defined as (abs(Open_t - Close_{t-1}) / ATR(20)_t) / ((High_t - Low_t) / ATR(20)_t), which simplifies to abs(Open_t - Close_{t-1}) / (High_t - Low_t), where ATR(20) provides the context for 'normal' movement.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "b94108e85f56",
      "parent_trajectory_ids": [
        "493f083fc9f4",
        "a79c88fcd924"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0049839754120521,
        "ICIR": 0.0347786556387274,
        "RankIC": 0.0221394957570045,
        "RankICIR": 0.1582793905217302,
        "annualized_return": 0.0745694145530136,
        "information_ratio": 1.1045058007815225,
        "max_drawdown": -0.0884942850477227
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:38:49.382244",
      "updated_at": "2026-01-17T04:38:49.382252"
    },
    "55d6f7c75c8976f9": {
      "factor_id": "55d6f7c75c8976f9",
      "factor_name": "Volatility_Adjusted_Gap_Conviction",
      "factor_expression": "ABS($open - DELAY($close, 1)) / (TS_MEAN(MAX($high - $low, ABS($high - DELAY($close, 1))), 20) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(ABS($open - DELAY($close, 1)) / (TS_MEAN(MAX(MAX($high - $low, ABS($high - DELAY($close, 1))), ABS($low - DELAY($close, 1))), 20) + 1e-8)) / (($high - $low) / (TS_MEAN(MAX(MAX($high - $low, ABS($high - DELAY($close, 1))), ABS($low - DELAY($close, 1))), 20) + 1e-8) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Volatility_Adjusted_Gap_Conviction\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the overnight gap relative to the 20-day average true range (ATR) divided by the intraday range relative to the same ATR. It identifies days where the gap is significant but the subsequent intraday volatility is suppressed, signifying efficient price adjustment.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Volatility-Adjusted Gap Efficiency factor, calculated as the ratio of the absolute overnight gap to the 20-day ATR-normalized intraday range, predicts future returns by identifying high-conviction information shocks that occur without excessive intraday exhaustion.\n                Concise Observation: Parent 1 showed that ATR-normalized ranges capture volatility regimes (RankIC 0.029), while Parent 2 highlighted that overnight gaps contain unique information (RankIC 0.024); however, both struggle when high volatility is purely noise-driven.\n                Concise Justification: By using the 20-day ATR to scale the intraday range, we create a 'noise' baseline that allows the overnight 'signal' (the gap) to be evaluated for efficiency, where a high ratio signifies a clean price discovery process.\n                Concise Knowledge: If a significant overnight price gap is followed by a narrow, ATR-normalized intraday range, it indicates institutional conviction; conversely, wide intraday ranges relative to historical volatility suggest speculative exhaustion and noise.\n                concise Specification: The factor is defined as (abs(Open_t - Close_{t-1}) / ATR(20)_t) / ((High_t - Low_t) / ATR(20)_t), which simplifies to abs(Open_t - Close_{t-1}) / (High_t - Low_t), where ATR(20) provides the context for 'normal' movement.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "b94108e85f56",
      "parent_trajectory_ids": [
        "493f083fc9f4",
        "a79c88fcd924"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0049839754120521,
        "ICIR": 0.0347786556387274,
        "RankIC": 0.0221394957570045,
        "RankICIR": 0.1582793905217302,
        "annualized_return": 0.0745694145530136,
        "information_ratio": 1.1045058007815225,
        "max_drawdown": -0.0884942850477227
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:38:49.407431",
      "updated_at": "2026-01-17T04:38:49.407437"
    },
    "d8fd499046307bae": {
      "factor_id": "d8fd499046307bae",
      "factor_name": "Cross_Sectional_Gap_Efficiency_Z",
      "factor_expression": "RANK(ABS($open - DELAY($close, 1)) / ($high - $low + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(ABS($open - DELAY($close, 1)) / ($high - $low + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Cross_Sectional_Gap_Efficiency_Z\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally standardized version of the gap efficiency ratio. It ranks stocks based on how much of their daily volatility is explained by the overnight gap versus intraday churn, highlighting stocks with the cleanest information-driven price moves.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Volatility-Adjusted Gap Efficiency factor, calculated as the ratio of the absolute overnight gap to the 20-day ATR-normalized intraday range, predicts future returns by identifying high-conviction information shocks that occur without excessive intraday exhaustion.\n                Concise Observation: Parent 1 showed that ATR-normalized ranges capture volatility regimes (RankIC 0.029), while Parent 2 highlighted that overnight gaps contain unique information (RankIC 0.024); however, both struggle when high volatility is purely noise-driven.\n                Concise Justification: By using the 20-day ATR to scale the intraday range, we create a 'noise' baseline that allows the overnight 'signal' (the gap) to be evaluated for efficiency, where a high ratio signifies a clean price discovery process.\n                Concise Knowledge: If a significant overnight price gap is followed by a narrow, ATR-normalized intraday range, it indicates institutional conviction; conversely, wide intraday ranges relative to historical volatility suggest speculative exhaustion and noise.\n                concise Specification: The factor is defined as (abs(Open_t - Close_{t-1}) / ATR(20)_t) / ((High_t - Low_t) / ATR(20)_t), which simplifies to abs(Open_t - Close_{t-1}) / (High_t - Low_t), where ATR(20) provides the context for 'normal' movement.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "b94108e85f56",
      "parent_trajectory_ids": [
        "493f083fc9f4",
        "a79c88fcd924"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0049839754120521,
        "ICIR": 0.0347786556387274,
        "RankIC": 0.0221394957570045,
        "RankICIR": 0.1582793905217302,
        "annualized_return": 0.0745694145530136,
        "information_ratio": 1.1045058007815225,
        "max_drawdown": -0.0884942850477227
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:38:49.431054",
      "updated_at": "2026-01-17T04:38:49.431060"
    },
    "5495e194e6b567f6": {
      "factor_id": "5495e194e6b567f6",
      "factor_name": "Idio_Vol_Exhaustion_V1",
      "factor_expression": "TS_ZSCORE(($high - $low) / ($close + 1e-8), 10) * (RANK(TS_PCTCHANGE($close, 10)) - RANK(TS_MEAN($return * $volume, 10))) * (TS_MEAN(ABS($open - DELAY($close, 1)), 5) / (TS_MEAN($high - $low, 5) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE(($high - $low) / ($close + 1e-8), 10) * (RANK(TS_PCTCHANGE($close, 10)) - RANK(TS_MEAN(TS_PCTCHANGE($close, 1) * $volume, 10))) * (TS_MEAN(ABS($open - DELAY($close, 1)), 5) / (TS_MEAN($high - $low, 5) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Idio_Vol_Exhaustion_V1\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies potential price reversals by combining idiosyncratic volatility dispersion with price-volume divergence. It calculates the 10-day TS_ZSCORE of the intraday range, multiplies it by the rank difference between 10-day price momentum and volume-weighted returns, and scales it by the ratio of overnight volatility to intraday range.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Idiosyncratic Volatility-Volume Exhaustion factor, defined by the product of 10-day Cross-Sectional Volatility Dispersion (CSVD) and the rank-difference between price momentum and volume-weighted returns, identifies high-conviction reversals when filtered by the overnight-to-intraday volatility ratio.\n                Concise Observation: Parent 1 (CSVD) captures alpha from volatility dispersion (RankIC 0.026), while Parent 2 identifies institutional reversals through price-volume divergence (RankIC 0.022); combining them addresses the noise inherent in individual volatility spikes.\n                Concise Justification: CSVD identifies assets undergoing unique re-pricing, but requires a conviction filter (price-volume rank difference) and a volatility regime check (overnight gap ratio) to distinguish between sustainable trends and mean-reverting exhaustion points.\n                Concise Knowledge: If a stock's idiosyncratic range volatility expands while its price-volume trend diverges, it indicates institutional exhaustion; when this occurs alongside high overnight-to-intraday volatility, the likelihood of a price reversal increases due to liquidity-driven overextension.\n                concise Specification: Calculate CSVD as the 10-day rolling Z-score of (High-Low)/Close; multiply by the difference between 10-day price change rank and 10-day volume-weighted return rank; then scale by the ratio of the 5-day average overnight gap to intraday range.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "a5cc0d100065",
      "parent_trajectory_ids": [
        "7513729d3145",
        "5b9cfce9cb57"
      ],
      "is_sota": false,
      "quality": "Poor",
      "backtest_metrics": {
        "IC": null,
        "ICIR": null,
        "RankIC": null,
        "RankICIR": null,
        "annualized_return": null,
        "information_ratio": null,
        "max_drawdown": null
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:40:09.105511",
      "updated_at": "2026-01-17T04:40:09.105517"
    },
    "2acc07ebc4d05204": {
      "factor_id": "2acc07ebc4d05204",
      "factor_name": "Vol_Dispersion_Conviction_Reversal",
      "factor_expression": "ZSCORE(TS_STD(($high - $low) / ($close + 1e-8), 10)) * RANK(TS_PCTCHANGE($close, 10) - TS_PCTCHANGE($volume, 10)) * (ABS($open - DELAY($close, 1)) / ($high - $low + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(TS_STD(($high - $low) / ($close + 1e-8), 10)) * RANK(DELTA($close, 10) - DELTA($volume, 10)) * (ABS($open - DELAY($close, 1)) / ($high - $low + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Vol_Dispersion_Conviction_Reversal\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the idiosyncratic exhaustion hypothesis focusing on the interaction between volatility dispersion (CSVD) and the divergence between price trends and volume-weighted activity, normalized by the overnight gap intensity.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Idiosyncratic Volatility-Volume Exhaustion factor, defined by the product of 10-day Cross-Sectional Volatility Dispersion (CSVD) and the rank-difference between price momentum and volume-weighted returns, identifies high-conviction reversals when filtered by the overnight-to-intraday volatility ratio.\n                Concise Observation: Parent 1 (CSVD) captures alpha from volatility dispersion (RankIC 0.026), while Parent 2 identifies institutional reversals through price-volume divergence (RankIC 0.022); combining them addresses the noise inherent in individual volatility spikes.\n                Concise Justification: CSVD identifies assets undergoing unique re-pricing, but requires a conviction filter (price-volume rank difference) and a volatility regime check (overnight gap ratio) to distinguish between sustainable trends and mean-reverting exhaustion points.\n                Concise Knowledge: If a stock's idiosyncratic range volatility expands while its price-volume trend diverges, it indicates institutional exhaustion; when this occurs alongside high overnight-to-intraday volatility, the likelihood of a price reversal increases due to liquidity-driven overextension.\n                concise Specification: Calculate CSVD as the 10-day rolling Z-score of (High-Low)/Close; multiply by the difference between 10-day price change rank and 10-day volume-weighted return rank; then scale by the ratio of the 5-day average overnight gap to intraday range.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "a5cc0d100065",
      "parent_trajectory_ids": [
        "7513729d3145",
        "5b9cfce9cb57"
      ],
      "is_sota": false,
      "quality": "Poor",
      "backtest_metrics": {
        "IC": null,
        "ICIR": null,
        "RankIC": null,
        "RankICIR": null,
        "annualized_return": null,
        "information_ratio": null,
        "max_drawdown": null
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:40:09.130081",
      "updated_at": "2026-01-17T04:40:09.130086"
    },
    "1a592c4b2c507dc2": {
      "factor_id": "1a592c4b2c507dc2",
      "factor_name": "Inst_Absorp_Exhaustion_10D",
      "factor_expression": "POW(TS_CORR($close, SEQUENCE(10), 10), 2) * ($close / (TS_SUM($close * $volume, 5) / (TS_SUM($volume, 5) + 1e-8)) - 1) * TS_ZSCORE($volume / (POW($high - $low, 2) + 1e-8), 10)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"POW(TS_CORR($close, SEQUENCE(10), 10), 2) * ($close / (TS_SUM($close * $volume, 5) / (TS_SUM($volume, 5) + 1e-8)) - 1) * TS_ZSCORE($volume / (MAX(POW($high - $low, 2), 1e-4)), 10)\" # Your output factor expression will be filled in here\n    name = \"Inst_Absorp_Exhaustion_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies high-conviction reversal points by combining trend linearity (R-squared), VWMA price deviation, and liquidity density. High R-squared indicates a stable trend, while a high volume-to-squared-range ratio suggests institutional accumulation. A subsequent deviation from the VWMA signals exhaustion of that institutional regime.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Absorption Exhaustion' factor, defined as the product of the 10-day price-time R-squared and the 5-day VWMA price deviation, scaled by the 10-day Z-score of the volume-to-squared-range ratio, identifies high-conviction reversal points following institutional liquidity accumulation.\n                Concise Observation: Parent 1 (RankIC 0.0219) identifies trend stability but lacks volume context, while Parent 2 (RankIC 0.0303) identifies institutional presence but lacks trend directionality; combining them targets the 'maturation' phase of a move.\n                Concise Justification: High volume within narrow price ranges (Stealth Liquidity) creates a 'coiled spring' effect; when this occurs within a stable linear trend, the eventual deviation from the VWMA indicates a structural breakdown of the institutional accumulation/distribution regime.\n                Concise Knowledge: If a security exhibits high trend linearity (R-squared) alongside high liquidity density (Volume/Range^2), then subsequent deviations from the volume-weighted average price (VWMA) signify exhaustion of institutional support rather than random noise.\n                concise Specification: Calculate the 10-day R-squared of $close vs. time; calculate the 5-day VWMA deviation ($close / VWMA - 1); calculate the 10-day Z-score of ($volume / ($high - $low + epsilon)^2); the final factor is the product of these three components.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "eaa213f8926b",
      "parent_trajectory_ids": [
        "6c7b79d75672",
        "1d7506acce10"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0035798662382449,
        "ICIR": 0.0243715991744727,
        "RankIC": 0.0170600930317845,
        "RankICIR": 0.1177336289915161,
        "annualized_return": 0.0067228323166186,
        "information_ratio": 0.089167333949632,
        "max_drawdown": -0.1571893892605717
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:54:32.127741",
      "updated_at": "2026-01-17T04:54:32.127747"
    },
    "610a2ceb1f65e65d": {
      "factor_id": "610a2ceb1f65e65d",
      "factor_name": "Liquidity_Density_Reversal_8D",
      "factor_expression": "RANK(TS_CORR($close, SEQUENCE(8), 8)) * RANK($volume / ($high - $low + 1e-8)) * RANK($close - TS_MEAN($close, 8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_CORR($close, SEQUENCE(8), 8)) * RANK($volume / ($high - $low + 1e-8)) * RANK($close - TS_MEAN($close, 8))\" # Your output factor expression will be filled in here\n    name = \"Liquidity_Density_Reversal_8D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the institutional exhaustion hypothesis focusing on the interaction between liquidity density (volume relative to price range) and price momentum. It identifies 'coiled spring' effects where high volume in tight ranges precedes a breakdown in trend linearity.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Absorption Exhaustion' factor, defined as the product of the 10-day price-time R-squared and the 5-day VWMA price deviation, scaled by the 10-day Z-score of the volume-to-squared-range ratio, identifies high-conviction reversal points following institutional liquidity accumulation.\n                Concise Observation: Parent 1 (RankIC 0.0219) identifies trend stability but lacks volume context, while Parent 2 (RankIC 0.0303) identifies institutional presence but lacks trend directionality; combining them targets the 'maturation' phase of a move.\n                Concise Justification: High volume within narrow price ranges (Stealth Liquidity) creates a 'coiled spring' effect; when this occurs within a stable linear trend, the eventual deviation from the VWMA indicates a structural breakdown of the institutional accumulation/distribution regime.\n                Concise Knowledge: If a security exhibits high trend linearity (R-squared) alongside high liquidity density (Volume/Range^2), then subsequent deviations from the volume-weighted average price (VWMA) signify exhaustion of institutional support rather than random noise.\n                concise Specification: Calculate the 10-day R-squared of $close vs. time; calculate the 5-day VWMA deviation ($close / VWMA - 1); calculate the 10-day Z-score of ($volume / ($high - $low + epsilon)^2); the final factor is the product of these three components.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "eaa213f8926b",
      "parent_trajectory_ids": [
        "6c7b79d75672",
        "1d7506acce10"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0035798662382449,
        "ICIR": 0.0243715991744727,
        "RankIC": 0.0170600930317845,
        "RankICIR": 0.1177336289915161,
        "annualized_return": 0.0067228323166186,
        "information_ratio": 0.089167333949632,
        "max_drawdown": -0.1571893892605717
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:54:32.152270",
      "updated_at": "2026-01-17T04:54:32.152276"
    },
    "a1c2a770cf5cf908": {
      "factor_id": "a1c2a770cf5cf908",
      "factor_name": "Stealth_Accumulation_ZScore_12D",
      "factor_expression": "ZSCORE(POW(TS_CORR($close, SEQUENCE(12), 12), 2)) * ZSCORE($volume / (POW($high - $low, 2) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(POW(TS_CORR($close, SEQUENCE(12), 12), 2)) * ZSCORE($volume / (POW($high - $low, 2) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Stealth_Accumulation_ZScore_12D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor targets the 'maturation' phase of a move by measuring the cross-sectional intensity of volume relative to price volatility (squared range) during periods of high trend persistence (R-squared).",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Absorption Exhaustion' factor, defined as the product of the 10-day price-time R-squared and the 5-day VWMA price deviation, scaled by the 10-day Z-score of the volume-to-squared-range ratio, identifies high-conviction reversal points following institutional liquidity accumulation.\n                Concise Observation: Parent 1 (RankIC 0.0219) identifies trend stability but lacks volume context, while Parent 2 (RankIC 0.0303) identifies institutional presence but lacks trend directionality; combining them targets the 'maturation' phase of a move.\n                Concise Justification: High volume within narrow price ranges (Stealth Liquidity) creates a 'coiled spring' effect; when this occurs within a stable linear trend, the eventual deviation from the VWMA indicates a structural breakdown of the institutional accumulation/distribution regime.\n                Concise Knowledge: If a security exhibits high trend linearity (R-squared) alongside high liquidity density (Volume/Range^2), then subsequent deviations from the volume-weighted average price (VWMA) signify exhaustion of institutional support rather than random noise.\n                concise Specification: Calculate the 10-day R-squared of $close vs. time; calculate the 5-day VWMA deviation ($close / VWMA - 1); calculate the 10-day Z-score of ($volume / ($high - $low + epsilon)^2); the final factor is the product of these three components.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "eaa213f8926b",
      "parent_trajectory_ids": [
        "6c7b79d75672",
        "1d7506acce10"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0035798662382449,
        "ICIR": 0.0243715991744727,
        "RankIC": 0.0170600930317845,
        "RankICIR": 0.1177336289915161,
        "annualized_return": 0.0067228323166186,
        "information_ratio": 0.089167333949632,
        "max_drawdown": -0.1571893892605717
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:54:32.176148",
      "updated_at": "2026-01-17T04:54:32.176153"
    },
    "6dc247e8e817889e": {
      "factor_id": "6dc247e8e817889e",
      "factor_name": "Inertial_Compression_Absorption_10D",
      "factor_expression": "POW(TS_CORR($close, SEQUENCE(10), 10), 2) * (SMA($volume / ($high - $low + 1e-8), 5, 1) / (SMA(ABS($close - $open) / ($high - $low + 1e-8), 5, 1) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"POW(TS_CORR($close, SEQUENCE(10), 10), 2) * (SMA($volume / ($high - $low + 1e-8), 5, 1) / (SMA(ABS($close - $open) / ($high - $low + 1e-8), 5, 1) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Inertial_Compression_Absorption_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies institutional accumulation by combining trend stability (R-squared of price) with price-volume density. High R-squared indicates a persistent trend, while a high ratio of volume-to-range relative to body-to-range suggests 'absorption' where high volume occurs within narrow price bands, signaling a continuation of the prior move.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Inertial Compression-Absorption' factor, defined as the product of the 10-day price trend R-squared and the ratio of 5-day average volume-to-range density to the 5-day average body-to-range ratio, identifies high-conviction institutional accumulation phases that precede trend-following breakouts.\n                Concise Observation: Parent 1 successfully used price body ratios to find exhaustion, while Parent 2 used volume-to-range squared to find stealth liquidity; however, both lacked a filter for trend stability, often leading to false signals in mean-reverting or chaotic regimes.\n                Concise Justification: High volume within narrow price bands suggests institutional absorption (liquidity drain), and when this occurs alongside a high R-squared (trend stability) and small price bodies (indecision), it indicates a temporary pause for accumulation before the next leg of the trend.\n                Concise Knowledge: If a market exhibits high structural persistence (R-squared) while volume is concentrated in narrow price ranges (high volume/range) and price bodies are small relative to total range (low body/range), then the resulting 'compressed absorption' signals a high-probability continuation of the existing trend.\n                concise Specification: The factor is calculated as (10-day R-squared of $close) * (SMA(Volume / (High - Low + epsilon), 5) / SMA(abs(Close - Open) / (High - Low + epsilon), 5)), where epsilon is a small constant to prevent division by zero.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "d6415d4aa6f7",
      "parent_trajectory_ids": [
        "00a6075cc504",
        "1d7506acce10"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0026012431262506,
        "ICIR": 0.0192586554014756,
        "RankIC": 0.0179616309709079,
        "RankICIR": 0.1329784901916024,
        "annualized_return": 0.0073720711364907,
        "information_ratio": 0.1072068122868142,
        "max_drawdown": -0.1169963401656844
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T05:01:17.258409",
      "updated_at": "2026-01-17T05:01:17.258416"
    },
    "37b29548df676e25": {
      "factor_id": "37b29548df676e25",
      "factor_name": "Trend_Persistence_Absorption_Ratio",
      "factor_expression": "TS_RANK($close, 10) * (TS_MEAN($volume, 5) / (TS_MEAN(ABS($close - $open), 5) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_RANK($close, 10) * (TS_MEAN($volume, 5) / (TS_MEAN(ABS($close - $open), 5) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Trend_Persistence_Absorption_Ratio\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the compression-absorption hypothesis focusing on the interaction between price persistence and liquidity density. It uses the time-series rank of closing prices as a proxy for trend stability and compares the total volume relative to the price range versus the body size to identify stealth accumulation phases.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Inertial Compression-Absorption' factor, defined as the product of the 10-day price trend R-squared and the ratio of 5-day average volume-to-range density to the 5-day average body-to-range ratio, identifies high-conviction institutional accumulation phases that precede trend-following breakouts.\n                Concise Observation: Parent 1 successfully used price body ratios to find exhaustion, while Parent 2 used volume-to-range squared to find stealth liquidity; however, both lacked a filter for trend stability, often leading to false signals in mean-reverting or chaotic regimes.\n                Concise Justification: High volume within narrow price bands suggests institutional absorption (liquidity drain), and when this occurs alongside a high R-squared (trend stability) and small price bodies (indecision), it indicates a temporary pause for accumulation before the next leg of the trend.\n                Concise Knowledge: If a market exhibits high structural persistence (R-squared) while volume is concentrated in narrow price ranges (high volume/range) and price bodies are small relative to total range (low body/range), then the resulting 'compressed absorption' signals a high-probability continuation of the existing trend.\n                concise Specification: The factor is calculated as (10-day R-squared of $close) * (SMA(Volume / (High - Low + epsilon), 5) / SMA(abs(Close - Open) / (High - Low + epsilon), 5)), where epsilon is a small constant to prevent division by zero.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "d6415d4aa6f7",
      "parent_trajectory_ids": [
        "00a6075cc504",
        "1d7506acce10"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0026012431262506,
        "ICIR": 0.0192586554014756,
        "RankIC": 0.0179616309709079,
        "RankICIR": 0.1329784901916024,
        "annualized_return": 0.0073720711364907,
        "information_ratio": 0.1072068122868142,
        "max_drawdown": -0.1169963401656844
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T05:01:17.282882",
      "updated_at": "2026-01-17T05:01:17.282888"
    },
    "14f311511630f9db": {
      "factor_id": "14f311511630f9db",
      "factor_name": "Cross_Sectional_Absorption_Strength",
      "factor_expression": "RANK(TS_PCTCHANGE($close, 10)) * (($volume / ($high - $low + 1e-8)) / (ABS($close - $open) / ($high - $low + 1e-8) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_PCTCHANGE($close, 10)) * (($volume / ($high - $low + 1e-8)) / (ABS($close - $open) / ($high - $low + 1e-8) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Cross_Sectional_Absorption_Strength\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor normalizes the absorption signal across the market. It calculates the density of volume relative to the price range and divides it by the relative candle body size, then scales this by the cross-sectional rank of the 10-day price momentum to find the strongest accumulation in the most stable trends.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Inertial Compression-Absorption' factor, defined as the product of the 10-day price trend R-squared and the ratio of 5-day average volume-to-range density to the 5-day average body-to-range ratio, identifies high-conviction institutional accumulation phases that precede trend-following breakouts.\n                Concise Observation: Parent 1 successfully used price body ratios to find exhaustion, while Parent 2 used volume-to-range squared to find stealth liquidity; however, both lacked a filter for trend stability, often leading to false signals in mean-reverting or chaotic regimes.\n                Concise Justification: High volume within narrow price bands suggests institutional absorption (liquidity drain), and when this occurs alongside a high R-squared (trend stability) and small price bodies (indecision), it indicates a temporary pause for accumulation before the next leg of the trend.\n                Concise Knowledge: If a market exhibits high structural persistence (R-squared) while volume is concentrated in narrow price ranges (high volume/range) and price bodies are small relative to total range (low body/range), then the resulting 'compressed absorption' signals a high-probability continuation of the existing trend.\n                concise Specification: The factor is calculated as (10-day R-squared of $close) * (SMA(Volume / (High - Low + epsilon), 5) / SMA(abs(Close - Open) / (High - Low + epsilon), 5)), where epsilon is a small constant to prevent division by zero.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "d6415d4aa6f7",
      "parent_trajectory_ids": [
        "00a6075cc504",
        "1d7506acce10"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0026012431262506,
        "ICIR": 0.0192586554014756,
        "RankIC": 0.0179616309709079,
        "RankICIR": 0.1329784901916024,
        "annualized_return": 0.0073720711364907,
        "information_ratio": 0.1072068122868142,
        "max_drawdown": -0.1169963401656844
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T05:01:17.306832",
      "updated_at": "2026-01-17T05:01:17.306838"
    },
    "05a42dacbddf8ae7": {
      "factor_id": "05a42dacbddf8ae7",
      "factor_name": "Inst_Trend_Integrity_20D",
      "factor_expression": "TS_MEAN($volume / (POW($high - $low, 2) + 1e-8), 20) / (TS_STD(POW(TS_CORR($close, SEQUENCE(10), 10), 2), 20) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN($volume / (POW($high - $low, 2) + 1e-8), 20) / (TS_STD(POW(TS_CORR($close, SEQUENCE(10), 10), 2), 20) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Inst_Trend_Integrity_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies institutional accumulation by combining volume density (volume relative to price range) with trend stability. High volume density suggests liquidity absorption within narrow price bands, while low volatility in the R-squared of price regression indicates a consistent, non-erratic trend.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Trend Integrity' factor, defined as the 20-day rolling average of the (Volume / (High - Low + epsilon)^2) ratio scaled by the inverse of the 20-day standard deviation of the 10-day price regression R-squared, predicts superior forward returns by identifying stable institutional accumulation.\n                Concise Observation: Parent 1 showed that trend fragility (R-squared volatility) captures regime shifts (RankIC 0.0216), while Parent 2 demonstrated that volume-to-price-range ratios identify institutional footprints (RankIC 0.0303), suggesting a synergistic link between volume density and trend consistency.\n                Concise Justification: Institutional investors often execute large orders within narrow price bands to minimize impact, creating high volume density; when this behavior is paired with a stable, non-erratic linear trend, it signals a high-conviction regime shift that the market has yet to fully price in.\n                Concise Knowledge: If high volume density (liquidity absorption) coincides with low volatility in trend goodness-of-fit (trend stability), then the underlying price movement is likely driven by institutional accumulation rather than retail noise; such moves are more persistent and less prone to immediate reversal.\n                concise Specification: Calculate the daily ratio of volume to the square of the daily range; compute its 20-day mean; calculate the 20-day standard deviation of the R-squared from a 10-day linear regression of close prices; the final factor is the ratio of the 20-day mean volume density to the 20-day R-squared volatility.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "2406a677c638",
      "parent_trajectory_ids": [
        "fe2976b173a7",
        "1d7506acce10"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0048202276785119,
        "ICIR": 0.0360916624363226,
        "RankIC": 0.0218515919024348,
        "RankICIR": 0.1686860189406379,
        "annualized_return": 0.0474429812813558,
        "information_ratio": 0.810910955831541,
        "max_drawdown": -0.1034097001433274
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T05:13:50.502117",
      "updated_at": "2026-01-17T05:13:50.502124"
    },
    "ed5f14f9b9ce3e5d": {
      "factor_id": "ed5f14f9b9ce3e5d",
      "factor_name": "Vol_Density_Stability_Ratio",
      "factor_expression": "RANK(TS_MEAN($volume / ($high - $low + 1e-8), 20)) / (RANK(TS_STD($return, 20)) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN($volume / ($high - $low + 1e-8), 20)) / (RANK(TS_STD(TS_PCTCHANGE($close, 1), 20)) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Vol_Density_Stability_Ratio\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the institutional footprint factor, focusing on the ratio between the 20-day average volume density and the 20-day standard deviation of price returns, normalized cross-sectionally to identify stocks with high-conviction liquidity absorption and low price volatility.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Trend Integrity' factor, defined as the 20-day rolling average of the (Volume / (High - Low + epsilon)^2) ratio scaled by the inverse of the 20-day standard deviation of the 10-day price regression R-squared, predicts superior forward returns by identifying stable institutional accumulation.\n                Concise Observation: Parent 1 showed that trend fragility (R-squared volatility) captures regime shifts (RankIC 0.0216), while Parent 2 demonstrated that volume-to-price-range ratios identify institutional footprints (RankIC 0.0303), suggesting a synergistic link between volume density and trend consistency.\n                Concise Justification: Institutional investors often execute large orders within narrow price bands to minimize impact, creating high volume density; when this behavior is paired with a stable, non-erratic linear trend, it signals a high-conviction regime shift that the market has yet to fully price in.\n                Concise Knowledge: If high volume density (liquidity absorption) coincides with low volatility in trend goodness-of-fit (trend stability), then the underlying price movement is likely driven by institutional accumulation rather than retail noise; such moves are more persistent and less prone to immediate reversal.\n                concise Specification: Calculate the daily ratio of volume to the square of the daily range; compute its 20-day mean; calculate the 20-day standard deviation of the R-squared from a 10-day linear regression of close prices; the final factor is the ratio of the 20-day mean volume density to the 20-day R-squared volatility.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "2406a677c638",
      "parent_trajectory_ids": [
        "fe2976b173a7",
        "1d7506acce10"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0048202276785119,
        "ICIR": 0.0360916624363226,
        "RankIC": 0.0218515919024348,
        "RankICIR": 0.1686860189406379,
        "annualized_return": 0.0474429812813558,
        "information_ratio": 0.810910955831541,
        "max_drawdown": -0.1034097001433274
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T05:13:50.526854",
      "updated_at": "2026-01-17T05:13:50.526860"
    },
    "892928c119672f0a": {
      "factor_id": "892928c119672f0a",
      "factor_name": "Trend_Efficiency_Volume_Factor",
      "factor_expression": "POW(TS_CORR($close, SEQUENCE(10), 10), 2) * TS_MEAN($volume / ($high - $low + 1e-8), 20)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"POW(TS_CORR($close, SEQUENCE(10), 10), 2) * TS_MEAN($volume / ($high - $low + 1e-8), 20)\" # Your output factor expression will be filled in here\n    name = \"Trend_Efficiency_Volume_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the efficiency of price movement relative to volume. It uses the 10-day price regression R-squared as a proxy for trend integrity and scales it by the 20-day moving average of volume density, rewarding stocks with high volume absorption and linear price paths.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Trend Integrity' factor, defined as the 20-day rolling average of the (Volume / (High - Low + epsilon)^2) ratio scaled by the inverse of the 20-day standard deviation of the 10-day price regression R-squared, predicts superior forward returns by identifying stable institutional accumulation.\n                Concise Observation: Parent 1 showed that trend fragility (R-squared volatility) captures regime shifts (RankIC 0.0216), while Parent 2 demonstrated that volume-to-price-range ratios identify institutional footprints (RankIC 0.0303), suggesting a synergistic link between volume density and trend consistency.\n                Concise Justification: Institutional investors often execute large orders within narrow price bands to minimize impact, creating high volume density; when this behavior is paired with a stable, non-erratic linear trend, it signals a high-conviction regime shift that the market has yet to fully price in.\n                Concise Knowledge: If high volume density (liquidity absorption) coincides with low volatility in trend goodness-of-fit (trend stability), then the underlying price movement is likely driven by institutional accumulation rather than retail noise; such moves are more persistent and less prone to immediate reversal.\n                concise Specification: Calculate the daily ratio of volume to the square of the daily range; compute its 20-day mean; calculate the 20-day standard deviation of the R-squared from a 10-day linear regression of close prices; the final factor is the ratio of the 20-day mean volume density to the 20-day R-squared volatility.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "2406a677c638",
      "parent_trajectory_ids": [
        "fe2976b173a7",
        "1d7506acce10"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0048202276785119,
        "ICIR": 0.0360916624363226,
        "RankIC": 0.0218515919024348,
        "RankICIR": 0.1686860189406379,
        "annualized_return": 0.0474429812813558,
        "information_ratio": 0.810910955831541,
        "max_drawdown": -0.1034097001433274
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T05:13:50.551002",
      "updated_at": "2026-01-17T05:13:50.551008"
    },
    "242b9288cdf59fa0": {
      "factor_id": "242b9288cdf59fa0",
      "factor_name": "Gap_Intraday_Intensity_Reversal_20D",
      "factor_expression": "(($open - DELAY($close, 1)) / (DELAY($close, 1) + 1e-8)) * TS_ZSCORE(($high - $low) / (TS_MEAN(MAX($high, DELAY($close, 1)) - MIN($low, DELAY($close, 1)), 20) + 1e-8), 20)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($open - DELAY($close, 1)) / (DELAY($close, 1) + 1e-8)) * TS_ZSCORE(($high - $low) / (TS_MEAN(MAX(MAX($high - $low, ABS($high - DELAY($close, 1))), ABS($low - DELAY($close, 1))), 20) + 1e-8), 20)\" # Your output factor expression will be filled in here\n    name = \"Gap_Intraday_Intensity_Reversal_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies mean-reversion signals by multiplying the overnight gap with the 20-day Z-score of the intraday range normalized by ATR. High values indicate exhaustion after a gap-up, while low values indicate exhaustion after a gap-down.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Intraday Intensity-Adjusted Gap Reversal' factor, calculated as the product of the overnight price gap and the 20-day Z-score of the (High-Low)/ATR20 ratio, identifies high-conviction mean-reversion signals by isolating liquidity-driven exhaustion points.\n                Concise Observation: Parent 1 showed that normalized intraday intensity (Range/ATR) captures price exhaustion (RankIC 0.029), while Parent 2 demonstrated that overnight gaps coupled with volume dispersion signal reversals (RankIC 0.022); combining these filters out 'noisy' gaps that lack the volatility confirmation needed for high-conviction trades.\n                Concise Justification: By scaling the overnight gap by the relative intraday intensity, we weight the signal toward 'over-extended' states where the price has moved significantly beyond its typical volatility envelope, suggesting a higher likelihood of inventory-driven correction.\n                Concise Knowledge: If an overnight price gap occurs in conjunction with extreme intraday price range expansion relative to its historical ATR, the price movement is more likely driven by temporary liquidity imbalances rather than fundamental shifts; when volume volatility is also high, the probability of a mean-reversion reversal increases.\n                concise Specification: The factor is defined as: Gap * TS_ZScore((High - Low) / ATR(20), 20), where Gap is (Open - Prev_Close) / Prev_Close and ATR(20) is the 20-day Average True Range; a high positive value suggests a gap-up with extreme intensity (sell signal), and a low negative value suggests a gap-down with extreme intensity (buy signal).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "67a65f59ba9a",
      "parent_trajectory_ids": [
        "493f083fc9f4",
        "ccbd1a1bc892"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0074614630650547,
        "ICIR": 0.0552835729971314,
        "RankIC": 0.0252842146188579,
        "RankICIR": 0.1900184381652116,
        "annualized_return": 0.070876744457745,
        "information_ratio": 1.0589173674031032,
        "max_drawdown": -0.0948577377005152
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T05:17:13.624532",
      "updated_at": "2026-01-17T05:17:13.624539"
    },
    "17dc6ce14c0fa34f": {
      "factor_id": "17dc6ce14c0fa34f",
      "factor_name": "Liquidity_Exhaustion_Gap_Factor",
      "factor_expression": "RANK(($open - DELAY($close, 1)) / (DELAY($close, 1) + 1e-8)) * TS_RANK(($high - $low) / (TS_STD($close, 20) + 1e-8), 20)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($open - DELAY($close, 1)) / (DELAY($close, 1) + 1e-8)) * TS_RANK(($high - $low) / (TS_STD($close, 20) + 1e-8), 20)\" # Your output factor expression will be filled in here\n    name = \"Liquidity_Exhaustion_Gap_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the intensity-adjusted gap reversal. It uses the cross-sectional rank of the overnight gap and the time-series rank of the intraday range relative to volume-weighted volatility to find high-conviction reversal points.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Intraday Intensity-Adjusted Gap Reversal' factor, calculated as the product of the overnight price gap and the 20-day Z-score of the (High-Low)/ATR20 ratio, identifies high-conviction mean-reversion signals by isolating liquidity-driven exhaustion points.\n                Concise Observation: Parent 1 showed that normalized intraday intensity (Range/ATR) captures price exhaustion (RankIC 0.029), while Parent 2 demonstrated that overnight gaps coupled with volume dispersion signal reversals (RankIC 0.022); combining these filters out 'noisy' gaps that lack the volatility confirmation needed for high-conviction trades.\n                Concise Justification: By scaling the overnight gap by the relative intraday intensity, we weight the signal toward 'over-extended' states where the price has moved significantly beyond its typical volatility envelope, suggesting a higher likelihood of inventory-driven correction.\n                Concise Knowledge: If an overnight price gap occurs in conjunction with extreme intraday price range expansion relative to its historical ATR, the price movement is more likely driven by temporary liquidity imbalances rather than fundamental shifts; when volume volatility is also high, the probability of a mean-reversion reversal increases.\n                concise Specification: The factor is defined as: Gap * TS_ZScore((High - Low) / ATR(20), 20), where Gap is (Open - Prev_Close) / Prev_Close and ATR(20) is the 20-day Average True Range; a high positive value suggests a gap-up with extreme intensity (sell signal), and a low negative value suggests a gap-down with extreme intensity (buy signal).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "67a65f59ba9a",
      "parent_trajectory_ids": [
        "493f083fc9f4",
        "ccbd1a1bc892"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0074614630650547,
        "ICIR": 0.0552835729971314,
        "RankIC": 0.0252842146188579,
        "RankICIR": 0.1900184381652116,
        "annualized_return": 0.070876744457745,
        "information_ratio": 1.0589173674031032,
        "max_drawdown": -0.0948577377005152
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T05:17:13.649487",
      "updated_at": "2026-01-17T05:17:13.649493"
    },
    "c8fca406cf44ce2a": {
      "factor_id": "c8fca406cf44ce2a",
      "factor_name": "Volatility_Confirmed_Gap_Reversal",
      "factor_expression": "ZSCORE((($open - DELAY($close, 1)) / (DELAY($close, 1) + 1e-8)) * (($high - $low) / (TS_MEAN($high - $low, 10) + 1e-8)))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE((($open - DELAY($close, 1)) / (DELAY($close, 1) + 1e-8)) * (($high - $low) / (TS_MEAN($high - $low, 10) + 1e-8)))\" # Your output factor expression will be filled in here\n    name = \"Volatility_Confirmed_Gap_Reversal\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures price exhaustion by checking if the overnight gap is accompanied by an extreme intraday range relative to its 10-day historical mean, then applying a cross-sectional Z-score for comparability.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Intraday Intensity-Adjusted Gap Reversal' factor, calculated as the product of the overnight price gap and the 20-day Z-score of the (High-Low)/ATR20 ratio, identifies high-conviction mean-reversion signals by isolating liquidity-driven exhaustion points.\n                Concise Observation: Parent 1 showed that normalized intraday intensity (Range/ATR) captures price exhaustion (RankIC 0.029), while Parent 2 demonstrated that overnight gaps coupled with volume dispersion signal reversals (RankIC 0.022); combining these filters out 'noisy' gaps that lack the volatility confirmation needed for high-conviction trades.\n                Concise Justification: By scaling the overnight gap by the relative intraday intensity, we weight the signal toward 'over-extended' states where the price has moved significantly beyond its typical volatility envelope, suggesting a higher likelihood of inventory-driven correction.\n                Concise Knowledge: If an overnight price gap occurs in conjunction with extreme intraday price range expansion relative to its historical ATR, the price movement is more likely driven by temporary liquidity imbalances rather than fundamental shifts; when volume volatility is also high, the probability of a mean-reversion reversal increases.\n                concise Specification: The factor is defined as: Gap * TS_ZScore((High - Low) / ATR(20), 20), where Gap is (Open - Prev_Close) / Prev_Close and ATR(20) is the 20-day Average True Range; a high positive value suggests a gap-up with extreme intensity (sell signal), and a low negative value suggests a gap-down with extreme intensity (buy signal).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "67a65f59ba9a",
      "parent_trajectory_ids": [
        "493f083fc9f4",
        "ccbd1a1bc892"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0074614630650547,
        "ICIR": 0.0552835729971314,
        "RankIC": 0.0252842146188579,
        "RankICIR": 0.1900184381652116,
        "annualized_return": 0.070876744457745,
        "information_ratio": 1.0589173674031032,
        "max_drawdown": -0.0948577377005152
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T05:17:13.674106",
      "updated_at": "2026-01-17T05:17:13.674112"
    },
    "4c772ab65d1c8aef": {
      "factor_id": "4c772ab65d1c8aef",
      "factor_name": "LGGRF_Gap_Intensity_10D",
      "factor_expression": "TS_ZSCORE(ABS($open - DELAY($close, 1)), 10) * TS_ZSCORE(($high - $low) / ($volume + 1e-8), 10)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE(ABS($open - DELAY($close, 1)), 10) * TS_ZSCORE(($high - $low) / ($volume + 1e-8), 10)\" # Your output factor expression will be filled in here\n    name = \"LGGRF_Gap_Intensity_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "The Liquidity-Gated Gap Reversion Factor (LGGRF) identifies potential mean reversion by combining overnight price shocks with intraday price expansion on low volume. It calculates the product of the 10-day time-series Z-score of the overnight gap and the 10-day time-series Z-score of intraday intensity (range divided by volume). High values suggest the price movement is overextended and lacks institutional liquidity support.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Liquidity-Gated Gap Reversion Factor (LGGRF) predicts short-term price reversals by identifying large overnight price gaps that are subsequently accompanied by intraday price expansion on declining volume intensity, signaling a lack of institutional support for the gap's direction.\n                Concise Observation: Parent 1 showed that overnight gaps (RankIC 0.0245) have mean-reversion potential, while Parent 2 showed that intraday price extremes on low volume (RankIC 0.0269) signal exhaustion; combining them addresses the weakness of trading gaps that are actually supported by strong intraday flow.\n                Concise Justification: Overnight gaps represent information shocks, but their sustainability depends on intraday follow-through; a 'liquidity trap' occurs when price continues to move in the gap direction but volume fades, suggesting the initial shock has overextended beyond the market's current clearing capacity.\n                Concise Knowledge: If an overnight price gap is followed by intraday price extremes reached with lower-than-average volume, the price movement is likely exhaustive; when high overnight volatility meets low intraday liquidity, mean reversion is more probable than trend continuation.\n                concise Specification: Define Gap as abs(Open - Close[1]); define Intraday Intensity as (High - Low) / Volume; the factor is the product of the 10-day Z-score of the Gap and the 10-day Z-score of the Intraday Intensity, where a high value indicates a volatile gap followed by exhaustive intraday price action.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "61b88053c4c0",
      "parent_trajectory_ids": [
        "5482374782e1",
        "3806921571eb"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0043323998793942,
        "ICIR": 0.0323540901856198,
        "RankIC": 0.0212825093775084,
        "RankICIR": 0.1617653671916123,
        "annualized_return": 0.0502685120758134,
        "information_ratio": 0.8333518050177452,
        "max_drawdown": -0.074595041048191
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T05:20:12.919859",
      "updated_at": "2026-01-17T05:20:12.919865"
    },
    "80430b43effd83e0": {
      "factor_id": "80430b43effd83e0",
      "factor_name": "Liquidity_Trap_Reversal_20D",
      "factor_expression": "RANK(TS_ZSCORE(ABS($open - DELAY($close, 1)), 20)) + RANK(TS_ZSCORE(($high - $low) / ($volume + 1e-8), 20))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_ZSCORE(ABS($open - DELAY($close, 1)), 20)) + RANK(TS_ZSCORE(($high - $low) / ($volume + 1e-8), 20))\" # Your output factor expression will be filled in here\n    name = \"Liquidity_Trap_Reversal_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures 'liquidity traps' where overnight gaps are followed by low-volume intraday price ranges. It uses a 20-day window to normalize the gap and intensity, then applies a cross-sectional rank to identify stocks with the most exhaustive price action relative to their peers. High ranks indicate a higher probability of short-term reversal.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Liquidity-Gated Gap Reversion Factor (LGGRF) predicts short-term price reversals by identifying large overnight price gaps that are subsequently accompanied by intraday price expansion on declining volume intensity, signaling a lack of institutional support for the gap's direction.\n                Concise Observation: Parent 1 showed that overnight gaps (RankIC 0.0245) have mean-reversion potential, while Parent 2 showed that intraday price extremes on low volume (RankIC 0.0269) signal exhaustion; combining them addresses the weakness of trading gaps that are actually supported by strong intraday flow.\n                Concise Justification: Overnight gaps represent information shocks, but their sustainability depends on intraday follow-through; a 'liquidity trap' occurs when price continues to move in the gap direction but volume fades, suggesting the initial shock has overextended beyond the market's current clearing capacity.\n                Concise Knowledge: If an overnight price gap is followed by intraday price extremes reached with lower-than-average volume, the price movement is likely exhaustive; when high overnight volatility meets low intraday liquidity, mean reversion is more probable than trend continuation.\n                concise Specification: Define Gap as abs(Open - Close[1]); define Intraday Intensity as (High - Low) / Volume; the factor is the product of the 10-day Z-score of the Gap and the 10-day Z-score of the Intraday Intensity, where a high value indicates a volatile gap followed by exhaustive intraday price action.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "61b88053c4c0",
      "parent_trajectory_ids": [
        "5482374782e1",
        "3806921571eb"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0043323998793942,
        "ICIR": 0.0323540901856198,
        "RankIC": 0.0212825093775084,
        "RankICIR": 0.1617653671916123,
        "annualized_return": 0.0502685120758134,
        "information_ratio": 0.8333518050177452,
        "max_drawdown": -0.074595041048191
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T05:20:12.944776",
      "updated_at": "2026-01-17T05:20:12.944781"
    },
    "c93af09889ffcd5b": {
      "factor_id": "c93af09889ffcd5b",
      "factor_name": "Exhaustive_Gap_Index_5D",
      "factor_expression": "TS_MEAN((ABS($open - DELAY($close, 1)) * ($high - $low)) / ($volume + 1e-8), 5)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN((ABS($open - DELAY($close, 1)) * ($high - $low)) / ($volume + 1e-8), 5)\" # Your output factor expression will be filled in here\n    name = \"Exhaustive_Gap_Index_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A shorter-term version of the liquidity-gated gap factor focusing on a 5-day window. It identifies extreme exhaustion by multiplying the normalized overnight gap by the ratio of intraday range to volume, smoothed over 5 days to capture immediate mean-reversion signals.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Liquidity-Gated Gap Reversion Factor (LGGRF) predicts short-term price reversals by identifying large overnight price gaps that are subsequently accompanied by intraday price expansion on declining volume intensity, signaling a lack of institutional support for the gap's direction.\n                Concise Observation: Parent 1 showed that overnight gaps (RankIC 0.0245) have mean-reversion potential, while Parent 2 showed that intraday price extremes on low volume (RankIC 0.0269) signal exhaustion; combining them addresses the weakness of trading gaps that are actually supported by strong intraday flow.\n                Concise Justification: Overnight gaps represent information shocks, but their sustainability depends on intraday follow-through; a 'liquidity trap' occurs when price continues to move in the gap direction but volume fades, suggesting the initial shock has overextended beyond the market's current clearing capacity.\n                Concise Knowledge: If an overnight price gap is followed by intraday price extremes reached with lower-than-average volume, the price movement is likely exhaustive; when high overnight volatility meets low intraday liquidity, mean reversion is more probable than trend continuation.\n                concise Specification: Define Gap as abs(Open - Close[1]); define Intraday Intensity as (High - Low) / Volume; the factor is the product of the 10-day Z-score of the Gap and the 10-day Z-score of the Intraday Intensity, where a high value indicates a volatile gap followed by exhaustive intraday price action.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "61b88053c4c0",
      "parent_trajectory_ids": [
        "5482374782e1",
        "3806921571eb"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0043323998793942,
        "ICIR": 0.0323540901856198,
        "RankIC": 0.0212825093775084,
        "RankICIR": 0.1617653671916123,
        "annualized_return": 0.0502685120758134,
        "information_ratio": 0.8333518050177452,
        "max_drawdown": -0.074595041048191
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T05:20:12.972425",
      "updated_at": "2026-01-17T05:20:12.972431"
    },
    "25427044e1ce974e": {
      "factor_id": "25427044e1ce974e",
      "factor_name": "SEMS_Linearity_Exhaustion_10D",
      "factor_expression": "POW(TS_CORR($close, SEQUENCE(10), 10), 2) * TS_MEAN(($high - $low) / ($volume + 1e-8), 5)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"POW(TS_CORR($close, SEQUENCE(10), 10), 2) * TS_MEAN(($high - $low) / ($volume + 1e-8), 5)\" # Your output factor expression will be filled in here\n    name = \"SEMS_Linearity_Exhaustion_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies potential price reversals by multiplying the trend linearity (R-squared of price over 10 days) with the 5-day average of liquidity exhaustion (price range per unit of volume). High values suggest a strong trend is losing institutional backing and becoming 'thin'.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Structural Exhaustion Multi-Scale (SEMS) factor identifies price reversals by multiplying the 10-day price trend linearity (RSQR) with the 5-day average ratio of price range to volume intensity, capturing the convergence of macro-trend maturity and micro-liquidity collapse.\n                Concise Observation: Parent 1 (RSQR10) captures medium-term trend persistence (RankIC 0.0243), while Parent 2 (ILEF) captures short-term liquidity traps (RankIC 0.0270); combining them addresses the weakness of entering reversals too early in strong linear trends.\n                Concise Justification: Linear trends (high RSQR) are sustainable only if supported by efficient liquidity; a rising price-to-volume ratio (range/volume) at the end of such a trend indicates 'thin' trading and a liquidity void, signaling an imminent structural breakdown.\n                Concise Knowledge: If a price trend exhibits high statistical linearity but is accompanied by a decreasing ratio of price movement per unit of volume, then the trend is likely driven by retail exhaustion rather than institutional conviction; when these multi-scale signals align, the probability of mean reversion increases.\n                concise Specification: Calculate RSQR of close prices over 10 days; calculate the daily Liquidity Intensity as (High - Low) / Volume; compute the 5-day moving average of this intensity; the final factor is the product of RSQR and the 5-day intensity average, targeting assets with high linearity and high liquidity exhaustion.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "a34c9bb86b45",
      "parent_trajectory_ids": [
        "3cb6ea9034b4",
        "3806921571eb"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0038162505599264,
        "ICIR": 0.0278069908189633,
        "RankIC": 0.0196482391902487,
        "RankICIR": 0.1453964088361926,
        "annualized_return": 0.0303750622438065,
        "information_ratio": 0.4422539176493897,
        "max_drawdown": -0.101040702168971
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T05:34:45.766346",
      "updated_at": "2026-01-17T05:34:45.766352"
    },
    "58eb807b84a6278a": {
      "factor_id": "58eb807b84a6278a",
      "factor_name": "SEMS_Ranked_Reversal_Signal",
      "factor_expression": "RANK(TS_CORR($close, SEQUENCE(10), 10)) * RANK(TS_MEAN(($high - $low) / ($volume + 1e-8), 5))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_CORR($close, SEQUENCE(10), 10)) * RANK(TS_MEAN(($high - $low) / ($volume + 1e-8), 5))\" # Your output factor expression will be filled in here\n    name = \"SEMS_Ranked_Reversal_Signal\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally robust version of the Structural Exhaustion Multi-Scale factor. It combines the 10-day price trend linearity with the short-term liquidity intensity, applying RANK to both components to ensure scale-invariance across different assets.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Structural Exhaustion Multi-Scale (SEMS) factor identifies price reversals by multiplying the 10-day price trend linearity (RSQR) with the 5-day average ratio of price range to volume intensity, capturing the convergence of macro-trend maturity and micro-liquidity collapse.\n                Concise Observation: Parent 1 (RSQR10) captures medium-term trend persistence (RankIC 0.0243), while Parent 2 (ILEF) captures short-term liquidity traps (RankIC 0.0270); combining them addresses the weakness of entering reversals too early in strong linear trends.\n                Concise Justification: Linear trends (high RSQR) are sustainable only if supported by efficient liquidity; a rising price-to-volume ratio (range/volume) at the end of such a trend indicates 'thin' trading and a liquidity void, signaling an imminent structural breakdown.\n                Concise Knowledge: If a price trend exhibits high statistical linearity but is accompanied by a decreasing ratio of price movement per unit of volume, then the trend is likely driven by retail exhaustion rather than institutional conviction; when these multi-scale signals align, the probability of mean reversion increases.\n                concise Specification: Calculate RSQR of close prices over 10 days; calculate the daily Liquidity Intensity as (High - Low) / Volume; compute the 5-day moving average of this intensity; the final factor is the product of RSQR and the 5-day intensity average, targeting assets with high linearity and high liquidity exhaustion.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "a34c9bb86b45",
      "parent_trajectory_ids": [
        "3cb6ea9034b4",
        "3806921571eb"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0038162505599264,
        "ICIR": 0.0278069908189633,
        "RankIC": 0.0196482391902487,
        "RankICIR": 0.1453964088361926,
        "annualized_return": 0.0303750622438065,
        "information_ratio": 0.4422539176493897,
        "max_drawdown": -0.101040702168971
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T05:34:45.791633",
      "updated_at": "2026-01-17T05:34:45.791639"
    },
    "cda1b49df004b2e6": {
      "factor_id": "cda1b49df004b2e6",
      "factor_name": "SEMS_Zscore_Exhaustion_15D",
      "factor_expression": "TS_ZSCORE(POW(TS_CORR($close, SEQUENCE(15), 15), 2) * TS_MEAN(($high - $low) / ($volume + 1e-8), 5), 20)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE(POW(TS_CORR($close, SEQUENCE(15), 15), 2) * TS_MEAN(($high - $low) / ($volume + 1e-8), 5), 20)\" # Your output factor expression will be filled in here\n    name = \"SEMS_Zscore_Exhaustion_15D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This variation uses a 15-day window for trend linearity and a 5-day window for liquidity exhaustion, standardized using TS_ZSCORE to identify extreme exhaustion events relative to the asset's own history before a reversal.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Structural Exhaustion Multi-Scale (SEMS) factor identifies price reversals by multiplying the 10-day price trend linearity (RSQR) with the 5-day average ratio of price range to volume intensity, capturing the convergence of macro-trend maturity and micro-liquidity collapse.\n                Concise Observation: Parent 1 (RSQR10) captures medium-term trend persistence (RankIC 0.0243), while Parent 2 (ILEF) captures short-term liquidity traps (RankIC 0.0270); combining them addresses the weakness of entering reversals too early in strong linear trends.\n                Concise Justification: Linear trends (high RSQR) are sustainable only if supported by efficient liquidity; a rising price-to-volume ratio (range/volume) at the end of such a trend indicates 'thin' trading and a liquidity void, signaling an imminent structural breakdown.\n                Concise Knowledge: If a price trend exhibits high statistical linearity but is accompanied by a decreasing ratio of price movement per unit of volume, then the trend is likely driven by retail exhaustion rather than institutional conviction; when these multi-scale signals align, the probability of mean reversion increases.\n                concise Specification: Calculate RSQR of close prices over 10 days; calculate the daily Liquidity Intensity as (High - Low) / Volume; compute the 5-day moving average of this intensity; the final factor is the product of RSQR and the 5-day intensity average, targeting assets with high linearity and high liquidity exhaustion.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "a34c9bb86b45",
      "parent_trajectory_ids": [
        "3cb6ea9034b4",
        "3806921571eb"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0038162505599264,
        "ICIR": 0.0278069908189633,
        "RankIC": 0.0196482391902487,
        "RankICIR": 0.1453964088361926,
        "annualized_return": 0.0303750622438065,
        "information_ratio": 0.4422539176493897,
        "max_drawdown": -0.101040702168971
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T05:34:45.816466",
      "updated_at": "2026-01-17T05:34:45.816471"
    },
    "3aa5d8e96e906741": {
      "factor_id": "3aa5d8e96e906741",
      "factor_name": "ILVG_Base_5D",
      "factor_expression": "($open / DELAY($close, 1) - 1) / (($high - $low) / ($close + 1e-8) / ($volume / (TS_MEAN(DELAY($volume, 1), 5) + 1e-8) + 1e-8) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"($open / DELAY($close, 1) - 1) / (($high - $low) / ($close + 1e-8) / ($volume / (TS_MEAN(DELAY($volume, 1), 5) + 1e-8) + 1e-8) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"ILVG_Base_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "The Informed Liquidity-Validation Gap (ILVG) factor. It scales the overnight return (sentiment) by the inverse of the price movement cost (intraday range relative to volume intensity). High volume supporting a narrow range after a gap indicates efficient price discovery, while low volume with high volatility suggests a 'hollow' gap prone to reversal.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Informed Liquidity-Validation Gap (ILVG) factor, defined as the overnight return divided by the ratio of intraday price range (High-Low) to relative volume intensity over a 5-day window, predicts positive returns when gaps are efficiently supported by volume and negative returns when gaps are 'hollow' expansions.\n                Concise Observation: Parent 1 showed that overnight gaps carry sentiment (RankIC 0.0216), while Parent 2 demonstrated that the ratio of price range to volume intensity (VVDE) identifies price efficiency (RankIC 0.0298).\n                Concise Justification: By scaling the overnight sentiment signal by the inverse of the 'cost of price movement' (VVDE), we filter out gaps that lack liquidity validation, thereby isolating high-conviction institutional flows from retail-driven exhaustion gaps.\n                Concise Knowledge: If an overnight price gap is accompanied by high intraday volatility but low relative volume, the price move is likely noise-driven and prone to mean reversion; conversely, when high volume supports a narrow intraday range following a gap, the price discovery is efficient and momentum-persistent.\n                concise Specification: The ILVG factor is calculated as (Open_t / Close_{t-1} - 1) / ((High_t - Low_t) / Close_t / (Volume_t / Mean(Volume_{t-1...t-5}))). The look-back period for volume normalization is 5 days, and the intraday range is normalized by the current close price.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "21809a7d6aca",
      "parent_trajectory_ids": [
        "c45ed08a92fb",
        "7fb27aabe9cd"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0065254216645761,
        "ICIR": 0.0472355092847189,
        "RankIC": 0.0270520258483099,
        "RankICIR": 0.2024824929100111,
        "annualized_return": 0.0821097882309767,
        "information_ratio": 1.2176888122530412,
        "max_drawdown": -0.098122127271157
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:12:54.311467",
      "updated_at": "2026-01-17T07:12:54.311474"
    },
    "fd532a0a4a268e0d": {
      "factor_id": "fd532a0a4a268e0d",
      "factor_name": "Ranked_ILVG_Efficiency_5D",
      "factor_expression": "RANK($open / DELAY($close, 1) - 1) * RANK(($volume / (TS_MEAN(DELAY($volume, 1), 5) + 1e-8)) / (($high - $low) / ($close + 1e-8) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN(RANK($open / DELAY($close, 1) - 1) * RANK(($volume / (TS_MEAN(DELAY($volume, 1), 5) + 1e-8)) / (($high - $low) / ($close + 1e-8) + 1e-8)), 5)\" # Your output factor expression will be filled in here\n    name = \"Ranked_ILVG_Efficiency_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally robust version of the ILVG factor. It uses RANK to normalize the overnight gap and the volume-validated intraday range (VVDE) before combining them. This reduces the impact of outliers in price range and volume spikes, focusing on the relative conviction of the gap across the universe.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Informed Liquidity-Validation Gap (ILVG) factor, defined as the overnight return divided by the ratio of intraday price range (High-Low) to relative volume intensity over a 5-day window, predicts positive returns when gaps are efficiently supported by volume and negative returns when gaps are 'hollow' expansions.\n                Concise Observation: Parent 1 showed that overnight gaps carry sentiment (RankIC 0.0216), while Parent 2 demonstrated that the ratio of price range to volume intensity (VVDE) identifies price efficiency (RankIC 0.0298).\n                Concise Justification: By scaling the overnight sentiment signal by the inverse of the 'cost of price movement' (VVDE), we filter out gaps that lack liquidity validation, thereby isolating high-conviction institutional flows from retail-driven exhaustion gaps.\n                Concise Knowledge: If an overnight price gap is accompanied by high intraday volatility but low relative volume, the price move is likely noise-driven and prone to mean reversion; conversely, when high volume supports a narrow intraday range following a gap, the price discovery is efficient and momentum-persistent.\n                concise Specification: The ILVG factor is calculated as (Open_t / Close_{t-1} - 1) / ((High_t - Low_t) / Close_t / (Volume_t / Mean(Volume_{t-1...t-5}))). The look-back period for volume normalization is 5 days, and the intraday range is normalized by the current close price.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "21809a7d6aca",
      "parent_trajectory_ids": [
        "c45ed08a92fb",
        "7fb27aabe9cd"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0065254216645761,
        "ICIR": 0.0472355092847189,
        "RankIC": 0.0270520258483099,
        "RankICIR": 0.2024824929100111,
        "annualized_return": 0.0821097882309767,
        "information_ratio": 1.2176888122530412,
        "max_drawdown": -0.098122127271157
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:12:54.339426",
      "updated_at": "2026-01-17T07:12:54.339432"
    },
    "c077f13bd7bec6f8": {
      "factor_id": "c077f13bd7bec6f8",
      "factor_name": "Smoothed_ILVG_Validation_10D",
      "factor_expression": "($open / DELAY($close, 1) - 1) * TS_MEAN(($volume / (TS_MEAN(DELAY($volume, 1), 5) + 1e-8)) / (($high - $low) / ($close + 1e-8) + 1e-8), 10)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"($open / DELAY($close, 1) - 1) * TS_MEAN(($volume / (TS_MEAN(DELAY($volume, 1), 5) + 1e-8)) / (($high - $low) / ($close + 1e-8) + 1e-8), 10)\" # Your output factor expression will be filled in here\n    name = \"Smoothed_ILVG_Validation_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A smoothed version of the Informed Liquidity-Validation Gap that uses a 10-day moving average of the validation component (Volume/Range) to identify persistent institutional support for overnight moves rather than single-day noise.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Informed Liquidity-Validation Gap (ILVG) factor, defined as the overnight return divided by the ratio of intraday price range (High-Low) to relative volume intensity over a 5-day window, predicts positive returns when gaps are efficiently supported by volume and negative returns when gaps are 'hollow' expansions.\n                Concise Observation: Parent 1 showed that overnight gaps carry sentiment (RankIC 0.0216), while Parent 2 demonstrated that the ratio of price range to volume intensity (VVDE) identifies price efficiency (RankIC 0.0298).\n                Concise Justification: By scaling the overnight sentiment signal by the inverse of the 'cost of price movement' (VVDE), we filter out gaps that lack liquidity validation, thereby isolating high-conviction institutional flows from retail-driven exhaustion gaps.\n                Concise Knowledge: If an overnight price gap is accompanied by high intraday volatility but low relative volume, the price move is likely noise-driven and prone to mean reversion; conversely, when high volume supports a narrow intraday range following a gap, the price discovery is efficient and momentum-persistent.\n                concise Specification: The ILVG factor is calculated as (Open_t / Close_{t-1} - 1) / ((High_t - Low_t) / Close_t / (Volume_t / Mean(Volume_{t-1...t-5}))). The look-back period for volume normalization is 5 days, and the intraday range is normalized by the current close price.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "21809a7d6aca",
      "parent_trajectory_ids": [
        "c45ed08a92fb",
        "7fb27aabe9cd"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0065254216645761,
        "ICIR": 0.0472355092847189,
        "RankIC": 0.0270520258483099,
        "RankICIR": 0.2024824929100111,
        "annualized_return": 0.0821097882309767,
        "information_ratio": 1.2176888122530412,
        "max_drawdown": -0.098122127271157
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:12:54.366828",
      "updated_at": "2026-01-17T07:12:54.366834"
    },
    "82c28ed6e206d317": {
      "factor_id": "82c28ed6e206d317",
      "factor_name": "LRRF_Liquidity_Exhaustion_20D",
      "factor_expression": "(($high - $low) / (TS_STD($close, 14) + 1e-8)) / (TS_MEAN($volume, 5) + 1e-8) * (1 - ABS(TS_CORR($close, $volume, 20)))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($high - $low) / (TS_STD($close, 14) + 1e-8)) / (TS_MEAN($volume, 5) + 1e-8) * (1 - ABS(TS_CORR($close, $volume, 20)))\" # Your output factor expression will be filled in here\n    name = \"LRRF_Liquidity_Exhaustion_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies potential mean-reversion points by detecting liquidity exhaustion. It calculates the ratio of intraday price dispersion (High-Low) normalized by volatility (ATR) to the average volume. This signal is then weighted by the divergence from typical price-volume correlation (1 - ABS(CORR)) to filter for non-trending 'failed' discovery moves.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Liquidity-Regime Reversal Factor (LRRF) identifies high-conviction mean-reversion points by combining ATR-normalized intraday price dispersion with a volume-exhaustion filter, weighted by the 20-day price-volume correlation and validated by the ratio of overnight gaps to previous day volatility.\n                Concise Observation: Parent 1 successfully used High-Low/Volume for mean reversion (RankIC 0.026), while Parent 2 showed that price-volume correlation and overnight gaps (RankIC 0.031) provide strong regime filters, suggesting a synergistic effect if combined.\n                Concise Justification: Liquidity exhaustion is most predictive of reversal when it represents a 'failed' price discovery process (low correlation) rather than a trending move, and scaling by ATR ensures that the dispersion signal is statistically significant relative to the asset's historical noise.\n                Concise Knowledge: If extreme price dispersion occurs on declining volume while price-volume correlation is low, a liquidity vacuum is likely; when these signals are normalized by ATR and confirmed by overnight gaps, the resulting reversal signal is more robust across different volatility regimes.\n                concise Specification: Calculate the ratio of (High-Low)/ATR(14) divided by Volume(5-day mean), multiply by the absolute difference of 1 and the 20-day Spearman correlation of price and volume, then scale by the ratio of the absolute overnight gap to the 14-day ATR.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "32d8562e2ac5",
      "parent_trajectory_ids": [
        "0b251d2e379b",
        "c42ef4440166"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.004582143450058,
        "ICIR": 0.0323815285094316,
        "RankIC": 0.0206565794098764,
        "RankICIR": 0.1499498185884695,
        "annualized_return": 0.032041373972513,
        "information_ratio": 0.4373950925488938,
        "max_drawdown": -0.120092798839113
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:20:03.581524",
      "updated_at": "2026-01-17T07:20:03.581531"
    },
    "722b01272514c293": {
      "factor_id": "722b01272514c293",
      "factor_name": "LRRF_Gap_Volatility_Reversal_14D",
      "factor_expression": "(ABS($open - DELAY($close, 1)) / (TS_STD($close, 14) + 1e-8)) * RANK(($high - $low) / (TS_STD($close, 14) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(ABS($open - DELAY($close, 1)) / (TS_STD($close, 14) + 1e-8)) * RANK(($high - $low) / (TS_STD($close, 14) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"LRRF_Gap_Volatility_Reversal_14D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor focuses on the validation of reversal signals using overnight gaps relative to historical volatility. It identifies regimes where the overnight price jump is large compared to the 14-day ATR, suggesting a liquidity vacuum that is likely to revert when combined with high intraday price dispersion.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Liquidity-Regime Reversal Factor (LRRF) identifies high-conviction mean-reversion points by combining ATR-normalized intraday price dispersion with a volume-exhaustion filter, weighted by the 20-day price-volume correlation and validated by the ratio of overnight gaps to previous day volatility.\n                Concise Observation: Parent 1 successfully used High-Low/Volume for mean reversion (RankIC 0.026), while Parent 2 showed that price-volume correlation and overnight gaps (RankIC 0.031) provide strong regime filters, suggesting a synergistic effect if combined.\n                Concise Justification: Liquidity exhaustion is most predictive of reversal when it represents a 'failed' price discovery process (low correlation) rather than a trending move, and scaling by ATR ensures that the dispersion signal is statistically significant relative to the asset's historical noise.\n                Concise Knowledge: If extreme price dispersion occurs on declining volume while price-volume correlation is low, a liquidity vacuum is likely; when these signals are normalized by ATR and confirmed by overnight gaps, the resulting reversal signal is more robust across different volatility regimes.\n                concise Specification: Calculate the ratio of (High-Low)/ATR(14) divided by Volume(5-day mean), multiply by the absolute difference of 1 and the 20-day Spearman correlation of price and volume, then scale by the ratio of the absolute overnight gap to the 14-day ATR.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "32d8562e2ac5",
      "parent_trajectory_ids": [
        "0b251d2e379b",
        "c42ef4440166"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.004582143450058,
        "ICIR": 0.0323815285094316,
        "RankIC": 0.0206565794098764,
        "RankICIR": 0.1499498185884695,
        "annualized_return": 0.032041373972513,
        "information_ratio": 0.4373950925488938,
        "max_drawdown": -0.120092798839113
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:20:03.609356",
      "updated_at": "2026-01-17T07:20:03.609362"
    },
    "6ca82a7475bfe00f": {
      "factor_id": "6ca82a7475bfe00f",
      "factor_name": "LRRF_Combined_Regime_Factor",
      "factor_expression": "RANK(($high - $low) / ($volume + 1e-8)) * (1 - TS_CORR($close, $volume, 20))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($high - $low) / ($volume + 1e-8)) * (1 - TS_CORR($close, $volume, 20))\" # Your output factor expression will be filled in here\n    name = \"LRRF_Combined_Regime_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the Liquidity-Regime Reversal Factor. It combines the price-volume correlation filter with the ratio of intraday range to volume, cross-sectionally ranked to identify stocks experiencing the most significant liquidity-driven exhaustion relative to their peers.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Liquidity-Regime Reversal Factor (LRRF) identifies high-conviction mean-reversion points by combining ATR-normalized intraday price dispersion with a volume-exhaustion filter, weighted by the 20-day price-volume correlation and validated by the ratio of overnight gaps to previous day volatility.\n                Concise Observation: Parent 1 successfully used High-Low/Volume for mean reversion (RankIC 0.026), while Parent 2 showed that price-volume correlation and overnight gaps (RankIC 0.031) provide strong regime filters, suggesting a synergistic effect if combined.\n                Concise Justification: Liquidity exhaustion is most predictive of reversal when it represents a 'failed' price discovery process (low correlation) rather than a trending move, and scaling by ATR ensures that the dispersion signal is statistically significant relative to the asset's historical noise.\n                Concise Knowledge: If extreme price dispersion occurs on declining volume while price-volume correlation is low, a liquidity vacuum is likely; when these signals are normalized by ATR and confirmed by overnight gaps, the resulting reversal signal is more robust across different volatility regimes.\n                concise Specification: Calculate the ratio of (High-Low)/ATR(14) divided by Volume(5-day mean), multiply by the absolute difference of 1 and the 20-day Spearman correlation of price and volume, then scale by the ratio of the absolute overnight gap to the 14-day ATR.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "32d8562e2ac5",
      "parent_trajectory_ids": [
        "0b251d2e379b",
        "c42ef4440166"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.004582143450058,
        "ICIR": 0.0323815285094316,
        "RankIC": 0.0206565794098764,
        "RankICIR": 0.1499498185884695,
        "annualized_return": 0.032041373972513,
        "information_ratio": 0.4373950925488938,
        "max_drawdown": -0.120092798839113
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:20:03.636873",
      "updated_at": "2026-01-17T07:20:03.636879"
    },
    "885d228959d7ac35": {
      "factor_id": "885d228959d7ac35",
      "factor_name": "Structural_Exhaustion_Factor_V1",
      "factor_expression": "TS_STD(POW(TS_CORR($close, SEQUENCE(10), 10), 2), 20) * (TS_MEAN($high - $low, 5) / (TS_MEAN($volume, 5) / (TS_MEAN($volume, 20) + 1e-8) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_STD(POW(TS_CORR($close, SEQUENCE(10), 10), 2), 20) * (TS_MEAN($high - $low, 5) / (TS_MEAN($volume, 5) / (TS_MEAN($volume, 20) + 1e-8) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Structural_Exhaustion_Factor_V1\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies trend exhaustion by multiplying the instability of the price-time linear fit (20-day volatility of 10-day R-squared) with price-volume divergence (ATR to relative volume ratio). High values indicate a 'hollow' trend where price linearity is breaking down while liquidity support is diminishing.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Structural Exhaustion Factor' (SEF) predicts asset returns by identifying periods where high Trend Fragility (20-day volatility of 10-day price-time R-squared) coincides with high Price-Volume Divergence (5-day ATR divided by relative volume), signaling a breakdown in trend integrity.\n                Concise Observation: Parent 1 identifies regime shifts through R-squared volatility (RankIC 0.0215), while Parent 2 captures efficiency via ATR/Volume (RankIC 0.0298); combining them targets the specific failure mode where statistical linearity and volume support diverge.\n                Concise Justification: Trends often collapse when they become 'hollow'—maintaining price movement through low liquidity rather than conviction; by weighting price-volume efficiency by the instability of the trend's linear fit, we isolate high-conviction exhaustion signals.\n                Concise Knowledge: If a price trend exhibits high volatility in its linear consistency while price ranges expand on diminishing volume, then the trend is structurally exhausted; such conditions typically precede mean reversion as the 'brittle' momentum lacks liquidity support.\n                concise Specification: Calculate SEF as the product of the 20-day standard deviation of the 10-day price-time R-squared and the ratio of the 5-day ATR to the 5-day average volume normalized by its 20-day mean; high values indicate imminent reversal.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "c83bda189fad",
      "parent_trajectory_ids": [
        "d28523b947b5",
        "7fb27aabe9cd"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0029310941342914,
        "ICIR": 0.0228851278151406,
        "RankIC": 0.0172368444764199,
        "RankICIR": 0.1323453288932452,
        "annualized_return": 0.0279175594805435,
        "information_ratio": 0.4815084563662187,
        "max_drawdown": -0.1050173850263145
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:21:03.208677",
      "updated_at": "2026-01-17T07:21:03.208685"
    },
    "0c76b7045de5e73d": {
      "factor_id": "0c76b7045de5e73d",
      "factor_name": "Trend_Fragility_Efficiency_Index",
      "factor_expression": "RANK(TS_STD($return, 10)) * RANK(TS_MEAN($high - $low, 5) / (TS_MEAN($volume, 5) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_STD(TS_PCTCHANGE($close, 1), 10)) * RANK(TS_MEAN($high - $low, 5) / (TS_MEAN($volume, 5) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Trend_Fragility_Efficiency_Index\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the structural exhaustion hypothesis focusing on the ratio of price range expansion to volume support, weighted by the recent variability in price momentum consistency. It captures the breakdown of efficient market movement.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Structural Exhaustion Factor' (SEF) predicts asset returns by identifying periods where high Trend Fragility (20-day volatility of 10-day price-time R-squared) coincides with high Price-Volume Divergence (5-day ATR divided by relative volume), signaling a breakdown in trend integrity.\n                Concise Observation: Parent 1 identifies regime shifts through R-squared volatility (RankIC 0.0215), while Parent 2 captures efficiency via ATR/Volume (RankIC 0.0298); combining them targets the specific failure mode where statistical linearity and volume support diverge.\n                Concise Justification: Trends often collapse when they become 'hollow'—maintaining price movement through low liquidity rather than conviction; by weighting price-volume efficiency by the instability of the trend's linear fit, we isolate high-conviction exhaustion signals.\n                Concise Knowledge: If a price trend exhibits high volatility in its linear consistency while price ranges expand on diminishing volume, then the trend is structurally exhausted; such conditions typically precede mean reversion as the 'brittle' momentum lacks liquidity support.\n                concise Specification: Calculate SEF as the product of the 20-day standard deviation of the 10-day price-time R-squared and the ratio of the 5-day ATR to the 5-day average volume normalized by its 20-day mean; high values indicate imminent reversal.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "c83bda189fad",
      "parent_trajectory_ids": [
        "d28523b947b5",
        "7fb27aabe9cd"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0029310941342914,
        "ICIR": 0.0228851278151406,
        "RankIC": 0.0172368444764199,
        "RankICIR": 0.1323453288932452,
        "annualized_return": 0.0279175594805435,
        "information_ratio": 0.4815084563662187,
        "max_drawdown": -0.1050173850263145
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:21:03.237316",
      "updated_at": "2026-01-17T07:21:03.237323"
    },
    "256d133878405598": {
      "factor_id": "256d133878405598",
      "factor_name": "Linear_Consistency_Decay_Factor",
      "factor_expression": "TS_STD(REGRESI($close, SEQUENCE(10), 10), 20) / (TS_MEAN($volume, 10) / (TS_MEAN($volume, 40) + 1e-8) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_STD(REGRESI($close, SEQUENCE(10), 10), 20) / (TS_MEAN($volume, 10) / (TS_MEAN($volume, 40) + 1e-8) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Linear_Consistency_Decay_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor targets the 'hollow trend' hypothesis by measuring the divergence between price range (volatility) and the statistical linearity of the price path. It uses the residual of price against time as a proxy for trend instability.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Structural Exhaustion Factor' (SEF) predicts asset returns by identifying periods where high Trend Fragility (20-day volatility of 10-day price-time R-squared) coincides with high Price-Volume Divergence (5-day ATR divided by relative volume), signaling a breakdown in trend integrity.\n                Concise Observation: Parent 1 identifies regime shifts through R-squared volatility (RankIC 0.0215), while Parent 2 captures efficiency via ATR/Volume (RankIC 0.0298); combining them targets the specific failure mode where statistical linearity and volume support diverge.\n                Concise Justification: Trends often collapse when they become 'hollow'—maintaining price movement through low liquidity rather than conviction; by weighting price-volume efficiency by the instability of the trend's linear fit, we isolate high-conviction exhaustion signals.\n                Concise Knowledge: If a price trend exhibits high volatility in its linear consistency while price ranges expand on diminishing volume, then the trend is structurally exhausted; such conditions typically precede mean reversion as the 'brittle' momentum lacks liquidity support.\n                concise Specification: Calculate SEF as the product of the 20-day standard deviation of the 10-day price-time R-squared and the ratio of the 5-day ATR to the 5-day average volume normalized by its 20-day mean; high values indicate imminent reversal.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "c83bda189fad",
      "parent_trajectory_ids": [
        "d28523b947b5",
        "7fb27aabe9cd"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0029310941342914,
        "ICIR": 0.0228851278151406,
        "RankIC": 0.0172368444764199,
        "RankICIR": 0.1323453288932452,
        "annualized_return": 0.0279175594805435,
        "information_ratio": 0.4815084563662187,
        "max_drawdown": -0.1050173850263145
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:21:03.265728",
      "updated_at": "2026-01-17T07:21:03.265735"
    },
    "435a335ef9096e7a": {
      "factor_id": "435a335ef9096e7a",
      "factor_name": "LVSE_Factor_5D",
      "factor_expression": "(($open - DELAY($close, 1)) / (DELAY($close, 1) * TS_MEAN($volume, 5) + 1e-8)) * (($high - $low) / ($volume / (TS_MEAN($volume, 5) + 1e-8) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($open - DELAY($close, 1)) / (DELAY($close, 1) * TS_MEAN($volume, 5) + 1e-8)) * (($high - $low) / ($volume / (TS_MEAN($volume, 5) + 1e-8) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"LVSE_Factor_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "The Liquidity-Validated Sentiment Exhaustion (LVSE) factor identifies mean-reverting price moves by multiplying the normalized overnight gap with the intraday range efficiency. It targets 'hollow' price moves where volatility is high but relative volume is low, suggesting a lack of institutional conviction.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Liquidity-Validated Sentiment Exhaustion (LVSE) factor, defined as the product of the overnight gap normalized by the 5-day average volume and the intraday range normalized by the 5-day relative volume intensity, identifies mean-reverting price moves driven by institutional liquidity vacuums.\n                Concise Observation: Parent strategies show that overnight gaps and intraday volatility-volume divergences independently predict returns (RankIC 0.021 and 0.029), but they often suffer from false positives when institutional participation is actually high during one of the sessions.\n                Concise Justification: By multiplying the overnight exhaustion signal with the intraday efficiency signal, the factor isolates periods where price discovery is inefficient across the entire trading cycle, specifically targeting retail-driven 'liquidity vacuums' that lack the capital depth to sustain the new price level.\n                Concise Knowledge: If a significant overnight price gap is followed by a high-volatility intraday session on low relative volume, then the price move lacks institutional conviction and is likely to mean-revert; When price moves are decoupled from volume across both overnight and intraday sessions, the resulting 'hollow' expansion indicates sentiment exhaustion.\n                concise Specification: Calculate the overnight gap as (Open - Previous Close) / Previous Close; normalize this by the 5-day moving average of volume; multiply this by the ratio of the intraday range (High - Low) to the 5-day relative volume (Current Volume / 5-day Avg Volume); use a 5-day lookback for all moving averages.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "67f2bb4e6644",
      "parent_trajectory_ids": [
        "7be123f3452d",
        "7fb27aabe9cd"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0062924490755552,
        "ICIR": 0.0488930632043071,
        "RankIC": 0.0219184141665883,
        "RankICIR": 0.1712070931153219,
        "annualized_return": 0.0505599073713051,
        "information_ratio": 0.9402729093250598,
        "max_drawdown": -0.0542230106351212
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:24:16.623388",
      "updated_at": "2026-01-17T07:24:16.623395"
    },
    "24427ac81e280c5b": {
      "factor_id": "24427ac81e280c5b",
      "factor_name": "CrossSectional_LVSE_Rank",
      "factor_expression": "RANK(($open - DELAY($close, 1)) / DELAY($close, 1)) * RANK(($high - $low) / ($volume / (TS_MEAN($volume, 5) + 1e-8) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($open - DELAY($close, 1)) / DELAY($close, 1)) * RANK(($high - $low) / ($volume / (TS_MEAN($volume, 5) + 1e-8) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"CrossSectional_LVSE_Rank\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally ranked version of the LVSE factor. It isolates stocks exhibiting the most extreme decoupling between price expansion (overnight and intraday) and volume intensity over a 5-day window, signaling potential sentiment exhaustion relative to the universe.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Liquidity-Validated Sentiment Exhaustion (LVSE) factor, defined as the product of the overnight gap normalized by the 5-day average volume and the intraday range normalized by the 5-day relative volume intensity, identifies mean-reverting price moves driven by institutional liquidity vacuums.\n                Concise Observation: Parent strategies show that overnight gaps and intraday volatility-volume divergences independently predict returns (RankIC 0.021 and 0.029), but they often suffer from false positives when institutional participation is actually high during one of the sessions.\n                Concise Justification: By multiplying the overnight exhaustion signal with the intraday efficiency signal, the factor isolates periods where price discovery is inefficient across the entire trading cycle, specifically targeting retail-driven 'liquidity vacuums' that lack the capital depth to sustain the new price level.\n                Concise Knowledge: If a significant overnight price gap is followed by a high-volatility intraday session on low relative volume, then the price move lacks institutional conviction and is likely to mean-revert; When price moves are decoupled from volume across both overnight and intraday sessions, the resulting 'hollow' expansion indicates sentiment exhaustion.\n                concise Specification: Calculate the overnight gap as (Open - Previous Close) / Previous Close; normalize this by the 5-day moving average of volume; multiply this by the ratio of the intraday range (High - Low) to the 5-day relative volume (Current Volume / 5-day Avg Volume); use a 5-day lookback for all moving averages.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "67f2bb4e6644",
      "parent_trajectory_ids": [
        "7be123f3452d",
        "7fb27aabe9cd"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0062924490755552,
        "ICIR": 0.0488930632043071,
        "RankIC": 0.0219184141665883,
        "RankICIR": 0.1712070931153219,
        "annualized_return": 0.0505599073713051,
        "information_ratio": 0.9402729093250598,
        "max_drawdown": -0.0542230106351212
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:24:16.652398",
      "updated_at": "2026-01-17T07:24:16.652404"
    },
    "817200c44756edcb": {
      "factor_id": "817200c44756edcb",
      "factor_name": "Normalized_Exhaustion_Intensity_5D",
      "factor_expression": "(MAX($high, DELAY($close, 1)) - MIN($low, DELAY($close, 1))) / ($volume / (TS_MEAN($volume, 5) + 1e-8) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(MAX($high, DELAY($close, 1)) - MIN($low, DELAY($close, 1))) / ($volume / (TS_MEAN($volume, 5) + 1e-8) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Normalized_Exhaustion_Intensity_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor simplifies the LVSE hypothesis by calculating the ratio of the total daily price range (including the gap) to the relative volume intensity. High values indicate price 'sprinting' on thin liquidity, which is a precursor to mean reversion.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Liquidity-Validated Sentiment Exhaustion (LVSE) factor, defined as the product of the overnight gap normalized by the 5-day average volume and the intraday range normalized by the 5-day relative volume intensity, identifies mean-reverting price moves driven by institutional liquidity vacuums.\n                Concise Observation: Parent strategies show that overnight gaps and intraday volatility-volume divergences independently predict returns (RankIC 0.021 and 0.029), but they often suffer from false positives when institutional participation is actually high during one of the sessions.\n                Concise Justification: By multiplying the overnight exhaustion signal with the intraday efficiency signal, the factor isolates periods where price discovery is inefficient across the entire trading cycle, specifically targeting retail-driven 'liquidity vacuums' that lack the capital depth to sustain the new price level.\n                Concise Knowledge: If a significant overnight price gap is followed by a high-volatility intraday session on low relative volume, then the price move lacks institutional conviction and is likely to mean-revert; When price moves are decoupled from volume across both overnight and intraday sessions, the resulting 'hollow' expansion indicates sentiment exhaustion.\n                concise Specification: Calculate the overnight gap as (Open - Previous Close) / Previous Close; normalize this by the 5-day moving average of volume; multiply this by the ratio of the intraday range (High - Low) to the 5-day relative volume (Current Volume / 5-day Avg Volume); use a 5-day lookback for all moving averages.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "67f2bb4e6644",
      "parent_trajectory_ids": [
        "7be123f3452d",
        "7fb27aabe9cd"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0062924490755552,
        "ICIR": 0.0488930632043071,
        "RankIC": 0.0219184141665883,
        "RankICIR": 0.1712070931153219,
        "annualized_return": 0.0505599073713051,
        "information_ratio": 0.9402729093250598,
        "max_drawdown": -0.0542230106351212
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:24:16.681094",
      "updated_at": "2026-01-17T07:24:16.681099"
    },
    "4f57a842513604dc": {
      "factor_id": "4f57a842513604dc",
      "factor_name": "ILA_MeanReversion_Factor_20D",
      "factor_expression": "(($high - $low) / (TS_MEAN($volume, 5) + 1e-8)) * (($open - DELAY($close, 1)) / (TS_MEAN(ABS($high - $low), 14) + 1e-8)) * (1 - TS_CORR($close, $volume, 20))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($high - $low) / (TS_MEAN($volume, 5) + 1e-8)) * (($open - DELAY($close, 1)) / (TS_MEAN(ABS($high - $low), 14) + 1e-8)) * (1 - TS_CORR($close, $volume, 20))\" # Your output factor expression will be filled in here\n    name = \"ILA_MeanReversion_Factor_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "The Institutional Liquidity Anchor (ILA) factor identifies mean-reversion opportunities by combining liquidity exhaustion (range/volume), overnight gaps normalized by ATR, and a price-volume correlation filter. It targets 'hollow' volatility where price moves without institutional conviction.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Liquidity Anchor (ILA) factor, calculated as the product of the 5-day Mean-Reverting Liquidity Vacuum and the ratio of overnight returns to the 14-day Average True Range, inversely weighted by the 20-day price-volume correlation, identifies high-conviction mean-reversion opportunities by isolating retail-driven 'hollow' volatility from institutional trend shifts.\n                Concise Observation: Parent 1 successfully captured liquidity exhaustion (RankIC 0.026) but suffered in trending markets, while Parent 2's use of overnight gaps and price-volume correlation (RankIC 0.031) provided better regime filtering; combining them addresses the 'hollow volatility' problem where range expands without institutional backing.\n                Concise Justification: The MRLV identifies the structural imbalance between price movement and volume absorption, while the overnight-to-ATR ratio acts as a temporal exhaustion trigger; filtering these by price-volume correlation ensures the strategy avoids 'hot' trends and focuses on regimes where price action is no longer validated by participation.\n                Concise Knowledge: If extreme price range expansion occurs on diminishing volume support (low MRLV) and is accompanied by an overnight price gap that exhausts the current intraday trend (high overnight/ATR ratio), then a mean-reversion event is likely; this signal is strongest when price-volume correlation is low, indicating a decoupling of trend conviction.\n                concise Specification: The factor is defined as: [ (High-Low)/Volume_5d_Mean ] * [ (Open_t - Close_t-1) / ATR_14d ] * [ 1 - Correlation(Price, Volume, 20d) ]. It targets a 5-day mean-reversion window, requires daily OHLCV data, and uses a 20-day lookback for regime normalization.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "ba35ee401aef",
      "parent_trajectory_ids": [
        "e929c80ee882",
        "c42ef4440166"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0053902685189598,
        "ICIR": 0.0389735757534377,
        "RankIC": 0.0212505001327532,
        "RankICIR": 0.1586913891138825,
        "annualized_return": 0.0228619169740838,
        "information_ratio": 0.3241337988861403,
        "max_drawdown": -0.0977853442542883
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:25:15.234428",
      "updated_at": "2026-01-17T07:25:15.234435"
    },
    "1851a80d85192a7d": {
      "factor_id": "1851a80d85192a7d",
      "factor_name": "Liquidity_Vacuum_Exhaustion_Z",
      "factor_expression": "RANK(($high - $low) / (TS_MEAN($volume, 5) + 1e-8)) * RANK(1 - TS_CORR($close, $volume, 20))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($high - $low) / (TS_MEAN($volume, 5) + 1e-8)) * RANK(1 - TS_CORR($close, $volume, 20))\" # Your output factor expression will be filled in here\n    name = \"Liquidity_Vacuum_Exhaustion_Z\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the ILA hypothesis focusing on cross-sectional ranking of liquidity vacuums. It identifies stocks where the current intraday range relative to volume is extreme, filtered by the decoupling of price and volume trends over a 20-day window.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Liquidity Anchor (ILA) factor, calculated as the product of the 5-day Mean-Reverting Liquidity Vacuum and the ratio of overnight returns to the 14-day Average True Range, inversely weighted by the 20-day price-volume correlation, identifies high-conviction mean-reversion opportunities by isolating retail-driven 'hollow' volatility from institutional trend shifts.\n                Concise Observation: Parent 1 successfully captured liquidity exhaustion (RankIC 0.026) but suffered in trending markets, while Parent 2's use of overnight gaps and price-volume correlation (RankIC 0.031) provided better regime filtering; combining them addresses the 'hollow volatility' problem where range expands without institutional backing.\n                Concise Justification: The MRLV identifies the structural imbalance between price movement and volume absorption, while the overnight-to-ATR ratio acts as a temporal exhaustion trigger; filtering these by price-volume correlation ensures the strategy avoids 'hot' trends and focuses on regimes where price action is no longer validated by participation.\n                Concise Knowledge: If extreme price range expansion occurs on diminishing volume support (low MRLV) and is accompanied by an overnight price gap that exhausts the current intraday trend (high overnight/ATR ratio), then a mean-reversion event is likely; this signal is strongest when price-volume correlation is low, indicating a decoupling of trend conviction.\n                concise Specification: The factor is defined as: [ (High-Low)/Volume_5d_Mean ] * [ (Open_t - Close_t-1) / ATR_14d ] * [ 1 - Correlation(Price, Volume, 20d) ]. It targets a 5-day mean-reversion window, requires daily OHLCV data, and uses a 20-day lookback for regime normalization.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "ba35ee401aef",
      "parent_trajectory_ids": [
        "e929c80ee882",
        "c42ef4440166"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0053902685189598,
        "ICIR": 0.0389735757534377,
        "RankIC": 0.0212505001327532,
        "RankICIR": 0.1586913891138825,
        "annualized_return": 0.0228619169740838,
        "information_ratio": 0.3241337988861403,
        "max_drawdown": -0.0977853442542883
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:25:15.262984",
      "updated_at": "2026-01-17T07:25:15.262990"
    },
    "8577bfdf55bc246c": {
      "factor_id": "8577bfdf55bc246c",
      "factor_name": "Overnight_Gap_ATR_Filter",
      "factor_expression": "(($open - DELAY($close, 1)) / (TS_MEAN($high - $low, 14) + 1e-8)) * (1 - TS_CORR($close, $volume, 20))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($open - DELAY($close, 1)) / (TS_MEAN($high - $low, 14) + 1e-8)) * (1 - TS_CORR($close, $volume, 20))\" # Your output factor expression will be filled in here\n    name = \"Overnight_Gap_ATR_Filter\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor isolates the 'temporal exhaustion trigger' from the ILA hypothesis. It measures the overnight gap relative to the 14-day average range, scaled by the inverse of the price-volume correlation to detect non-institutional gap-and-crap scenarios.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Liquidity Anchor (ILA) factor, calculated as the product of the 5-day Mean-Reverting Liquidity Vacuum and the ratio of overnight returns to the 14-day Average True Range, inversely weighted by the 20-day price-volume correlation, identifies high-conviction mean-reversion opportunities by isolating retail-driven 'hollow' volatility from institutional trend shifts.\n                Concise Observation: Parent 1 successfully captured liquidity exhaustion (RankIC 0.026) but suffered in trending markets, while Parent 2's use of overnight gaps and price-volume correlation (RankIC 0.031) provided better regime filtering; combining them addresses the 'hollow volatility' problem where range expands without institutional backing.\n                Concise Justification: The MRLV identifies the structural imbalance between price movement and volume absorption, while the overnight-to-ATR ratio acts as a temporal exhaustion trigger; filtering these by price-volume correlation ensures the strategy avoids 'hot' trends and focuses on regimes where price action is no longer validated by participation.\n                Concise Knowledge: If extreme price range expansion occurs on diminishing volume support (low MRLV) and is accompanied by an overnight price gap that exhausts the current intraday trend (high overnight/ATR ratio), then a mean-reversion event is likely; this signal is strongest when price-volume correlation is low, indicating a decoupling of trend conviction.\n                concise Specification: The factor is defined as: [ (High-Low)/Volume_5d_Mean ] * [ (Open_t - Close_t-1) / ATR_14d ] * [ 1 - Correlation(Price, Volume, 20d) ]. It targets a 5-day mean-reversion window, requires daily OHLCV data, and uses a 20-day lookback for regime normalization.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "ba35ee401aef",
      "parent_trajectory_ids": [
        "e929c80ee882",
        "c42ef4440166"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0053902685189598,
        "ICIR": 0.0389735757534377,
        "RankIC": 0.0212505001327532,
        "RankICIR": 0.1586913891138825,
        "annualized_return": 0.0228619169740838,
        "information_ratio": 0.3241337988861403,
        "max_drawdown": -0.0977853442542883
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:25:15.291127",
      "updated_at": "2026-01-17T07:25:15.291133"
    },
    "388b5b4490903e26": {
      "factor_id": "388b5b4490903e26",
      "factor_name": "ISA_Factor_10D",
      "factor_expression": "TS_CORR($close, $volume, 10) / (($high - $low) / ($volume + 1e-8) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_CORR($close, $volume, 10) / (($high - $low) / ($volume + 1e-8) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"ISA_Factor_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Institutional Stealth Absorption (ISA) factor: It identifies high-conviction directional moves with minimal price dispersion by calculating the 10-day correlation between price and volume, normalized by the range-to-volume ratio. High values suggest institutional accumulation with low market impact.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Stealth Absorption (ISA) factor, calculated as the 10-day correlation between price and volume divided by the 10-day ratio of high-low range to volume, identifies superior returns by isolating high-conviction directional moves that occur with minimal price dispersion.\n                Concise Observation: Parent strategies showed that while price-volume correlation (RankIC 0.028) and liquidity vacuum ratios (RankIC 0.026) are independently predictive, their intersection captures 'efficient' price discovery that avoids the mean-reversion traps of high-volatility exhaustion.\n                Concise Justification: Institutional buyers seek to minimize market impact, leading to high directional conviction (correlation) with compressed intra-day ranges relative to the volume traded (absorption), whereas retail-driven moves typically exhibit high range volatility and 'hollow' liquidity.\n                Concise Knowledge: If price-volume correlation is high while price-range volatility per unit of volume is low, then the asset is likely undergoing institutional accumulation; when these conditions diverge, price moves are often driven by retail noise or liquidity exhaustion.\n                concise Specification: The factor is defined as TS_CORR($close, $volume, 10) / (($high - $low) / $volume). It expects a positive relationship with future returns, where higher values indicate 'stealth' accumulation and lower values indicate either lack of conviction or volatile price exhaustion.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "b0acffbb7c07",
      "parent_trajectory_ids": [
        "e929c80ee882",
        "27bd4849a020"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0068294348773451,
        "ICIR": 0.0468938169997795,
        "RankIC": 0.0234412453878346,
        "RankICIR": 0.1634847987247056,
        "annualized_return": 0.0335898031429351,
        "information_ratio": 0.4671604333292865,
        "max_drawdown": -0.1349401268889269
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:30:01.084851",
      "updated_at": "2026-01-17T07:30:01.084858"
    },
    "2231f6a60e698a66": {
      "factor_id": "2231f6a60e698a66",
      "factor_name": "Ranked_ISA_Efficiency_15D",
      "factor_expression": "RANK(TS_CORR($close, $volume, 15)) * RANK($volume / ($high - $low + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_CORR($close, $volume, 15)) * RANK($volume / ($high - $low + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Ranked_ISA_Efficiency_15D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally ranked version of the ISA hypothesis using a 15-day window to capture more stable institutional trends. It measures the efficiency of price discovery by comparing price-volume synchronicity against the standardized price range per unit of volume.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Stealth Absorption (ISA) factor, calculated as the 10-day correlation between price and volume divided by the 10-day ratio of high-low range to volume, identifies superior returns by isolating high-conviction directional moves that occur with minimal price dispersion.\n                Concise Observation: Parent strategies showed that while price-volume correlation (RankIC 0.028) and liquidity vacuum ratios (RankIC 0.026) are independently predictive, their intersection captures 'efficient' price discovery that avoids the mean-reversion traps of high-volatility exhaustion.\n                Concise Justification: Institutional buyers seek to minimize market impact, leading to high directional conviction (correlation) with compressed intra-day ranges relative to the volume traded (absorption), whereas retail-driven moves typically exhibit high range volatility and 'hollow' liquidity.\n                Concise Knowledge: If price-volume correlation is high while price-range volatility per unit of volume is low, then the asset is likely undergoing institutional accumulation; when these conditions diverge, price moves are often driven by retail noise or liquidity exhaustion.\n                concise Specification: The factor is defined as TS_CORR($close, $volume, 10) / (($high - $low) / $volume). It expects a positive relationship with future returns, where higher values indicate 'stealth' accumulation and lower values indicate either lack of conviction or volatile price exhaustion.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "b0acffbb7c07",
      "parent_trajectory_ids": [
        "e929c80ee882",
        "27bd4849a020"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0068294348773451,
        "ICIR": 0.0468938169997795,
        "RankIC": 0.0234412453878346,
        "RankICIR": 0.1634847987247056,
        "annualized_return": 0.0335898031429351,
        "information_ratio": 0.4671604333292865,
        "max_drawdown": -0.1349401268889269
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:30:01.114625",
      "updated_at": "2026-01-17T07:30:01.114632"
    },
    "fcc42d3aade820ce": {
      "factor_id": "fcc42d3aade820ce",
      "factor_name": "Smoothed_Stealth_Accumulation_20D",
      "factor_expression": "TS_CORR($close, $volume, 20) / (TS_MEAN(($high - $low) / ($volume + 1e-8), 20) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_CORR($close, $volume, 20) / (TS_MEAN(($high - $low) / ($volume + 1e-8), 20) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Smoothed_Stealth_Accumulation_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor refines the ISA hypothesis by applying a 20-day moving average to the absorption ratio, focusing on sustained institutional activity rather than daily noise. It isolates assets where price-volume correlation is rising while the relative range remains compressed.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Stealth Absorption (ISA) factor, calculated as the 10-day correlation between price and volume divided by the 10-day ratio of high-low range to volume, identifies superior returns by isolating high-conviction directional moves that occur with minimal price dispersion.\n                Concise Observation: Parent strategies showed that while price-volume correlation (RankIC 0.028) and liquidity vacuum ratios (RankIC 0.026) are independently predictive, their intersection captures 'efficient' price discovery that avoids the mean-reversion traps of high-volatility exhaustion.\n                Concise Justification: Institutional buyers seek to minimize market impact, leading to high directional conviction (correlation) with compressed intra-day ranges relative to the volume traded (absorption), whereas retail-driven moves typically exhibit high range volatility and 'hollow' liquidity.\n                Concise Knowledge: If price-volume correlation is high while price-range volatility per unit of volume is low, then the asset is likely undergoing institutional accumulation; when these conditions diverge, price moves are often driven by retail noise or liquidity exhaustion.\n                concise Specification: The factor is defined as TS_CORR($close, $volume, 10) / (($high - $low) / $volume). It expects a positive relationship with future returns, where higher values indicate 'stealth' accumulation and lower values indicate either lack of conviction or volatile price exhaustion.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "b0acffbb7c07",
      "parent_trajectory_ids": [
        "e929c80ee882",
        "27bd4849a020"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0068294348773451,
        "ICIR": 0.0468938169997795,
        "RankIC": 0.0234412453878346,
        "RankICIR": 0.1634847987247056,
        "annualized_return": 0.0335898031429351,
        "information_ratio": 0.4671604333292865,
        "max_drawdown": -0.1349401268889269
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:30:01.144529",
      "updated_at": "2026-01-17T07:30:01.144537"
    },
    "8f1ace708a0c8bb4": {
      "factor_id": "8f1ace708a0c8bb4",
      "factor_name": "ILCF_Conviction_Exhaustion_20D",
      "factor_expression": "(($close - $open) / ($high - $low + 1e-8)) * (1 / (TS_CORR($close, $volume, 20) * (TS_STD($close, 14) / ($close + 1e-8)) + 1e-8)) * ($open / ($DELAY($close, 1) + 1e-8) - 1)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($close - $open) / ($high - $low + 1e-8)) * (1 / (TS_CORR($close, $volume, 20) * (TS_STD($close, 14) / ($close + 1e-8)) + 1e-8)) * ($open / (DELAY($close, 1) + 1e-8) - 1)\" # Your output factor expression will be filled in here\n    name = \"ILCF_Conviction_Exhaustion_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor implements the Institutional Liquidity-Conviction Framework by multiplying intraday price conviction (body-to-range ratio) by the inverse of price-volume exhaustion, scaled by the overnight liquidity gap. It identifies high-conviction institutional moves that are not yet exhausted by volume-price divergence.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Liquidity-Conviction Framework' (ILCF) generates alpha by multiplying the intraday conviction (daily price body relative to total range) by the inverse of price-volume exhaustion, scaled by overnight liquidity gaps and volatility.\n                Concise Observation: Parent 1 showed that intraday conviction (RankIC 0.022) captures institutional flow, while Parent 2's use of overnight gaps and ATR-scaled correlation (RankIC 0.031) identifies regime exhaustion and liquidity shifts.\n                Concise Justification: Fusing these identifies 'clean' institutional moves by filtering out exhausted trends, using the overnight gap as a liquidity catalyst and the ATR-scaled body-to-range ratio as a measure of directional intensity.\n                Concise Knowledge: If intraday price conviction is high but volume-price exhaustion is low, the trend is more likely to persist; when high conviction occurs alongside high exhaustion and significant overnight gaps, it signals a potential liquidity trap or reversal.\n                concise Specification: Factor = ((Close - Open) / (High - Low + 1e-6)) * (1 / (Rolling_Corr(Price, Volume, 20) * (ATR_14 / Close) + 1e-6)) * (Open / Close_prev - 1); using 20-day correlation and 14-day ATR.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "e913fda48832",
      "parent_trajectory_ids": [
        "adb31bc9b7cc",
        "c42ef4440166"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0078853278799918,
        "ICIR": 0.0553941332374025,
        "RankIC": 0.0244174710904535,
        "RankICIR": 0.1772463916351617,
        "annualized_return": 0.025702904391085,
        "information_ratio": 0.3521897160107543,
        "max_drawdown": -0.1178038015788236
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:35:18.290141",
      "updated_at": "2026-01-17T07:35:18.290148"
    },
    "c8a012389b01c1d7": {
      "factor_id": "c8a012389b01c1d7",
      "factor_name": "Ranked_ILCF_Simplified_15D",
      "factor_expression": "RANK(($close - $open) / ($high - $low + 1e-8)) * RANK(($open / ($DELAY($close, 1) + 1e-8)) - 1) * (1 - TS_CORR($close, $volume, 15))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($close - $open) / ($high - $low + 1e-8)) * RANK(($open / (DELAY($close, 1) + 1e-8)) - 1) * (1 - TS_CORR($close, $volume, 15))\" # Your output factor expression will be filled in here\n    name = \"Ranked_ILCF_Simplified_15D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally ranked version of the ILCF hypothesis, focusing on the interaction between intraday conviction and the overnight gap, normalized by price-volume correlation to filter out exhausted trends. It uses a 15-day window for stability.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Liquidity-Conviction Framework' (ILCF) generates alpha by multiplying the intraday conviction (daily price body relative to total range) by the inverse of price-volume exhaustion, scaled by overnight liquidity gaps and volatility.\n                Concise Observation: Parent 1 showed that intraday conviction (RankIC 0.022) captures institutional flow, while Parent 2's use of overnight gaps and ATR-scaled correlation (RankIC 0.031) identifies regime exhaustion and liquidity shifts.\n                Concise Justification: Fusing these identifies 'clean' institutional moves by filtering out exhausted trends, using the overnight gap as a liquidity catalyst and the ATR-scaled body-to-range ratio as a measure of directional intensity.\n                Concise Knowledge: If intraday price conviction is high but volume-price exhaustion is low, the trend is more likely to persist; when high conviction occurs alongside high exhaustion and significant overnight gaps, it signals a potential liquidity trap or reversal.\n                concise Specification: Factor = ((Close - Open) / (High - Low + 1e-6)) * (1 / (Rolling_Corr(Price, Volume, 20) * (ATR_14 / Close) + 1e-6)) * (Open / Close_prev - 1); using 20-day correlation and 14-day ATR.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "e913fda48832",
      "parent_trajectory_ids": [
        "adb31bc9b7cc",
        "c42ef4440166"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0078853278799918,
        "ICIR": 0.0553941332374025,
        "RankIC": 0.0244174710904535,
        "RankICIR": 0.1772463916351617,
        "annualized_return": 0.025702904391085,
        "information_ratio": 0.3521897160107543,
        "max_drawdown": -0.1178038015788236
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:35:18.318750",
      "updated_at": "2026-01-17T07:35:18.318756"
    },
    "0ee50e4633690b13": {
      "factor_id": "0ee50e4633690b13",
      "factor_name": "Institutional_Intensity_Index_20D",
      "factor_expression": "ZSCORE(($close - $open) / ($high - $low + 1e-8)) * (1 - TS_CORR($close, $volume, 20))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(($close - $open) / ($high - $low + 1e-8)) * (1 - TS_CORR($close, $volume, 20))\" # Your output factor expression will be filled in here\n    name = \"Institutional_Intensity_Index_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures directional intensity by scaling the intraday body-to-range ratio with the inverse of the rolling price-volume correlation. It targets 'clean' institutional flows where price movement is not accompanied by the volume exhaustion typically seen at trend peaks.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Liquidity-Conviction Framework' (ILCF) generates alpha by multiplying the intraday conviction (daily price body relative to total range) by the inverse of price-volume exhaustion, scaled by overnight liquidity gaps and volatility.\n                Concise Observation: Parent 1 showed that intraday conviction (RankIC 0.022) captures institutional flow, while Parent 2's use of overnight gaps and ATR-scaled correlation (RankIC 0.031) identifies regime exhaustion and liquidity shifts.\n                Concise Justification: Fusing these identifies 'clean' institutional moves by filtering out exhausted trends, using the overnight gap as a liquidity catalyst and the ATR-scaled body-to-range ratio as a measure of directional intensity.\n                Concise Knowledge: If intraday price conviction is high but volume-price exhaustion is low, the trend is more likely to persist; when high conviction occurs alongside high exhaustion and significant overnight gaps, it signals a potential liquidity trap or reversal.\n                concise Specification: Factor = ((Close - Open) / (High - Low + 1e-6)) * (1 / (Rolling_Corr(Price, Volume, 20) * (ATR_14 / Close) + 1e-6)) * (Open / Close_prev - 1); using 20-day correlation and 14-day ATR.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "e913fda48832",
      "parent_trajectory_ids": [
        "adb31bc9b7cc",
        "c42ef4440166"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0078853278799918,
        "ICIR": 0.0553941332374025,
        "RankIC": 0.0244174710904535,
        "RankICIR": 0.1772463916351617,
        "annualized_return": 0.025702904391085,
        "information_ratio": 0.3521897160107543,
        "max_drawdown": -0.1178038015788236
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:35:18.349186",
      "updated_at": "2026-01-17T07:35:18.349192"
    },
    "bd8eaac583a7476e": {
      "factor_id": "bd8eaac583a7476e",
      "factor_name": "Structural_Exhaustion_Efficiency_5D",
      "factor_expression": "POW(TS_CORR($close, SEQUENCE(5), 5), 2) * TS_MEAN(($high - $low) / ($volume + 1e-8), 5)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"POW(TS_CORR($close, SEQUENCE(5), 5), 2) * TS_MEAN(($high - $low) / ($volume + 1e-8), 5)\" # Your output factor expression will be filled in here\n    name = \"Structural_Exhaustion_Efficiency_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "The Structural Exhaustion Efficiency (SEE) factor identifies high-conviction trend reversals by detecting 'hollow' price accelerations. It combines the 5-day price-time linearity (R-squared) with the ratio of price range to volume. High values indicate a blow-off phase where price moves are linear but lack liquidity support, signaling imminent exhaustion.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Structural Exhaustion Efficiency (SEE) factor, defined as the product of the 5-day price-time R-squared and the 5-day ATR-to-Volume ratio, identifies high-conviction trend reversals by detecting 'hollow' price accelerations that lack liquidity support.\n                Concise Observation: Parent 1 showed that short-term price linearity decay precedes reversals (RankIC 0.020), and Parent 2 demonstrated that high price range relative to volume signals efficiency exhaustion (RankIC 0.030).\n                Concise Justification: Combining these captures 'Structural Fragility': the R-squared component ensures the trend is technically 'stretched' and linear, while the ATR/Volume ratio confirms the move is 'expensive' and unsupported by deep liquidity, creating a synergistic signal for trend exhaustion.\n                Concise Knowledge: If a price trend exhibits high short-term linearity (R-squared) but requires increasing price volatility per unit of volume (ATR/Volume), it indicates a liquidity-driven 'blow-off' phase likely to reverse; whereas high linearity with low relative volatility suggests a sustainable, fundamentally backed trend.\n                concise Specification: Calculate the 5-day rolling R-squared of $close against a time index; calculate the 5-day average of ($high-$low)/$volume; the SEE factor is the product of these two metrics, where high values signal imminent exhaustion and low values signal structural stability.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "d025bb6b3900",
      "parent_trajectory_ids": [
        "d7555a47a787",
        "7fb27aabe9cd"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0049294871514049,
        "ICIR": 0.0369113585360031,
        "RankIC": 0.0224614532776789,
        "RankICIR": 0.1688719622945828,
        "annualized_return": 0.0374867846205408,
        "information_ratio": 0.5864814292730505,
        "max_drawdown": -0.1089300550887258
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:39:22.159784",
      "updated_at": "2026-01-17T07:39:22.159790"
    },
    "9c27fd388a38e2d2": {
      "factor_id": "9c27fd388a38e2d2",
      "factor_name": "Linear_Volatility_Exhaustion_Rank_10D",
      "factor_expression": "RANK(POW(TS_CORR($close, SEQUENCE(10), 10), 2)) * RANK(TS_MEAN(($high - $low) / ($volume + 1e-8), 10))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(POW(TS_CORR($close, SEQUENCE(10), 10), 2)) * RANK(TS_MEAN(($high - $low) / ($volume + 1e-8), 10))\" # Your output factor expression will be filled in here\n    name = \"Linear_Volatility_Exhaustion_Rank_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A variation of the exhaustion hypothesis using a 10-day window and cross-sectional ranking to enhance signal stability. It measures the intensity of linear price trends relative to the volume-weighted range, identifying assets where price movement is overextended relative to the effort (volume) provided.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Structural Exhaustion Efficiency (SEE) factor, defined as the product of the 5-day price-time R-squared and the 5-day ATR-to-Volume ratio, identifies high-conviction trend reversals by detecting 'hollow' price accelerations that lack liquidity support.\n                Concise Observation: Parent 1 showed that short-term price linearity decay precedes reversals (RankIC 0.020), and Parent 2 demonstrated that high price range relative to volume signals efficiency exhaustion (RankIC 0.030).\n                Concise Justification: Combining these captures 'Structural Fragility': the R-squared component ensures the trend is technically 'stretched' and linear, while the ATR/Volume ratio confirms the move is 'expensive' and unsupported by deep liquidity, creating a synergistic signal for trend exhaustion.\n                Concise Knowledge: If a price trend exhibits high short-term linearity (R-squared) but requires increasing price volatility per unit of volume (ATR/Volume), it indicates a liquidity-driven 'blow-off' phase likely to reverse; whereas high linearity with low relative volatility suggests a sustainable, fundamentally backed trend.\n                concise Specification: Calculate the 5-day rolling R-squared of $close against a time index; calculate the 5-day average of ($high-$low)/$volume; the SEE factor is the product of these two metrics, where high values signal imminent exhaustion and low values signal structural stability.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "d025bb6b3900",
      "parent_trajectory_ids": [
        "d7555a47a787",
        "7fb27aabe9cd"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0049294871514049,
        "ICIR": 0.0369113585360031,
        "RankIC": 0.0224614532776789,
        "RankICIR": 0.1688719622945828,
        "annualized_return": 0.0374867846205408,
        "information_ratio": 0.5864814292730505,
        "max_drawdown": -0.1089300550887258
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:39:22.188486",
      "updated_at": "2026-01-17T07:39:22.188492"
    },
    "114d105f79e6f1b9": {
      "factor_id": "114d105f79e6f1b9",
      "factor_name": "Standardized_Structural_Fragility_5D",
      "factor_expression": "POW(TS_CORR($close, SEQUENCE(5), 5), 2) * TS_ZSCORE(($high - $low) / ($volume + 1e-8), 20)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"POW(TS_CORR($close, SEQUENCE(5), 5), 2) * TS_ZSCORE(($high - $low) / ($volume + 1e-8), 20)\" # Your output factor expression will be filled in here\n    name = \"Standardized_Structural_Fragility_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor standardizes the Structural Exhaustion signal by applying a Z-score to the price-range-to-volume ratio before multiplying by the trend linearity. This ensures that the 'hollow' price acceleration is measured relative to the asset's own recent liquidity history.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Structural Exhaustion Efficiency (SEE) factor, defined as the product of the 5-day price-time R-squared and the 5-day ATR-to-Volume ratio, identifies high-conviction trend reversals by detecting 'hollow' price accelerations that lack liquidity support.\n                Concise Observation: Parent 1 showed that short-term price linearity decay precedes reversals (RankIC 0.020), and Parent 2 demonstrated that high price range relative to volume signals efficiency exhaustion (RankIC 0.030).\n                Concise Justification: Combining these captures 'Structural Fragility': the R-squared component ensures the trend is technically 'stretched' and linear, while the ATR/Volume ratio confirms the move is 'expensive' and unsupported by deep liquidity, creating a synergistic signal for trend exhaustion.\n                Concise Knowledge: If a price trend exhibits high short-term linearity (R-squared) but requires increasing price volatility per unit of volume (ATR/Volume), it indicates a liquidity-driven 'blow-off' phase likely to reverse; whereas high linearity with low relative volatility suggests a sustainable, fundamentally backed trend.\n                concise Specification: Calculate the 5-day rolling R-squared of $close against a time index; calculate the 5-day average of ($high-$low)/$volume; the SEE factor is the product of these two metrics, where high values signal imminent exhaustion and low values signal structural stability.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "d025bb6b3900",
      "parent_trajectory_ids": [
        "d7555a47a787",
        "7fb27aabe9cd"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0049294871514049,
        "ICIR": 0.0369113585360031,
        "RankIC": 0.0224614532776789,
        "RankICIR": 0.1688719622945828,
        "annualized_return": 0.0374867846205408,
        "information_ratio": 0.5864814292730505,
        "max_drawdown": -0.1089300550887258
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:39:22.216542",
      "updated_at": "2026-01-17T07:39:22.216548"
    },
    "e2dc8db3ff8924c4": {
      "factor_id": "e2dc8db3ff8924c4",
      "factor_name": "IAEI_Absorption_Index_5D",
      "factor_expression": "TS_MEAN($volume / ($high - $low + 1e-8), 5) * TS_MEAN($volume / (TS_STD($close, 5) + 1e-8), 5)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN($volume / ($high - $low + 1e-8), 5) * TS_MEAN($volume / (TS_STD($close, 5) + 1e-8), 5)\" # Your output factor expression will be filled in here\n    name = \"IAEI_Absorption_Index_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Institutional Absorption Efficiency Index (IAEI): This factor identifies institutional accumulation by looking for high volume-to-price-range density combined with high price efficiency. It multiplies the rolling average of volume density by the inverse of volatility-normalized range to filter out low-conviction breakouts.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Absorption Efficiency Index (IAEI) predicts asset returns by identifying periods where high volume-to-price-range density (Institutional Accumulation) is paired with low volatility-normalized price efficiency, filtering out low-conviction breakouts.\n                Concise Observation: Parent 1 (IAPF) captures trend persistence through volume concentration (RankIC 0.020), while Parent 2 (VVDE) captures price efficiency (RankIC 0.029); combining them addresses the weakness of buying into low-liquidity volatility spikes.\n                Concise Justification: Institutional players accumulate positions over time to minimize market impact, leading to high volume per unit of price range; by weighting volume density with the inverse of volatility-normalized range, we isolate high-conviction structural trends.\n                Concise Knowledge: If price appreciation occurs with high volume density and low relative volatility, it indicates institutional absorption; when price moves are 'hollow' (high volatility, low volume), they are prone to mean reversion.\n                concise Specification: Define IAEI as the product of a 5-day rolling average of (Volume / (High - Low)) and the 5-day inverse of (ATR / Relative Volume), ensuring both volume support and price efficiency are maximized simultaneously.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "949f65a01ea5",
      "parent_trajectory_ids": [
        "acb39605a28d",
        "7fb27aabe9cd"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0037083274031751,
        "ICIR": 0.0276066445176113,
        "RankIC": 0.0194354575836202,
        "RankICIR": 0.1489870304438573,
        "annualized_return": 0.0179828042632012,
        "information_ratio": 0.2936536264072802,
        "max_drawdown": -0.122562838916295
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:42:11.721962",
      "updated_at": "2026-01-17T07:42:11.721968"
    },
    "9de952d54942159e": {
      "factor_id": "9de952d54942159e",
      "factor_name": "Institutional_Accumulation_Density_10D",
      "factor_expression": "RANK($volume / ($high - $low + 1e-8)) * RANK(INV(TS_STD($return, 10) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK($volume / ($high - $low + 1e-8)) * RANK(INV(TS_STD(TS_PCTCHANGE($close, 1), 10) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Institutional_Accumulation_Density_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the absorption hypothesis focusing on the cross-sectional rank of volume density relative to price volatility. It captures periods where price moves are supported by heavy volume relative to the realized range, normalized by the 10-day volatility to ensure the trend is structural rather than speculative.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Absorption Efficiency Index (IAEI) predicts asset returns by identifying periods where high volume-to-price-range density (Institutional Accumulation) is paired with low volatility-normalized price efficiency, filtering out low-conviction breakouts.\n                Concise Observation: Parent 1 (IAPF) captures trend persistence through volume concentration (RankIC 0.020), while Parent 2 (VVDE) captures price efficiency (RankIC 0.029); combining them addresses the weakness of buying into low-liquidity volatility spikes.\n                Concise Justification: Institutional players accumulate positions over time to minimize market impact, leading to high volume per unit of price range; by weighting volume density with the inverse of volatility-normalized range, we isolate high-conviction structural trends.\n                Concise Knowledge: If price appreciation occurs with high volume density and low relative volatility, it indicates institutional absorption; when price moves are 'hollow' (high volatility, low volume), they are prone to mean reversion.\n                concise Specification: Define IAEI as the product of a 5-day rolling average of (Volume / (High - Low)) and the 5-day inverse of (ATR / Relative Volume), ensuring both volume support and price efficiency are maximized simultaneously.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "949f65a01ea5",
      "parent_trajectory_ids": [
        "acb39605a28d",
        "7fb27aabe9cd"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0037083274031751,
        "ICIR": 0.0276066445176113,
        "RankIC": 0.0194354575836202,
        "RankICIR": 0.1489870304438573,
        "annualized_return": 0.0179828042632012,
        "information_ratio": 0.2936536264072802,
        "max_drawdown": -0.122562838916295
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:42:11.750856",
      "updated_at": "2026-01-17T07:42:11.750862"
    },
    "9222937a074f8aa4": {
      "factor_id": "9222937a074f8aa4",
      "factor_name": "Efficiency_Weighted_Volume_5D",
      "factor_expression": "TS_MEAN($volume, 5) / (TS_MEAN($high - $low, 5) * TS_STD($close, 5) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN($volume, 5) / (TS_MEAN($high - $low, 5) * TS_STD($close, 5) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Efficiency_Weighted_Volume_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the efficiency of volume in driving price trends. It calculates the ratio of volume to the price range, weighted by the inverse of recent volatility. High values indicate 'efficient' absorption where volume is high but price volatility is contained, suggesting controlled institutional buying.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Absorption Efficiency Index (IAEI) predicts asset returns by identifying periods where high volume-to-price-range density (Institutional Accumulation) is paired with low volatility-normalized price efficiency, filtering out low-conviction breakouts.\n                Concise Observation: Parent 1 (IAPF) captures trend persistence through volume concentration (RankIC 0.020), while Parent 2 (VVDE) captures price efficiency (RankIC 0.029); combining them addresses the weakness of buying into low-liquidity volatility spikes.\n                Concise Justification: Institutional players accumulate positions over time to minimize market impact, leading to high volume per unit of price range; by weighting volume density with the inverse of volatility-normalized range, we isolate high-conviction structural trends.\n                Concise Knowledge: If price appreciation occurs with high volume density and low relative volatility, it indicates institutional absorption; when price moves are 'hollow' (high volatility, low volume), they are prone to mean reversion.\n                concise Specification: Define IAEI as the product of a 5-day rolling average of (Volume / (High - Low)) and the 5-day inverse of (ATR / Relative Volume), ensuring both volume support and price efficiency are maximized simultaneously.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "949f65a01ea5",
      "parent_trajectory_ids": [
        "acb39605a28d",
        "7fb27aabe9cd"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0037083274031751,
        "ICIR": 0.0276066445176113,
        "RankIC": 0.0194354575836202,
        "RankICIR": 0.1489870304438573,
        "annualized_return": 0.0179828042632012,
        "information_ratio": 0.2936536264072802,
        "max_drawdown": -0.122562838916295
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:42:11.779389",
      "updated_at": "2026-01-17T07:42:11.779395"
    },
    "3e35e902f32a93e8": {
      "factor_id": "3e35e902f32a93e8",
      "factor_name": "Structural_Exhaustion_Efficiency_20D",
      "factor_expression": "TS_MEAN(($high - $low) / (ABS($close - $open) + 1e-8) / ($volume / (TS_MEAN($volume, 5) + 1e-8)), 20)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN(($high - $low) / (ABS($close - $open) + 1e-8) / ($volume / (TS_MEAN($volume, 5) + 1e-8)), 20)\" # Your output factor expression will be filled in here\n    name = \"Structural_Exhaustion_Efficiency_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "The SEE factor identifies mean-reversion opportunities by calculating the ratio of intraday price travel (range) to net movement (body), normalized by relative volume. High values indicate 'hollow' volatility where price expands on low conviction, signaling potential exhaustion.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Structural Exhaustion Efficiency (SEE) factor, defined as the 20-day average of the ratio between intraday range-to-body asymmetry and 5-day relative volume intensity, identifies mean-reversion opportunities where price expansion is decoupled from liquidity support.\n                Concise Observation: Parent 1 (RankIC 0.0196) captures price-action indecision, while Parent 2 (RankIC 0.0298) identifies volume-price divergence; combining them targets 'hollow' volatility where high range occurs on low conviction.\n                Concise Justification: By dividing the intraday range-to-body ratio by the relative volume, we isolate periods where price 'travel' is high but 'efficiency' is low, signaling that the current trend is unsustainable due to a lack of volume-weighted cost basis.\n                Concise Knowledge: If a stock exhibits high intraday price volatility relative to its net open-to-close movement (asymmetry) while simultaneously experiencing low relative volume (hollow liquidity), then the price movement is likely driven by retail exhaustion rather than institutional conviction, leading to predictable reversals.\n                concise Specification: The SEE factor is calculated as (High-Low)/(abs(Close-Open) + epsilon) divided by (Volume / Rolling_Mean(Volume, 5)), smoothed over a 20-day window to capture persistent structural exhaustion while filtering for high-ATR regimes.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "54bba1c4e2b3",
      "parent_trajectory_ids": [
        "f0c2093c047e",
        "7fb27aabe9cd"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0048152811794458,
        "ICIR": 0.0373798278647546,
        "RankIC": 0.0208149822955344,
        "RankICIR": 0.1635624640411027,
        "annualized_return": 0.0399757029352592,
        "information_ratio": 0.6571625664999783,
        "max_drawdown": -0.0882684243465727
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:45:37.553954",
      "updated_at": "2026-01-17T07:45:37.553960"
    },
    "56b4c928d1cab681": {
      "factor_id": "56b4c928d1cab681",
      "factor_name": "Relative_Range_Efficiency_Rank",
      "factor_expression": "RANK(TS_MEAN($high - $low, 10) / (TS_MEAN($volume, 10) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN($high - $low, 10) / (TS_MEAN($volume, 10) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Relative_Range_Efficiency_Rank\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally ranked version of the exhaustion principle, focusing on the divergence between price range and volume intensity. It identifies stocks with the most disproportionate price travel relative to their liquidity support over a 10-day window.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Structural Exhaustion Efficiency (SEE) factor, defined as the 20-day average of the ratio between intraday range-to-body asymmetry and 5-day relative volume intensity, identifies mean-reversion opportunities where price expansion is decoupled from liquidity support.\n                Concise Observation: Parent 1 (RankIC 0.0196) captures price-action indecision, while Parent 2 (RankIC 0.0298) identifies volume-price divergence; combining them targets 'hollow' volatility where high range occurs on low conviction.\n                Concise Justification: By dividing the intraday range-to-body ratio by the relative volume, we isolate periods where price 'travel' is high but 'efficiency' is low, signaling that the current trend is unsustainable due to a lack of volume-weighted cost basis.\n                Concise Knowledge: If a stock exhibits high intraday price volatility relative to its net open-to-close movement (asymmetry) while simultaneously experiencing low relative volume (hollow liquidity), then the price movement is likely driven by retail exhaustion rather than institutional conviction, leading to predictable reversals.\n                concise Specification: The SEE factor is calculated as (High-Low)/(abs(Close-Open) + epsilon) divided by (Volume / Rolling_Mean(Volume, 5)), smoothed over a 20-day window to capture persistent structural exhaustion while filtering for high-ATR regimes.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "54bba1c4e2b3",
      "parent_trajectory_ids": [
        "f0c2093c047e",
        "7fb27aabe9cd"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0048152811794458,
        "ICIR": 0.0373798278647546,
        "RankIC": 0.0208149822955344,
        "RankICIR": 0.1635624640411027,
        "annualized_return": 0.0399757029352592,
        "information_ratio": 0.6571625664999783,
        "max_drawdown": -0.0882684243465727
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:45:37.583024",
      "updated_at": "2026-01-17T07:45:37.583030"
    },
    "f47dbbb5b1798846": {
      "factor_id": "f47dbbb5b1798846",
      "factor_name": "Hollow_Volatility_ZScore",
      "factor_expression": "TS_MEAN(TS_ZSCORE(($high - $low) / ($volume + 1e-8), 15), 5)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN(TS_ZSCORE(($high - $low) / ($volume + 1e-8), 15), 5)\" # Your output factor expression will be filled in here\n    name = \"Hollow_Volatility_ZScore\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the 15-day average of the ratio between price volatility (High-Low) and volume-weighted movement. It uses Z-score normalization to highlight extreme decoupling between price action and market participation.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Structural Exhaustion Efficiency (SEE) factor, defined as the 20-day average of the ratio between intraday range-to-body asymmetry and 5-day relative volume intensity, identifies mean-reversion opportunities where price expansion is decoupled from liquidity support.\n                Concise Observation: Parent 1 (RankIC 0.0196) captures price-action indecision, while Parent 2 (RankIC 0.0298) identifies volume-price divergence; combining them targets 'hollow' volatility where high range occurs on low conviction.\n                Concise Justification: By dividing the intraday range-to-body ratio by the relative volume, we isolate periods where price 'travel' is high but 'efficiency' is low, signaling that the current trend is unsustainable due to a lack of volume-weighted cost basis.\n                Concise Knowledge: If a stock exhibits high intraday price volatility relative to its net open-to-close movement (asymmetry) while simultaneously experiencing low relative volume (hollow liquidity), then the price movement is likely driven by retail exhaustion rather than institutional conviction, leading to predictable reversals.\n                concise Specification: The SEE factor is calculated as (High-Low)/(abs(Close-Open) + epsilon) divided by (Volume / Rolling_Mean(Volume, 5)), smoothed over a 20-day window to capture persistent structural exhaustion while filtering for high-ATR regimes.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "54bba1c4e2b3",
      "parent_trajectory_ids": [
        "f0c2093c047e",
        "7fb27aabe9cd"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0048152811794458,
        "ICIR": 0.0373798278647546,
        "RankIC": 0.0208149822955344,
        "RankICIR": 0.1635624640411027,
        "annualized_return": 0.0399757029352592,
        "information_ratio": 0.6571625664999783,
        "max_drawdown": -0.0882684243465727
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:45:37.611684",
      "updated_at": "2026-01-17T07:45:37.611690"
    },
    "c91c0cc9e19b6247": {
      "factor_id": "c91c0cc9e19b6247",
      "factor_name": "Informed_Liquidity_Absorption_5D",
      "factor_expression": "(($open - DELAY($close, 1)) / (TS_STD($close, 5) + 1e-8)) / (TS_MEAN($high - $low, 5) / (TS_MEAN($volume, 5) + 1e-8) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($open - DELAY($close, 1)) / (TS_STD($close, 5) + 1e-8)) / (TS_MEAN($high - $low, 5) / (TS_MEAN($volume, 5) + 1e-8) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Informed_Liquidity_Absorption_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies high-conviction institutional trends by calculating the ratio of the overnight gap (normalized by historical volatility) to the intraday price discovery efficiency. A high gap validated by low price-to-volume divergence suggests institutional absorption and trend persistence.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Informed Liquidity Absorption (ILA) factor, defined as the product of the overnight gap (normalized by 5-day intraday volatility) and the inverse of the 5-day Volatility-Volume Divergence Efficiency, identifies high-conviction institutional trends by rewarding gaps that are sustained by efficient, high-volume intraday price discovery.\n                Concise Observation: Parent 1 (IAG) captures pre-market intent but lacks intraday validation, while Parent 2 (VVDE) measures execution efficiency but ignores the signaling power of overnight positioning; combining them addresses the 'hollow move' problem in gap trading.\n                Concise Justification: Institutional players often express conviction through overnight positioning, but the sustainability of the resulting trend depends on whether intraday liquidity is sufficient to absorb the move without excessive volatility, a state captured by the ratio of gap magnitude to intraday efficiency.\n                Concise Knowledge: If an overnight price gap is validated by high volume relative to price range (low VVDE), it indicates institutional absorption and trend persistence; if a gap occurs with wide price swings on low volume (high VVDE), it indicates liquidity exhaustion and likely mean reversion.\n                concise Specification: The factor is calculated as (Gap / ATR_5) / (Range_5 / Volume_Rel_5), where Gap is (Open - Prev_Close), ATR_5 is the 5-day average true range, Range_5 is the 5-day average (High - Low), and Volume_Rel_5 is the 5-day average volume; a higher value predicts positive future returns.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "df7dfd9db5e1",
      "parent_trajectory_ids": [
        "2c2098e706e5",
        "7fb27aabe9cd"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0063747927182966,
        "ICIR": 0.0474726293488803,
        "RankIC": 0.0218360517214985,
        "RankICIR": 0.1675279251410049,
        "annualized_return": 0.0553551326154067,
        "information_ratio": 0.8556669485594854,
        "max_drawdown": -0.0968061621215196
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:48:28.530475",
      "updated_at": "2026-01-17T07:48:28.530481"
    },
    "70e549c8cea3371f": {
      "factor_id": "70e549c8cea3371f",
      "factor_name": "Institutional_Gap_Efficiency_Rank_10D",
      "factor_expression": "RANK(($open / DELAY($close, 1) - 1) / (TS_MEAN($high - $low, 10) / (TS_MEAN($volume, 10) + 1e-8) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($open / DELAY($close, 1) - 1) / (TS_MEAN($high - $low, 10) / (TS_MEAN($volume, 10) + 1e-8) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Institutional_Gap_Efficiency_Rank_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally ranked version of the Informed Liquidity Absorption hypothesis. It measures the strength of the overnight gap relative to the 10-day volatility, divided by the efficiency of intraday price movement (range per unit of volume). Higher values indicate gaps that are more likely to be sustained by institutional liquidity.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Informed Liquidity Absorption (ILA) factor, defined as the product of the overnight gap (normalized by 5-day intraday volatility) and the inverse of the 5-day Volatility-Volume Divergence Efficiency, identifies high-conviction institutional trends by rewarding gaps that are sustained by efficient, high-volume intraday price discovery.\n                Concise Observation: Parent 1 (IAG) captures pre-market intent but lacks intraday validation, while Parent 2 (VVDE) measures execution efficiency but ignores the signaling power of overnight positioning; combining them addresses the 'hollow move' problem in gap trading.\n                Concise Justification: Institutional players often express conviction through overnight positioning, but the sustainability of the resulting trend depends on whether intraday liquidity is sufficient to absorb the move without excessive volatility, a state captured by the ratio of gap magnitude to intraday efficiency.\n                Concise Knowledge: If an overnight price gap is validated by high volume relative to price range (low VVDE), it indicates institutional absorption and trend persistence; if a gap occurs with wide price swings on low volume (high VVDE), it indicates liquidity exhaustion and likely mean reversion.\n                concise Specification: The factor is calculated as (Gap / ATR_5) / (Range_5 / Volume_Rel_5), where Gap is (Open - Prev_Close), ATR_5 is the 5-day average true range, Range_5 is the 5-day average (High - Low), and Volume_Rel_5 is the 5-day average volume; a higher value predicts positive future returns.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "df7dfd9db5e1",
      "parent_trajectory_ids": [
        "2c2098e706e5",
        "7fb27aabe9cd"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0063747927182966,
        "ICIR": 0.0474726293488803,
        "RankIC": 0.0218360517214985,
        "RankICIR": 0.1675279251410049,
        "annualized_return": 0.0553551326154067,
        "information_ratio": 0.8556669485594854,
        "max_drawdown": -0.0968061621215196
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:48:28.559726",
      "updated_at": "2026-01-17T07:48:28.559731"
    },
    "f3fe51235e211641": {
      "factor_id": "f3fe51235e211641",
      "factor_name": "Volatility_Volume_Divergence_Ratio_5D",
      "factor_expression": "(ABS($open - DELAY($close, 1)) / (DELAY(TS_MEAN($high - $low, 5), 1) + 1e-8)) * TS_MEAN($volume, 5)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(ABS($open - DELAY($close, 1)) / (DELAY(TS_MEAN($high - $low, 5), 1) + 1e-8)) * TS_MEAN($volume, 5)\" # Your output factor expression will be filled in here\n    name = \"Volatility_Volume_Divergence_Ratio_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Captures the inverse of the Volatility-Volume Divergence Efficiency (VVDE) as part of the ILA hypothesis. It focuses on identifying periods where high volume supports small price ranges, suggesting efficient absorption of orders, normalized by the overnight gap signal.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Informed Liquidity Absorption (ILA) factor, defined as the product of the overnight gap (normalized by 5-day intraday volatility) and the inverse of the 5-day Volatility-Volume Divergence Efficiency, identifies high-conviction institutional trends by rewarding gaps that are sustained by efficient, high-volume intraday price discovery.\n                Concise Observation: Parent 1 (IAG) captures pre-market intent but lacks intraday validation, while Parent 2 (VVDE) measures execution efficiency but ignores the signaling power of overnight positioning; combining them addresses the 'hollow move' problem in gap trading.\n                Concise Justification: Institutional players often express conviction through overnight positioning, but the sustainability of the resulting trend depends on whether intraday liquidity is sufficient to absorb the move without excessive volatility, a state captured by the ratio of gap magnitude to intraday efficiency.\n                Concise Knowledge: If an overnight price gap is validated by high volume relative to price range (low VVDE), it indicates institutional absorption and trend persistence; if a gap occurs with wide price swings on low volume (high VVDE), it indicates liquidity exhaustion and likely mean reversion.\n                concise Specification: The factor is calculated as (Gap / ATR_5) / (Range_5 / Volume_Rel_5), where Gap is (Open - Prev_Close), ATR_5 is the 5-day average true range, Range_5 is the 5-day average (High - Low), and Volume_Rel_5 is the 5-day average volume; a higher value predicts positive future returns.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "df7dfd9db5e1",
      "parent_trajectory_ids": [
        "2c2098e706e5",
        "7fb27aabe9cd"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0063747927182966,
        "ICIR": 0.0474726293488803,
        "RankIC": 0.0218360517214985,
        "RankICIR": 0.1675279251410049,
        "annualized_return": 0.0553551326154067,
        "information_ratio": 0.8556669485594854,
        "max_drawdown": -0.0968061621215196
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:48:28.592537",
      "updated_at": "2026-01-17T07:48:28.592543"
    },
    "9864a82513415328": {
      "factor_id": "9864a82513415328",
      "factor_name": "LAVPE_Efficiency_Ratio_10D",
      "factor_expression": "(TS_MEAN(($high - $low) / ($close + 1e-8), 5) / (TS_MEAN($volume * ($high - $low) / ($close + 1e-8), 5) + 1e-8)) * POW(TS_CORR($close, SEQUENCE(10), 10), 2)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(TS_MEAN(($high - $low) / ($close + 1e-8), 5) / (TS_MEAN($volume * ($high - $low) / ($close + 1e-8), 5) + 1e-8)) * POW(TS_CORR($close, SEQUENCE(10), 10), 2)\" # Your output factor expression will be filled in here\n    name = \"LAVPE_Efficiency_Ratio_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor implements the Linearity-Adjusted Volume-Price Efficiency (LAVPE) hypothesis. It measures price-volume decoupling by calculating the ratio of price range to volume-weighted range (energy), weighted by the linearity (R-squared) of the price trend. High linearity combined with low volume-weighted efficiency suggests structural exhaustion and potential mean reversion.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Linearity-Adjusted Volume-Price Efficiency' (LAVPE) factor, defined as the ratio of 5-day ATR-normalized price range to 5-day volume-weighted volatility, scaled by the 10-day price-time R-squared, predicts mean reversion by identifying structural exhaustion in linear trends.\n                Concise Observation: Parent 1's trend linearity (RSQR10) identifies stable regimes, while Parent 2's efficiency ratio (VVDE) flags price-volume decoupling; combining them addresses the 'hollow expansion' observed when price moves exceed institutional backing.\n                Concise Justification: The 'Effort-vs-Result' principle suggests that price moves requiring disproportionately low or erratic volume-weighted energy are unsustainable; weighting this efficiency by trend linearity filters out noise and focuses on structural breakdown points.\n                Concise Knowledge: If a price trend exhibits high linearity (R-squared) but low volume-weighted efficiency (range/volume-volatility), it is likely a liquidity-driven exhaustion point; When volume-weighted energy fails to support price expansion, the trend's structural integrity is compromised.\n                concise Specification: Calculate the 5-day average of (High-Low)/Close as price range, divide by the 5-day average of ($volume * (High-Low)/Close) for volume-weighted energy, and multiply by the 10-day R-squared of $close against a time index.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "6d40bf7cdeda",
      "parent_trajectory_ids": [
        "b3f61a773f43",
        "7fb27aabe9cd"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0030771522236266,
        "ICIR": 0.0227185928599906,
        "RankIC": 0.0192694488128021,
        "RankICIR": 0.1455545567998845,
        "annualized_return": 0.0327616494366824,
        "information_ratio": 0.4481053444880533,
        "max_drawdown": -0.0983948914523569
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:04:01.612595",
      "updated_at": "2026-01-17T08:04:01.612602"
    },
    "af25db02d368cf6f": {
      "factor_id": "af25db02d368cf6f",
      "factor_name": "Structural_Exhaustion_Index_5D",
      "factor_expression": "RANK(($high - $low) / ($volume + 1e-8)) * RANK(TS_CORR($close, SEQUENCE(10), 10))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($high - $low) / ($volume + 1e-8)) * RANK(TS_CORR($close, SEQUENCE(10), 10))\" # Your output factor expression will be filled in here\n    name = \"Structural_Exhaustion_Index_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the LAVPE hypothesis focusing on the 'Effort-vs-Result' principle. It identifies 'hollow expansions' where price range is high relative to the volume-weighted energy, normalized by the cross-sectional rank of trend linearity to focus on the most stable regimes.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Linearity-Adjusted Volume-Price Efficiency' (LAVPE) factor, defined as the ratio of 5-day ATR-normalized price range to 5-day volume-weighted volatility, scaled by the 10-day price-time R-squared, predicts mean reversion by identifying structural exhaustion in linear trends.\n                Concise Observation: Parent 1's trend linearity (RSQR10) identifies stable regimes, while Parent 2's efficiency ratio (VVDE) flags price-volume decoupling; combining them addresses the 'hollow expansion' observed when price moves exceed institutional backing.\n                Concise Justification: The 'Effort-vs-Result' principle suggests that price moves requiring disproportionately low or erratic volume-weighted energy are unsustainable; weighting this efficiency by trend linearity filters out noise and focuses on structural breakdown points.\n                Concise Knowledge: If a price trend exhibits high linearity (R-squared) but low volume-weighted efficiency (range/volume-volatility), it is likely a liquidity-driven exhaustion point; When volume-weighted energy fails to support price expansion, the trend's structural integrity is compromised.\n                concise Specification: Calculate the 5-day average of (High-Low)/Close as price range, divide by the 5-day average of ($volume * (High-Low)/Close) for volume-weighted energy, and multiply by the 10-day R-squared of $close against a time index.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "6d40bf7cdeda",
      "parent_trajectory_ids": [
        "b3f61a773f43",
        "7fb27aabe9cd"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0030771522236266,
        "ICIR": 0.0227185928599906,
        "RankIC": 0.0192694488128021,
        "RankICIR": 0.1455545567998845,
        "annualized_return": 0.0327616494366824,
        "information_ratio": 0.4481053444880533,
        "max_drawdown": -0.0983948914523569
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:04:01.641847",
      "updated_at": "2026-01-17T08:04:01.641853"
    },
    "fff9f0a8c12cc53a": {
      "factor_id": "fff9f0a8c12cc53a",
      "factor_name": "Volume_Weighted_Efficiency_ZScore",
      "factor_expression": "TS_ZSCORE(($high - $low) / ($volume * ($high - $low) + 1e-8), 5) * TS_CORR($close, SEQUENCE(10), 10)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE(($high - $low) / ($volume * ($high - $low) + 1e-8), 5) * TS_CORR($close, SEQUENCE(10), 10)\" # Your output factor expression will be filled in here\n    name = \"Volume_Weighted_Efficiency_ZScore\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures the decoupling between price movement and institutional backing by calculating the Z-score of the ratio between price range and volume-weighted range over a 5-day window, then scaling it by the linearity of the 10-day price trend.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Linearity-Adjusted Volume-Price Efficiency' (LAVPE) factor, defined as the ratio of 5-day ATR-normalized price range to 5-day volume-weighted volatility, scaled by the 10-day price-time R-squared, predicts mean reversion by identifying structural exhaustion in linear trends.\n                Concise Observation: Parent 1's trend linearity (RSQR10) identifies stable regimes, while Parent 2's efficiency ratio (VVDE) flags price-volume decoupling; combining them addresses the 'hollow expansion' observed when price moves exceed institutional backing.\n                Concise Justification: The 'Effort-vs-Result' principle suggests that price moves requiring disproportionately low or erratic volume-weighted energy are unsustainable; weighting this efficiency by trend linearity filters out noise and focuses on structural breakdown points.\n                Concise Knowledge: If a price trend exhibits high linearity (R-squared) but low volume-weighted efficiency (range/volume-volatility), it is likely a liquidity-driven exhaustion point; When volume-weighted energy fails to support price expansion, the trend's structural integrity is compromised.\n                concise Specification: Calculate the 5-day average of (High-Low)/Close as price range, divide by the 5-day average of ($volume * (High-Low)/Close) for volume-weighted energy, and multiply by the 10-day R-squared of $close against a time index.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "6d40bf7cdeda",
      "parent_trajectory_ids": [
        "b3f61a773f43",
        "7fb27aabe9cd"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0030771522236266,
        "ICIR": 0.0227185928599906,
        "RankIC": 0.0192694488128021,
        "RankICIR": 0.1455545567998845,
        "annualized_return": 0.0327616494366824,
        "information_ratio": 0.4481053444880533,
        "max_drawdown": -0.0983948914523569
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:04:01.670835",
      "updated_at": "2026-01-17T08:04:01.670841"
    },
    "b4b942eb0eb8463e": {
      "factor_id": "b4b942eb0eb8463e",
      "factor_name": "LAHEI_Hollow_Expansion_5D",
      "factor_expression": "(($high - $low) / (TS_MEAN($high - $low, 5) + 1e-8)) * (($close - ($open + $close + $high + $low) / 4) / ($high - $low + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($high - $low) / (TS_MEAN($high - $low, 5) + 1e-8)) * (($close - ($open + $close + $high + $low) / 4) / ($high - $low + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"LAHEI_Hollow_Expansion_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "The Liquidity-Adjusted Hollow Expansion Index identifies price expansions where the closing price deviates significantly from the volume-weighted center of gravity (approximated by the daily mean price). A high value indicates a 'hollow' move likely driven by liquidity gaps, suggesting a short-term mean reversion.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Liquidity-Adjusted Hollow Expansion Index (LAHEI), defined as the product of the ATR-normalized intraday range and the distance between the daily close and the Volume-Weighted Average Price (VWAP), identifies price 'hollows' that predict short-term mean reversion.\n                Concise Observation: Parent strategies showed that intraday price positioning relative to volume (RankIC 0.018) and volatility-normalized volume divergence (RankIC 0.030) are both predictive; combining them addresses the weakness of volume-only or price-only exhaustion signals.\n                Concise Justification: By multiplying the range-based volatility (from Parent 2) with the VWAP-to-Close deviation (from Parent 1), we isolate instances where price moved significantly but the 'center of gravity' of trading volume failed to follow, indicating a lack of structural support.\n                Concise Knowledge: If a large price expansion occurs with a significant gap between the closing price and the volume-weighted average price, the move is likely driven by liquidity voids rather than institutional conviction; when such 'hollow' moves occur, they tend to revert as liquidity stabilizes.\n                concise Specification: The factor is calculated as [(High - Low) / ATR(5)] * [(Close - VWAP) / (High - Low)], where VWAP is approximated as (Open+Close+High+Low)/4, focusing on the 5-day lookback period for volatility normalization.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "ab0815655d5d",
      "parent_trajectory_ids": [
        "94f4a684161a",
        "7fb27aabe9cd"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0049273018425848,
        "ICIR": 0.0332149350767551,
        "RankIC": 0.020188325843943,
        "RankICIR": 0.1407029517125129,
        "annualized_return": 0.0657937117078128,
        "information_ratio": 0.9010570874521956,
        "max_drawdown": -0.0985490242912436
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:06:48.367102",
      "updated_at": "2026-01-17T08:06:48.367109"
    },
    "8cee304738fda193": {
      "factor_id": "8cee304738fda193",
      "factor_name": "ZScore_VWAP_Deviation_Range_10D",
      "factor_expression": "RANK(TS_ZSCORE($high - $low, 10)) * RANK(($close - ($high + $low) / 2) / ($high - $low + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_ZSCORE($high - $low, 10)) * RANK(($close - ($high + $low) / 2) / ($high - $low + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"ZScore_VWAP_Deviation_Range_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the hollow expansion hypothesis that uses cross-sectional ranking to identify stocks where the intraday price range is large relative to its recent history, and the price has closed far from the intraday mid-point, signaling potential exhaustion.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Liquidity-Adjusted Hollow Expansion Index (LAHEI), defined as the product of the ATR-normalized intraday range and the distance between the daily close and the Volume-Weighted Average Price (VWAP), identifies price 'hollows' that predict short-term mean reversion.\n                Concise Observation: Parent strategies showed that intraday price positioning relative to volume (RankIC 0.018) and volatility-normalized volume divergence (RankIC 0.030) are both predictive; combining them addresses the weakness of volume-only or price-only exhaustion signals.\n                Concise Justification: By multiplying the range-based volatility (from Parent 2) with the VWAP-to-Close deviation (from Parent 1), we isolate instances where price moved significantly but the 'center of gravity' of trading volume failed to follow, indicating a lack of structural support.\n                Concise Knowledge: If a large price expansion occurs with a significant gap between the closing price and the volume-weighted average price, the move is likely driven by liquidity voids rather than institutional conviction; when such 'hollow' moves occur, they tend to revert as liquidity stabilizes.\n                concise Specification: The factor is calculated as [(High - Low) / ATR(5)] * [(Close - VWAP) / (High - Low)], where VWAP is approximated as (Open+Close+High+Low)/4, focusing on the 5-day lookback period for volatility normalization.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "ab0815655d5d",
      "parent_trajectory_ids": [
        "94f4a684161a",
        "7fb27aabe9cd"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0049273018425848,
        "ICIR": 0.0332149350767551,
        "RankIC": 0.020188325843943,
        "RankICIR": 0.1407029517125129,
        "annualized_return": 0.0657937117078128,
        "information_ratio": 0.9010570874521956,
        "max_drawdown": -0.0985490242912436
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:06:48.396749",
      "updated_at": "2026-01-17T08:06:48.396755"
    },
    "aece3d4216d0e360": {
      "factor_id": "aece3d4216d0e360",
      "factor_name": "Hollow_Move_Exhaustion_Index_5D",
      "factor_expression": "TS_MEAN(($close - ($open + $high + $low + $close) / 4) / ($high - $low + 1e-8), 5)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN(($close - ($open + $high + $low + $close) / 4) / ($high - $low + 1e-8), 5)\" # Your output factor expression will be filled in here\n    name = \"Hollow_Move_Exhaustion_Index_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures price exhaustion by measuring the ratio of the distance between the close and the daily mean to the total range, smoothed over 5 days to identify persistent liquidity-driven price voids.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Liquidity-Adjusted Hollow Expansion Index (LAHEI), defined as the product of the ATR-normalized intraday range and the distance between the daily close and the Volume-Weighted Average Price (VWAP), identifies price 'hollows' that predict short-term mean reversion.\n                Concise Observation: Parent strategies showed that intraday price positioning relative to volume (RankIC 0.018) and volatility-normalized volume divergence (RankIC 0.030) are both predictive; combining them addresses the weakness of volume-only or price-only exhaustion signals.\n                Concise Justification: By multiplying the range-based volatility (from Parent 2) with the VWAP-to-Close deviation (from Parent 1), we isolate instances where price moved significantly but the 'center of gravity' of trading volume failed to follow, indicating a lack of structural support.\n                Concise Knowledge: If a large price expansion occurs with a significant gap between the closing price and the volume-weighted average price, the move is likely driven by liquidity voids rather than institutional conviction; when such 'hollow' moves occur, they tend to revert as liquidity stabilizes.\n                concise Specification: The factor is calculated as [(High - Low) / ATR(5)] * [(Close - VWAP) / (High - Low)], where VWAP is approximated as (Open+Close+High+Low)/4, focusing on the 5-day lookback period for volatility normalization.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "ab0815655d5d",
      "parent_trajectory_ids": [
        "94f4a684161a",
        "7fb27aabe9cd"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0049273018425848,
        "ICIR": 0.0332149350767551,
        "RankIC": 0.020188325843943,
        "RankICIR": 0.1407029517125129,
        "annualized_return": 0.0657937117078128,
        "information_ratio": 0.9010570874521956,
        "max_drawdown": -0.0985490242912436
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:06:48.426075",
      "updated_at": "2026-01-17T08:06:48.426081"
    },
    "234ecf17f52471e1": {
      "factor_id": "234ecf17f52471e1",
      "factor_name": "Inst_Gap_Persistence_V1",
      "factor_expression": "(TS_ZSCORE(($close-$open)/$open, 5) / (TS_STD($open - DELAY($close, 1), 5) + 1e-8)) * TS_CORR($close, $volume, 20) * (TS_MEAN($high - $low, 14) / ($close + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(TS_SKEW(($close - $open) / $open, 5) / (TS_STD(($open - DELAY($close, 1)) / DELAY($close, 1), 5) + 1e-8)) * TS_CORR($close, $volume, 20) * (TS_MEAN($high - $low, 14) / $close)\" # Your output factor expression will be filled in here\n    name = \"Inst_Gap_Persistence_V1\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies institutional accumulation by combining intraday return skewness relative to overnight volatility with price-volume correlation. Low skewness relative to gap volatility suggests 'quiet' informed flow, while high price-volume correlation confirms structural trend conviction.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Gap-Persistence' factor identifies sustainable price movements by multiplying the 5-day ratio of intraday return skewness to overnight volatility with the 20-day price-volume correlation, scaled by the 14-day price range, to distinguish institutional accumulation from noise.\n                Concise Observation: Parent 1 (RankIC 0.022) captures short-term informed flow via distribution shapes, while Parent 2 (RankIC 0.031) captures medium-term structural liquidity; combining them addresses the noise inherent in overnight gaps by filtering them through intraday persistence metrics.\n                Concise Justification: Institutional investors often hide their trades intraday (low skewness) while their impact is felt in overnight gaps and volume-price alignment; multiplying these cross-dimensional metrics creates a regime-adaptive signal that rewards consistency across multiple time horizons.\n                Concise Knowledge: If short-term intraday skewness is low relative to overnight volatility, it indicates institutional 'quiet' accumulation; when this aligns with a strong 20-day price-volume correlation, the resulting signal identifies high-conviction structural trends rather than temporary liquidity traps.\n                concise Specification: The factor is defined as (5-day Intraday Skew / 5-day StdDev of (Open - PrevClose)) * (20-day Correlation of Close and Volume) * (14-day ATR / Close), where ATR is the 14-day average of (High - Low).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "94e2b000cf8b",
      "parent_trajectory_ids": [
        "8b13845457df",
        "c42ef4440166"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.006797536530237,
        "ICIR": 0.0514909043766003,
        "RankIC": 0.0213743344969453,
        "RankICIR": 0.1644779678783632,
        "annualized_return": 0.0541896324471593,
        "information_ratio": 0.7837050863467108,
        "max_drawdown": -0.1641871046121855
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:08:12.502814",
      "updated_at": "2026-01-17T08:08:12.502821"
    },
    "c31fecd25d09b27a": {
      "factor_id": "c31fecd25d09b27a",
      "factor_name": "Institutional_Quiet_Flow_20D",
      "factor_expression": "RANK(TS_CORR($close, $volume, 20)) * RANK(($high - $low) / (TS_STD($close, 14) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_CORR($close, $volume, 20)) * RANK(($high - $low) / (TS_STD($close, 14) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Institutional_Quiet_Flow_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the institutional persistence hypothesis focusing on the ratio of price range stability to volume-driven price movement. It uses RANK to normalize the components across the cross-section to ensure robustness against market-wide volatility spikes.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Gap-Persistence' factor identifies sustainable price movements by multiplying the 5-day ratio of intraday return skewness to overnight volatility with the 20-day price-volume correlation, scaled by the 14-day price range, to distinguish institutional accumulation from noise.\n                Concise Observation: Parent 1 (RankIC 0.022) captures short-term informed flow via distribution shapes, while Parent 2 (RankIC 0.031) captures medium-term structural liquidity; combining them addresses the noise inherent in overnight gaps by filtering them through intraday persistence metrics.\n                Concise Justification: Institutional investors often hide their trades intraday (low skewness) while their impact is felt in overnight gaps and volume-price alignment; multiplying these cross-dimensional metrics creates a regime-adaptive signal that rewards consistency across multiple time horizons.\n                Concise Knowledge: If short-term intraday skewness is low relative to overnight volatility, it indicates institutional 'quiet' accumulation; when this aligns with a strong 20-day price-volume correlation, the resulting signal identifies high-conviction structural trends rather than temporary liquidity traps.\n                concise Specification: The factor is defined as (5-day Intraday Skew / 5-day StdDev of (Open - PrevClose)) * (20-day Correlation of Close and Volume) * (14-day ATR / Close), where ATR is the 14-day average of (High - Low).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "94e2b000cf8b",
      "parent_trajectory_ids": [
        "8b13845457df",
        "c42ef4440166"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.006797536530237,
        "ICIR": 0.0514909043766003,
        "RankIC": 0.0213743344969453,
        "RankICIR": 0.1644779678783632,
        "annualized_return": 0.0541896324471593,
        "information_ratio": 0.7837050863467108,
        "max_drawdown": -0.1641871046121855
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:08:12.532584",
      "updated_at": "2026-01-17T08:08:12.532590"
    },
    "3162184d49f077b4": {
      "factor_id": "3162184d49f077b4",
      "factor_name": "Gap_Trend_Alignment_14D",
      "factor_expression": "(($open - DELAY($close, 1)) / (TS_STD($close, 10) + 1e-8)) * TS_CORR($close - $open, $volume, 14)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($open - DELAY($close, 1)) / (TS_STD($close, 10) + 1e-8)) * TS_CORR($close - $open, $volume, 14)\" # Your output factor expression will be filled in here\n    name = \"Gap_Trend_Alignment_14D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures the alignment between overnight price gaps and the subsequent intraday range, scaled by volume conviction. It targets stocks where the gap is supported by consistent price-volume behavior rather than speculative noise.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Gap-Persistence' factor identifies sustainable price movements by multiplying the 5-day ratio of intraday return skewness to overnight volatility with the 20-day price-volume correlation, scaled by the 14-day price range, to distinguish institutional accumulation from noise.\n                Concise Observation: Parent 1 (RankIC 0.022) captures short-term informed flow via distribution shapes, while Parent 2 (RankIC 0.031) captures medium-term structural liquidity; combining them addresses the noise inherent in overnight gaps by filtering them through intraday persistence metrics.\n                Concise Justification: Institutional investors often hide their trades intraday (low skewness) while their impact is felt in overnight gaps and volume-price alignment; multiplying these cross-dimensional metrics creates a regime-adaptive signal that rewards consistency across multiple time horizons.\n                Concise Knowledge: If short-term intraday skewness is low relative to overnight volatility, it indicates institutional 'quiet' accumulation; when this aligns with a strong 20-day price-volume correlation, the resulting signal identifies high-conviction structural trends rather than temporary liquidity traps.\n                concise Specification: The factor is defined as (5-day Intraday Skew / 5-day StdDev of (Open - PrevClose)) * (20-day Correlation of Close and Volume) * (14-day ATR / Close), where ATR is the 14-day average of (High - Low).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "94e2b000cf8b",
      "parent_trajectory_ids": [
        "8b13845457df",
        "c42ef4440166"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.006797536530237,
        "ICIR": 0.0514909043766003,
        "RankIC": 0.0213743344969453,
        "RankICIR": 0.1644779678783632,
        "annualized_return": 0.0541896324471593,
        "information_ratio": 0.7837050863467108,
        "max_drawdown": -0.1641871046121855
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:08:12.562042",
      "updated_at": "2026-01-17T08:08:12.562048"
    },
    "2053467206340414": {
      "factor_id": "2053467206340414",
      "factor_name": "Institutional_Gap_Exhaustion_20D",
      "factor_expression": "(($open / DELAY($close, 1)) - 1) / (((TS_STD($volume, 20) / (TS_MEAN($volume, 20) + 1e-8)) / ((TS_STD($high - $low, 20) / (TS_MEAN($high - $low, 20) + 1e-8)) + 1e-8)) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($open / DELAY($close, 1)) - 1) / (((TS_STD($volume, 20) / (TS_MEAN($volume, 20) + 1e-8)) / ((TS_STD($high - $low, 20) / (TS_MEAN($high - $low, 20) + 1e-8)) + 1e-8)) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Institutional_Gap_Exhaustion_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies mean-reversion opportunities by weighting the overnight gap with the inverse of the Institutional Commitment Persistence (ICP). ICP is defined as the ratio of volume volatility (CV) to price range volatility (CV). A high gap with low institutional commitment (high ICP inverse) suggests a retail-driven exhaustion gap likely to reverse.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional-Anchored Gap Exhaustion factor identifies mean-reversion opportunities by multiplying the overnight gap by the inverse of the Institutional Commitment Persistence (ICP) ratio, where ICP is the 20-day ratio of volume coefficient of variation to price range coefficient of variation.\n                Concise Observation: Parent strategies show that volume-price stability ratios (RankIC 0.022) and intraday-adjusted gaps (RankIC 0.025) both capture market conviction, but gaps often fail when they align with strong institutional trends.\n                Concise Justification: By weighting the overnight gap with the inverse of the ICP ratio, we suppress signals where institutional support is high (trend continuation) and amplify signals where gaps occur amidst speculative noise (mean reversion).\n                Concise Knowledge: If a price gap is accompanied by low institutional commitment (high price volatility relative to volume stability), it is likely a retail-driven exhaustion gap prone to reversal; conversely, high institutional commitment suggests a breakaway gap that persists.\n                concise Specification: Calculate the overnight gap (Open/Close_prev - 1), the ICP ratio (std(volume)/mean(volume) divided by std(high-low)/mean(high-low) over 20 days), and define the factor as Gap / ICP_20d.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "dc81b9f456d5",
      "parent_trajectory_ids": [
        "7a86a1bcdb62",
        "db4bb8b2509e"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0064552567567684,
        "ICIR": 0.0489313919474272,
        "RankIC": 0.0243504580851714,
        "RankICIR": 0.1871340713676423,
        "annualized_return": 0.0702566002458133,
        "information_ratio": 1.074291924942996,
        "max_drawdown": -0.0971841268829109
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:11:30.903168",
      "updated_at": "2026-01-17T08:11:30.903175"
    },
    "31c17d6a34d909b4": {
      "factor_id": "31c17d6a34d909b4",
      "factor_name": "Ranked_Gap_Institutional_Reversion_20D",
      "factor_expression": "RANK(($open / DELAY($close, 1)) - 1) * RANK((TS_STD($high - $low, 20) / (TS_MEAN($high - $low, 20) + 1e-8)) / ((TS_STD($volume, 20) / (TS_MEAN($volume, 20) + 1e-8)) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($open / DELAY($close, 1)) - 1) * RANK((TS_STD($high - $low, 20) / (TS_MEAN($high - $low, 20) + 1e-8)) / ((TS_STD($volume, 20) / (TS_MEAN($volume, 20) + 1e-8)) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Ranked_Gap_Institutional_Reversion_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally robust version of the Institutional Gap Exhaustion factor. It compares the overnight gap against the relative stability of volume versus price range. By using RANK, it normalizes the gap and the institutional commitment ratio to identify the most significant mean-reversion candidates across the universe.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional-Anchored Gap Exhaustion factor identifies mean-reversion opportunities by multiplying the overnight gap by the inverse of the Institutional Commitment Persistence (ICP) ratio, where ICP is the 20-day ratio of volume coefficient of variation to price range coefficient of variation.\n                Concise Observation: Parent strategies show that volume-price stability ratios (RankIC 0.022) and intraday-adjusted gaps (RankIC 0.025) both capture market conviction, but gaps often fail when they align with strong institutional trends.\n                Concise Justification: By weighting the overnight gap with the inverse of the ICP ratio, we suppress signals where institutional support is high (trend continuation) and amplify signals where gaps occur amidst speculative noise (mean reversion).\n                Concise Knowledge: If a price gap is accompanied by low institutional commitment (high price volatility relative to volume stability), it is likely a retail-driven exhaustion gap prone to reversal; conversely, high institutional commitment suggests a breakaway gap that persists.\n                concise Specification: Calculate the overnight gap (Open/Close_prev - 1), the ICP ratio (std(volume)/mean(volume) divided by std(high-low)/mean(high-low) over 20 days), and define the factor as Gap / ICP_20d.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "dc81b9f456d5",
      "parent_trajectory_ids": [
        "7a86a1bcdb62",
        "db4bb8b2509e"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0064552567567684,
        "ICIR": 0.0489313919474272,
        "RankIC": 0.0243504580851714,
        "RankICIR": 0.1871340713676423,
        "annualized_return": 0.0702566002458133,
        "information_ratio": 1.074291924942996,
        "max_drawdown": -0.0971841268829109
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:11:30.933185",
      "updated_at": "2026-01-17T08:11:30.933191"
    },
    "3bb4752cea3296f5": {
      "factor_id": "3bb4752cea3296f5",
      "factor_name": "Smoothed_Institutional_Gap_Exhaustion_10D",
      "factor_expression": "(($open / DELAY($close, 1)) - 1) / SMA((TS_STD($volume, 20) / (TS_MEAN($volume, 20) + 1e-8)) / ((TS_STD($high - $low, 20) / (TS_MEAN($high - $low, 20) + 1e-8)) + 1e-8), 10, 1)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($open / DELAY($close, 1)) - 1) / SMA((TS_STD($volume, 20) / (TS_MEAN($volume, 20) + 1e-8)) / ((TS_STD($high - $low, 20) / (TS_MEAN($high - $low, 20) + 1e-8)) + 1e-8), 10, 1)\" # Your output factor expression will be filled in here\n    name = \"Smoothed_Institutional_Gap_Exhaustion_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor applies a 10-day simple moving average to the Institutional Commitment Persistence ratio to provide a more stable signal of institutional anchoring, reducing noise in the gap exhaustion identification.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional-Anchored Gap Exhaustion factor identifies mean-reversion opportunities by multiplying the overnight gap by the inverse of the Institutional Commitment Persistence (ICP) ratio, where ICP is the 20-day ratio of volume coefficient of variation to price range coefficient of variation.\n                Concise Observation: Parent strategies show that volume-price stability ratios (RankIC 0.022) and intraday-adjusted gaps (RankIC 0.025) both capture market conviction, but gaps often fail when they align with strong institutional trends.\n                Concise Justification: By weighting the overnight gap with the inverse of the ICP ratio, we suppress signals where institutional support is high (trend continuation) and amplify signals where gaps occur amidst speculative noise (mean reversion).\n                Concise Knowledge: If a price gap is accompanied by low institutional commitment (high price volatility relative to volume stability), it is likely a retail-driven exhaustion gap prone to reversal; conversely, high institutional commitment suggests a breakaway gap that persists.\n                concise Specification: Calculate the overnight gap (Open/Close_prev - 1), the ICP ratio (std(volume)/mean(volume) divided by std(high-low)/mean(high-low) over 20 days), and define the factor as Gap / ICP_20d.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "dc81b9f456d5",
      "parent_trajectory_ids": [
        "7a86a1bcdb62",
        "db4bb8b2509e"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0064552567567684,
        "ICIR": 0.0489313919474272,
        "RankIC": 0.0243504580851714,
        "RankICIR": 0.1871340713676423,
        "annualized_return": 0.0702566002458133,
        "information_ratio": 1.074291924942996,
        "max_drawdown": -0.0971841268829109
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:11:30.963158",
      "updated_at": "2026-01-17T08:11:30.963164"
    },
    "b9a08347802a4c0a": {
      "factor_id": "b9a08347802a4c0a",
      "factor_name": "SLVR_Structural_Exhaustion_5D",
      "factor_expression": "RANK(($high - $low) / ($volume + 1e-5)) * RANK(TS_CORR($close, $volume, 20)) * ZSCORE(ABS($return) / ($volume + 1e-5))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN(($high - $low) / ($volume + 1e-9), 5)) * RANK(TS_CORR($close, $volume, 20)) * ZSCORE(TS_MEAN(ABS(TS_PCTCHANGE($close, 1)) / ($volume + 1e-9), 5))\" # Your output factor expression will be filled in here\n    name = \"SLVR_Structural_Exhaustion_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "The Structural Liquidity Vacuum Reversal (SLVR) factor identifies mean-reversion signals by combining intraday price dispersion, price-volume correlation decay, and illiquidity. This version focuses on the 5-day interaction between range-to-volume and Amihud illiquidity, moderated by the 20-day price-volume correlation to identify unsustainable exhaustion.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Structural Liquidity Vacuum Reversal (SLVR) factor identifies mean-reversion signals by multiplying the 5-day intraday price dispersion (High-Low range normalized by Volume) with the 20-day negative price-volume correlation, further scaled by a 5-day Amihud Illiquidity Z-score.\n                Concise Observation: Parent 1 successfully captured intraday exhaustion (RankIC 0.0268) and Parent 2 captured structural decay (RankIC 0.0266), but both suffer from false positives during high-volume trend breakouts where price-volume synergy remains intact.\n                Concise Justification: Fusing these metrics ensures that high volatility is only traded as a reversal if it lacks structural support (negative correlation) and occurs in a high-impact environment (Amihud), filtering out healthy trend continuations.\n                Concise Knowledge: If extreme intraday price volatility occurs while price-volume synergy is decaying and illiquidity is peaking, then the price movement is likely a 'liquidity vacuum' spike prone to reversal; When high range-to-volume ratios coincide with negative price-volume correlation, market participants are exhausted.\n                concise Specification: The factor is defined as: Rank((High-Low)/(Volume+1e-5), 5) * Rank(Correlation(Close, Volume, 20), 20) * ZScore((Abs(Return)/Volume), 5). It expects a negative relationship with future returns as high values indicate unsustainable exhaustion.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "38ef9400abf2",
      "parent_trajectory_ids": [
        "0b251d2e379b",
        "8b31cd9afab3"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0067035766755135,
        "ICIR": 0.0465146591916888,
        "RankIC": 0.0229687226052108,
        "RankICIR": 0.1598980304505583,
        "annualized_return": 0.006762518040761,
        "information_ratio": 0.0919589333845521,
        "max_drawdown": -0.1258508606308615
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:15:46.032114",
      "updated_at": "2026-01-17T08:15:46.032121"
    },
    "344815c17b246ca5": {
      "factor_id": "344815c17b246ca5",
      "factor_name": "Liquidity_Vacuum_Intensity_10D",
      "factor_expression": "RANK(TS_MEAN(($high - $low) / ($volume + 1e-5), 5)) * RANK(TS_CORR($close, $volume, 10))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(RANK(TS_MEAN(($high - $low) / ($volume + 1e-5), 5)) * RANK(1 - TS_CORR($close, $volume, 10)))\" # Your output factor expression will be filled in here\n    name = \"Liquidity_Vacuum_Intensity_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the SLVR hypothesis that measures the intensity of a liquidity vacuum. It captures the divergence between price volatility and volume support, specifically looking for high range/volume ratios when price-volume correlation is low (exhaustion), standardized cross-sectionally.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Structural Liquidity Vacuum Reversal (SLVR) factor identifies mean-reversion signals by multiplying the 5-day intraday price dispersion (High-Low range normalized by Volume) with the 20-day negative price-volume correlation, further scaled by a 5-day Amihud Illiquidity Z-score.\n                Concise Observation: Parent 1 successfully captured intraday exhaustion (RankIC 0.0268) and Parent 2 captured structural decay (RankIC 0.0266), but both suffer from false positives during high-volume trend breakouts where price-volume synergy remains intact.\n                Concise Justification: Fusing these metrics ensures that high volatility is only traded as a reversal if it lacks structural support (negative correlation) and occurs in a high-impact environment (Amihud), filtering out healthy trend continuations.\n                Concise Knowledge: If extreme intraday price volatility occurs while price-volume synergy is decaying and illiquidity is peaking, then the price movement is likely a 'liquidity vacuum' spike prone to reversal; When high range-to-volume ratios coincide with negative price-volume correlation, market participants are exhausted.\n                concise Specification: The factor is defined as: Rank((High-Low)/(Volume+1e-5), 5) * Rank(Correlation(Close, Volume, 20), 20) * ZScore((Abs(Return)/Volume), 5). It expects a negative relationship with future returns as high values indicate unsustainable exhaustion.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "38ef9400abf2",
      "parent_trajectory_ids": [
        "0b251d2e379b",
        "8b31cd9afab3"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0067035766755135,
        "ICIR": 0.0465146591916888,
        "RankIC": 0.0229687226052108,
        "RankICIR": 0.1598980304505583,
        "annualized_return": 0.006762518040761,
        "information_ratio": 0.0919589333845521,
        "max_drawdown": -0.1258508606308615
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:15:46.061947",
      "updated_at": "2026-01-17T08:15:46.061953"
    },
    "adb04d205aaddcce": {
      "factor_id": "adb04d205aaddcce",
      "factor_name": "Amihud_Exhaustion_Reversal_20D",
      "factor_expression": "RANK(TS_ZSCORE(ABS($return) / ($volume + 1e-5), 5)) * RANK(TS_CORR($close, $volume, 20))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_ZSCORE(ABS(TS_PCTCHANGE($close, 1)) / ($volume + 1e-5), 5)) * RANK(TS_CORR($close, $volume, 20))\" # Your output factor expression will be filled in here\n    name = \"Amihud_Exhaustion_Reversal_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor targets the 'Illiquidity Z-score' component of the SLVR hypothesis. It identifies stocks where the current return-to-volume ratio (Amihud Illiquidity) is an outlier relative to its own history, filtered by the 20-day price-volume trend to catch reversal points.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Structural Liquidity Vacuum Reversal (SLVR) factor identifies mean-reversion signals by multiplying the 5-day intraday price dispersion (High-Low range normalized by Volume) with the 20-day negative price-volume correlation, further scaled by a 5-day Amihud Illiquidity Z-score.\n                Concise Observation: Parent 1 successfully captured intraday exhaustion (RankIC 0.0268) and Parent 2 captured structural decay (RankIC 0.0266), but both suffer from false positives during high-volume trend breakouts where price-volume synergy remains intact.\n                Concise Justification: Fusing these metrics ensures that high volatility is only traded as a reversal if it lacks structural support (negative correlation) and occurs in a high-impact environment (Amihud), filtering out healthy trend continuations.\n                Concise Knowledge: If extreme intraday price volatility occurs while price-volume synergy is decaying and illiquidity is peaking, then the price movement is likely a 'liquidity vacuum' spike prone to reversal; When high range-to-volume ratios coincide with negative price-volume correlation, market participants are exhausted.\n                concise Specification: The factor is defined as: Rank((High-Low)/(Volume+1e-5), 5) * Rank(Correlation(Close, Volume, 20), 20) * ZScore((Abs(Return)/Volume), 5). It expects a negative relationship with future returns as high values indicate unsustainable exhaustion.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "38ef9400abf2",
      "parent_trajectory_ids": [
        "0b251d2e379b",
        "8b31cd9afab3"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0067035766755135,
        "ICIR": 0.0465146591916888,
        "RankIC": 0.0229687226052108,
        "RankICIR": 0.1598980304505583,
        "annualized_return": 0.006762518040761,
        "information_ratio": 0.0919589333845521,
        "max_drawdown": -0.1258508606308615
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:15:46.091344",
      "updated_at": "2026-01-17T08:15:46.091350"
    },
    "2271e15798e03902": {
      "factor_id": "2271e15798e03902",
      "factor_name": "IRSF_Structural_Friction_5D",
      "factor_expression": "ZSCORE((($high - $low) / $close) / ($volume / (TS_MEAN($volume, 20) + 1e-8))) * (-1 * TS_CORR($return, DELTA($volume, 1), 20)) * ZSCORE(ABS($return) / ($volume + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(($high - $low) / ($volume / TS_MEAN($volume, 20))) * (-1 * TS_CORR(TS_PCTCHANGE($close, 1), DELTA($volume, 1), 20)) * ZSCORE(ABS(TS_PCTCHANGE($close, 1)) / $volume)\" # Your output factor expression will be filled in here\n    name = \"IRSF_Structural_Friction_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "The Institutional-Retail Structural Friction (IRSF) factor identifies high-probability reversals by combining a 5-day Mean-Reverting Liquidity Vacuum (MRLV) with 20-day price-volume divergence, scaled by the Amihud Illiquidity Z-score. It targets 'hollow' volatility spikes in thin markets where price moves lack institutional support.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional-Retail Structural Friction' (IRSF) factor identifies high-probability reversals by multiplying the 5-day Mean-Reverting Liquidity Vacuum (MRLV) with the 20-day negative price-volume correlation, weighted by the 5-day Amihud Illiquidity Z-score.\n                Concise Observation: Parent 1's MRLV (RankIC 0.0262) captures micro-exhaustion, while Parent 2's divergence (RankIC 0.0266) captures structural decay; combining them targets 'hollow' volatility spikes in thin markets where price discovery is inefficient.\n                Concise Justification: The MRLV identifies the 'exhaustion' trigger, while the negative price-volume correlation ensures the move is a 'divergence' from fundamental accumulation, and the Amihud Z-score scales the signal by the difficulty of price maintenance in low-liquidity environments.\n                Concise Knowledge: If short-term price range expansion occurs on declining relative volume (Liquidity Vacuum) while the medium-term trend shows negative price-volume correlation, the price move is likely retail-driven and prone to reversal; when these conditions coincide with high illiquidity, the mean-reversion effect is amplified due to the lack of institutional support.\n                concise Specification: Define MRLV as (High-Low)/Close divided by (Volume/SMA(Volume,20)) over 5 days; calculate the 20-day correlation between daily returns and volume changes; multiply the Z-scored MRLV by the negative correlation and the 5-day Amihud Illiquidity ratio (abs(return)/volume).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "b7098cdae6bc",
      "parent_trajectory_ids": [
        "e929c80ee882",
        "8b31cd9afab3"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0073375787075466,
        "ICIR": 0.0532128482617706,
        "RankIC": 0.024067797281387,
        "RankICIR": 0.1764820283550209,
        "annualized_return": 0.078373715075335,
        "information_ratio": 1.099977462153051,
        "max_drawdown": -0.1230286729484408
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:22:28.165735",
      "updated_at": "2026-01-17T08:22:28.165742"
    },
    "348629c09066e01e": {
      "factor_id": "348629c09066e01e",
      "factor_name": "MRLV_Exhaustion_Trigger",
      "factor_expression": "RANK(($high - $low) / $close) * RANK(TS_MEAN($volume, 20) / ($volume + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($high - $low) / $close) * RANK(TS_MEAN($volume, 20) / ($volume + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"MRLV_Exhaustion_Trigger\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the Mean-Reverting Liquidity Vacuum (MRLV) focusing on micro-exhaustion. It measures price range expansion relative to normalized volume, identifying instances where price moves are 'thin' and likely to reverse due to lack of liquidity depth.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional-Retail Structural Friction' (IRSF) factor identifies high-probability reversals by multiplying the 5-day Mean-Reverting Liquidity Vacuum (MRLV) with the 20-day negative price-volume correlation, weighted by the 5-day Amihud Illiquidity Z-score.\n                Concise Observation: Parent 1's MRLV (RankIC 0.0262) captures micro-exhaustion, while Parent 2's divergence (RankIC 0.0266) captures structural decay; combining them targets 'hollow' volatility spikes in thin markets where price discovery is inefficient.\n                Concise Justification: The MRLV identifies the 'exhaustion' trigger, while the negative price-volume correlation ensures the move is a 'divergence' from fundamental accumulation, and the Amihud Z-score scales the signal by the difficulty of price maintenance in low-liquidity environments.\n                Concise Knowledge: If short-term price range expansion occurs on declining relative volume (Liquidity Vacuum) while the medium-term trend shows negative price-volume correlation, the price move is likely retail-driven and prone to reversal; when these conditions coincide with high illiquidity, the mean-reversion effect is amplified due to the lack of institutional support.\n                concise Specification: Define MRLV as (High-Low)/Close divided by (Volume/SMA(Volume,20)) over 5 days; calculate the 20-day correlation between daily returns and volume changes; multiply the Z-scored MRLV by the negative correlation and the 5-day Amihud Illiquidity ratio (abs(return)/volume).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "b7098cdae6bc",
      "parent_trajectory_ids": [
        "e929c80ee882",
        "8b31cd9afab3"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0073375787075466,
        "ICIR": 0.0532128482617706,
        "RankIC": 0.024067797281387,
        "RankICIR": 0.1764820283550209,
        "annualized_return": 0.078373715075335,
        "information_ratio": 1.099977462153051,
        "max_drawdown": -0.1230286729484408
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:22:28.195795",
      "updated_at": "2026-01-17T08:22:28.195801"
    },
    "935737e4c24adabd": {
      "factor_id": "935737e4c24adabd",
      "factor_name": "Amihud_Divergence_Reversal",
      "factor_expression": "(-1 * TS_CORR($return, DELTA($volume, 1), 20)) * RANK(ABS($return) / ($volume + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(-1 * TS_CORR(TS_PCTCHANGE($close, 1), DELTA($volume, 1), 20)) * RANK(ABS(TS_PCTCHANGE($close, 1)) / ($volume + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Amihud_Divergence_Reversal\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures structural decay by multiplying the negative correlation between returns and volume changes with the cross-sectional rank of the Amihud illiquidity ratio. It highlights assets where price trends are diverging from volume support in illiquid conditions.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional-Retail Structural Friction' (IRSF) factor identifies high-probability reversals by multiplying the 5-day Mean-Reverting Liquidity Vacuum (MRLV) with the 20-day negative price-volume correlation, weighted by the 5-day Amihud Illiquidity Z-score.\n                Concise Observation: Parent 1's MRLV (RankIC 0.0262) captures micro-exhaustion, while Parent 2's divergence (RankIC 0.0266) captures structural decay; combining them targets 'hollow' volatility spikes in thin markets where price discovery is inefficient.\n                Concise Justification: The MRLV identifies the 'exhaustion' trigger, while the negative price-volume correlation ensures the move is a 'divergence' from fundamental accumulation, and the Amihud Z-score scales the signal by the difficulty of price maintenance in low-liquidity environments.\n                Concise Knowledge: If short-term price range expansion occurs on declining relative volume (Liquidity Vacuum) while the medium-term trend shows negative price-volume correlation, the price move is likely retail-driven and prone to reversal; when these conditions coincide with high illiquidity, the mean-reversion effect is amplified due to the lack of institutional support.\n                concise Specification: Define MRLV as (High-Low)/Close divided by (Volume/SMA(Volume,20)) over 5 days; calculate the 20-day correlation between daily returns and volume changes; multiply the Z-scored MRLV by the negative correlation and the 5-day Amihud Illiquidity ratio (abs(return)/volume).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "b7098cdae6bc",
      "parent_trajectory_ids": [
        "e929c80ee882",
        "8b31cd9afab3"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0073375787075466,
        "ICIR": 0.0532128482617706,
        "RankIC": 0.024067797281387,
        "RankICIR": 0.1764820283550209,
        "annualized_return": 0.078373715075335,
        "information_ratio": 1.099977462153051,
        "max_drawdown": -0.1230286729484408
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:22:28.225565",
      "updated_at": "2026-01-17T08:22:28.225571"
    },
    "ca3ce44b59213899": {
      "factor_id": "ca3ce44b59213899",
      "factor_name": "Adaptive_Consensus_Exhaustion_20D",
      "factor_expression": "TS_ZSCORE($close / (TS_SUM($close * $volume, 20) / TS_SUM($volume, 20)), 20) * TS_CORR($close, $volume, 20) * (($open / DELAY($close, 1) - 1) / (TS_MEAN(TS_MAX($high, 1) - TS_MIN($low, 1), 14) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE($close / (TS_SUM($close * $volume, 20) / TS_SUM($volume, 20)), 20) * TS_CORR($close, $volume, 20) * (($open / DELAY($close, 1) - 1) / (TS_MEAN(TS_MAX($high, 1) - TS_MIN($low, 1), 14) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Adaptive_Consensus_Exhaustion_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies trend exhaustion by combining price-VWAP distance, price-volume correlation, and overnight liquidity shocks. It uses a 20-day Z-score of the distance between price and a volume-weighted average proxy to capture consensus drift, multiplied by price-volume correlation to measure trend health, and adjusted by the ratio of overnight returns to a 14-day volatility measure (ATR proxy).",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Adaptive_Consensus_Exhaustion' factor, calculated as the 20-day Z-score of the price-to-VWAP distance multiplied by the 20-day price-volume correlation and adjusted by the ratio of overnight returns to the 14-day ATR, identifies trend continuation when consensus drift is stable and reversals when liquidity shocks occur at extreme valuations.\n                Concise Observation: Parent 1 shows that normalized VWAP distance captures consensus efficiency (RankIC 0.021), while Parent 2 demonstrates that overnight returns relative to volatility identify conviction (RankIC 0.031); however, neither accounts for the transition between trend stability and exhaustion.\n                Concise Justification: Fusing long-term consensus drift with short-term liquidity shocks allows the factor to distinguish between 'healthy' price appreciation supported by volume and 'exhausted' price spikes caused by overnight liquidity gaps, leading to more robust predictive power across different market regimes.\n                Concise Knowledge: If price-to-VWAP distance is normalized by volatility, it represents valuation drift; when this drift is accompanied by high price-volume correlation, the trend is reinforced, but if coupled with high overnight return shocks (liquidity gaps), the probability of mean-reversion increases.\n                concise Specification: The factor uses a 20-day window for VWAP and price-volume correlation to establish the trend anchor, a 14-day ATR for volatility normalization, and a 1-day overnight return (Open/PrevClose - 1) as the exhaustion trigger, targeting a non-linear combination of trend strength and reversal probability.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "6ab1bd4c02a3",
      "parent_trajectory_ids": [
        "a52ba1223e8c",
        "c42ef4440166"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0073779907857329,
        "ICIR": 0.0523821340778484,
        "RankIC": 0.0217374772276411,
        "RankICIR": 0.1617357917821639,
        "annualized_return": 0.0626651264624249,
        "information_ratio": 0.8305351420356816,
        "max_drawdown": -0.1069402707821122
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:27:09.402197",
      "updated_at": "2026-01-17T08:27:09.402204"
    },
    "23dfc1a331d9c480": {
      "factor_id": "23dfc1a331d9c480",
      "factor_name": "Liquidity_Shock_Trend_Adjuster_14D",
      "factor_expression": "($open - DELAY($close, 1)) / (TS_STD($close, 14) + 1e-8) * TS_CORR($close, $volume, 20)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"($open - DELAY($close, 1)) / (TS_STD($close, 14) + 1e-8) * TS_CORR($close, $volume, 20)\" # Your output factor expression will be filled in here\n    name = \"Liquidity_Shock_Trend_Adjuster_14D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the exhaustion hypothesis focusing on the interaction between overnight returns (liquidity gaps) and the prevailing price-volume trend. It normalizes the overnight gap by the 14-day price range and scales it by the 20-day price-volume correlation to detect if gaps are confirming or contradicting the volume-supported trend.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Adaptive_Consensus_Exhaustion' factor, calculated as the 20-day Z-score of the price-to-VWAP distance multiplied by the 20-day price-volume correlation and adjusted by the ratio of overnight returns to the 14-day ATR, identifies trend continuation when consensus drift is stable and reversals when liquidity shocks occur at extreme valuations.\n                Concise Observation: Parent 1 shows that normalized VWAP distance captures consensus efficiency (RankIC 0.021), while Parent 2 demonstrates that overnight returns relative to volatility identify conviction (RankIC 0.031); however, neither accounts for the transition between trend stability and exhaustion.\n                Concise Justification: Fusing long-term consensus drift with short-term liquidity shocks allows the factor to distinguish between 'healthy' price appreciation supported by volume and 'exhausted' price spikes caused by overnight liquidity gaps, leading to more robust predictive power across different market regimes.\n                Concise Knowledge: If price-to-VWAP distance is normalized by volatility, it represents valuation drift; when this drift is accompanied by high price-volume correlation, the trend is reinforced, but if coupled with high overnight return shocks (liquidity gaps), the probability of mean-reversion increases.\n                concise Specification: The factor uses a 20-day window for VWAP and price-volume correlation to establish the trend anchor, a 14-day ATR for volatility normalization, and a 1-day overnight return (Open/PrevClose - 1) as the exhaustion trigger, targeting a non-linear combination of trend strength and reversal probability.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "6ab1bd4c02a3",
      "parent_trajectory_ids": [
        "a52ba1223e8c",
        "c42ef4440166"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0073779907857329,
        "ICIR": 0.0523821340778484,
        "RankIC": 0.0217374772276411,
        "RankICIR": 0.1617357917821639,
        "annualized_return": 0.0626651264624249,
        "information_ratio": 0.8305351420356816,
        "max_drawdown": -0.1069402707821122
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:27:09.433020",
      "updated_at": "2026-01-17T08:27:09.433026"
    },
    "fe64b5e15c32e0b9": {
      "factor_id": "fe64b5e15c32e0b9",
      "factor_name": "Consensus_Drift_Volatility_Ratio_20D",
      "factor_expression": "($close - TS_MEAN($close, 20)) / (TS_STD($close, 20) + 1e-8) * ABS($open / DELAY($close, 1) - 1)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"($close - TS_MEAN($close, 20)) / (TS_STD($close, 20) + 1e-8) * ABS($open / DELAY($close, 1) - 1)\" # Your output factor expression will be filled in here\n    name = \"Consensus_Drift_Volatility_Ratio_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the efficiency of price discovery by comparing the distance of the current price from its 20-day mean to the overnight volatility shock. High values suggest price is overextending relative to consensus, especially when triggered by overnight gaps.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Adaptive_Consensus_Exhaustion' factor, calculated as the 20-day Z-score of the price-to-VWAP distance multiplied by the 20-day price-volume correlation and adjusted by the ratio of overnight returns to the 14-day ATR, identifies trend continuation when consensus drift is stable and reversals when liquidity shocks occur at extreme valuations.\n                Concise Observation: Parent 1 shows that normalized VWAP distance captures consensus efficiency (RankIC 0.021), while Parent 2 demonstrates that overnight returns relative to volatility identify conviction (RankIC 0.031); however, neither accounts for the transition between trend stability and exhaustion.\n                Concise Justification: Fusing long-term consensus drift with short-term liquidity shocks allows the factor to distinguish between 'healthy' price appreciation supported by volume and 'exhausted' price spikes caused by overnight liquidity gaps, leading to more robust predictive power across different market regimes.\n                Concise Knowledge: If price-to-VWAP distance is normalized by volatility, it represents valuation drift; when this drift is accompanied by high price-volume correlation, the trend is reinforced, but if coupled with high overnight return shocks (liquidity gaps), the probability of mean-reversion increases.\n                concise Specification: The factor uses a 20-day window for VWAP and price-volume correlation to establish the trend anchor, a 14-day ATR for volatility normalization, and a 1-day overnight return (Open/PrevClose - 1) as the exhaustion trigger, targeting a non-linear combination of trend strength and reversal probability.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "6ab1bd4c02a3",
      "parent_trajectory_ids": [
        "a52ba1223e8c",
        "c42ef4440166"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0073779907857329,
        "ICIR": 0.0523821340778484,
        "RankIC": 0.0217374772276411,
        "RankICIR": 0.1617357917821639,
        "annualized_return": 0.0626651264624249,
        "information_ratio": 0.8305351420356816,
        "max_drawdown": -0.1069402707821122
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:27:09.463318",
      "updated_at": "2026-01-17T08:27:09.463324"
    },
    "f69a4064a16066fa": {
      "factor_id": "f69a4064a16066fa",
      "factor_name": "Friction_Discovery_V1",
      "factor_expression": "TS_CORR($close, $volume, 20) * (ABS($open / DELAY($close, 1) - 1) / (TS_MEAN($high - $low, 14) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_CORR($close, $volume, 20) * (ABS($open / DELAY($close, 1) - 1) / (TS_MEAN($high - $low, 14) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Friction_Discovery_V1\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the interaction between price discovery efficiency and structural liquidity. It multiplies the 20-day price-volume correlation by the normalized overnight gap. The gap is normalized by the 14-day Average True Range (ATR) to identify if overnight information shocks are supported by intraday liquidity capacity.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Friction-Adjusted Discovery' factor, calculated as the product of the 20-day price-volume correlation and the ratio of the absolute overnight gap to the 14-day Average True Range, identifies assets where overnight information is inefficiently integrated into intraday liquidity, predicting short-term price reversals or continuations based on the magnitude of this friction.\n                Concise Observation: Parent 1 showed that overnight gaps relative to intraday volatility capture diffusion lags (RankIC 0.021), while Parent 2 demonstrated that price-volume correlation scaled by ATR identifies high-conviction liquidity states (RankIC 0.031).\n                Concise Justification: The fusion leverages price-volume correlation as a proxy for structural liquidity and ATR as a volatility normalizer, ensuring that the overnight 'information shock' is measured against the asset's current capacity to process information without excessive slippage or exhaustion.\n                Concise Knowledge: If a significant overnight price gap is not supported by a corresponding intraday price-volume correlation relative to historical volatility (ATR), the price discovery is considered incomplete or 'frictional'; when this friction is high, the asset is prone to mean-reversion as liquidity eventually absorbs the information shock.\n                concise Specification: The factor is defined as (Correlation($close, $volume, 20) * (Abs($open / Delay($close, 1) - 1) / ATR(14))), where ATR is the 14-day rolling average of (High - Low); a high value indicates high-conviction information diffusion, while a low value suggests a lack of liquidity support for the price move.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "16f63ed20036",
      "parent_trajectory_ids": [
        "ddd892827174",
        "c42ef4440166"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0068032163816015,
        "ICIR": 0.0463246430445467,
        "RankIC": 0.0236913075245471,
        "RankICIR": 0.1659601070478587,
        "annualized_return": 0.0230248837679552,
        "information_ratio": 0.3111210249824456,
        "max_drawdown": -0.179194916529402
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:33:02.118815",
      "updated_at": "2026-01-17T08:33:02.118821"
    },
    "5981b3cc0eeb6c45": {
      "factor_id": "5981b3cc0eeb6c45",
      "factor_name": "Ranked_Friction_Discovery_14D",
      "factor_expression": "RANK(TS_CORR($close, $volume, 14)) * RANK(ABS($open - DELAY($close, 1)) / (TS_MEAN($high - $low, 14) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_CORR($close, $volume, 14)) * RANK(ABS($open - DELAY($close, 1)) / (TS_MEAN($high - $low, 14) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Ranked_Friction_Discovery_14D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally ranked version of the friction-adjusted discovery factor. It evaluates the relative intensity of overnight information shocks against liquidity (proxied by price-volume correlation) and volatility (ATR). High values indicate high-conviction diffusion, while low values suggest frictional discovery prone to reversal.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Friction-Adjusted Discovery' factor, calculated as the product of the 20-day price-volume correlation and the ratio of the absolute overnight gap to the 14-day Average True Range, identifies assets where overnight information is inefficiently integrated into intraday liquidity, predicting short-term price reversals or continuations based on the magnitude of this friction.\n                Concise Observation: Parent 1 showed that overnight gaps relative to intraday volatility capture diffusion lags (RankIC 0.021), while Parent 2 demonstrated that price-volume correlation scaled by ATR identifies high-conviction liquidity states (RankIC 0.031).\n                Concise Justification: The fusion leverages price-volume correlation as a proxy for structural liquidity and ATR as a volatility normalizer, ensuring that the overnight 'information shock' is measured against the asset's current capacity to process information without excessive slippage or exhaustion.\n                Concise Knowledge: If a significant overnight price gap is not supported by a corresponding intraday price-volume correlation relative to historical volatility (ATR), the price discovery is considered incomplete or 'frictional'; when this friction is high, the asset is prone to mean-reversion as liquidity eventually absorbs the information shock.\n                concise Specification: The factor is defined as (Correlation($close, $volume, 20) * (Abs($open / Delay($close, 1) - 1) / ATR(14))), where ATR is the 14-day rolling average of (High - Low); a high value indicates high-conviction information diffusion, while a low value suggests a lack of liquidity support for the price move.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "16f63ed20036",
      "parent_trajectory_ids": [
        "ddd892827174",
        "c42ef4440166"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0068032163816015,
        "ICIR": 0.0463246430445467,
        "RankIC": 0.0236913075245471,
        "RankICIR": 0.1659601070478587,
        "annualized_return": 0.0230248837679552,
        "information_ratio": 0.3111210249824456,
        "max_drawdown": -0.179194916529402
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:33:02.149668",
      "updated_at": "2026-01-17T08:33:02.149674"
    },
    "89652c4e5155f48b": {
      "factor_id": "89652c4e5155f48b",
      "factor_name": "Discovery_Efficiency_ZScore",
      "factor_expression": "TS_CORR($return, $volume, 20) * TS_ZSCORE(($open - DELAY($close, 1)) / ($high - $low + 1e-8), 20)",
      "factor_implementation_code": "",
      "factor_description": "This factor standardizes the overnight gap by the recent volatility range and scales it by the sign of the price-volume relationship. It aims to identify 'exhaustion' gaps where the price move lacks the liquidity support required for continuation, using a 20-day window for stability.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Friction-Adjusted Discovery' factor, calculated as the product of the 20-day price-volume correlation and the ratio of the absolute overnight gap to the 14-day Average True Range, identifies assets where overnight information is inefficiently integrated into intraday liquidity, predicting short-term price reversals or continuations based on the magnitude of this friction.\n                Concise Observation: Parent 1 showed that overnight gaps relative to intraday volatility capture diffusion lags (RankIC 0.021), while Parent 2 demonstrated that price-volume correlation scaled by ATR identifies high-conviction liquidity states (RankIC 0.031).\n                Concise Justification: The fusion leverages price-volume correlation as a proxy for structural liquidity and ATR as a volatility normalizer, ensuring that the overnight 'information shock' is measured against the asset's current capacity to process information without excessive slippage or exhaustion.\n                Concise Knowledge: If a significant overnight price gap is not supported by a corresponding intraday price-volume correlation relative to historical volatility (ATR), the price discovery is considered incomplete or 'frictional'; when this friction is high, the asset is prone to mean-reversion as liquidity eventually absorbs the information shock.\n                concise Specification: The factor is defined as (Correlation($close, $volume, 20) * (Abs($open / Delay($close, 1) - 1) / ATR(14))), where ATR is the 14-day rolling average of (High - Low); a high value indicates high-conviction information diffusion, while a low value suggests a lack of liquidity support for the price move.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "16f63ed20036",
      "parent_trajectory_ids": [
        "ddd892827174",
        "c42ef4440166"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0068032163816015,
        "ICIR": 0.0463246430445467,
        "RankIC": 0.0236913075245471,
        "RankICIR": 0.1659601070478587,
        "annualized_return": 0.0230248837679552,
        "information_ratio": 0.3111210249824456,
        "max_drawdown": -0.179194916529402
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:33:02.179825",
      "updated_at": "2026-01-17T08:33:02.179831"
    },
    "136f1dd35e873a74": {
      "factor_id": "136f1dd35e873a74",
      "factor_name": "LSDI_Structural_Reversal_5D",
      "factor_expression": "TS_ZSCORE(($high - $low) / ($volume + 1e-8), 5) * (1 - TS_CORR($return, $volume, 20)) * TS_MEAN(ABS($return) / ($volume * $close + 1e-8), 5)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE(($high - $low) / ($volume + 1e-8), 5) * (1 - TS_CORR($close / DELAY($close, 1) - 1, $volume, 20)) * TS_MEAN(ABS($close / DELAY($close, 1) - 1) / ($volume * $close + 1e-8), 5)\" # Your output factor expression will be filled in here\n    name = \"LSDI_Structural_Reversal_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Liquidity-Structural Divergence Index: Identifies mean-reversion candidates by combining high intraday price dispersion relative to volume (liquidity exhaustion), low price-volume correlation (structural weakness), and rising illiquidity (Amihud).",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Liquidity-Structural Divergence Index' (LSDI) predicts reversals by identifying assets where the 5-day Z-score of the (High-Low)/Volume ratio is high, while the 20-day price-volume correlation is low and the 5-day Amihud Illiquidity is rising.\n                Concise Observation: Parent 1 successfully captured mean-reversion via intraday range/volume (RankIC 0.0268), while Parent 2 identified regime shifts via price-volume correlation and Amihud illiquidity (RankIC 0.0255); however, both suffer from noise during trending markets with low-quality volume.\n                Concise Justification: Fusing these identifies 'Liquidity Vacuums' where price moves are 'expensive' (high Amihud) and 'disorganized' (low PV correlation), ensuring that the exhaustion signal from Parent 1 is validated by the structural weakness identified in Parent 2.\n                Concise Knowledge: If extreme intraday price dispersion occurs without a corresponding increase in price-volume reflexivity, the price move is likely a liquidity-driven exhaustion rather than a sustainable trend; when high illiquidity coincides with low correlation, the market is in a 'regime trap' prone to mean reversion.\n                concise Specification: The factor is defined as the product of the 5-day Z-score of (High-Low)/Volume and the inverse of the 20-day rolling correlation between price changes and volume, scaled by the 5-day average of absolute return divided by dollar volume (Amihud).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "2978591db7ac",
      "parent_trajectory_ids": [
        "0b251d2e379b",
        "3c37422cea0a"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0046096241986078,
        "ICIR": 0.032824358114378,
        "RankIC": 0.021486235632396,
        "RankICIR": 0.1551139432987301,
        "annualized_return": 0.0164555744396186,
        "information_ratio": 0.2351988131090285,
        "max_drawdown": -0.1148980339497351
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:38:04.473403",
      "updated_at": "2026-01-17T08:38:04.473410"
    },
    "dc804a0cabe34420": {
      "factor_id": "dc804a0cabe34420",
      "factor_name": "Liquidity_Vacuum_Exhaustion_10D",
      "factor_expression": "RANK(($high - $low) / ($volume + 1e-8)) * RANK(1 - ABS(TS_CORR($close, $volume, 10)))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($high - $low) / ($volume + 1e-8)) * RANK(1 - ABS(TS_CORR($close, $volume, 10)))\" # Your output factor expression will be filled in here\n    name = \"Liquidity_Vacuum_Exhaustion_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Captures 'Liquidity Vacuums' where price range expands on low relative volume efficiency. It uses the rank of the ratio between price range and volume, weighted by the inverse of the recent price-volume trend stability.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Liquidity-Structural Divergence Index' (LSDI) predicts reversals by identifying assets where the 5-day Z-score of the (High-Low)/Volume ratio is high, while the 20-day price-volume correlation is low and the 5-day Amihud Illiquidity is rising.\n                Concise Observation: Parent 1 successfully captured mean-reversion via intraday range/volume (RankIC 0.0268), while Parent 2 identified regime shifts via price-volume correlation and Amihud illiquidity (RankIC 0.0255); however, both suffer from noise during trending markets with low-quality volume.\n                Concise Justification: Fusing these identifies 'Liquidity Vacuums' where price moves are 'expensive' (high Amihud) and 'disorganized' (low PV correlation), ensuring that the exhaustion signal from Parent 1 is validated by the structural weakness identified in Parent 2.\n                Concise Knowledge: If extreme intraday price dispersion occurs without a corresponding increase in price-volume reflexivity, the price move is likely a liquidity-driven exhaustion rather than a sustainable trend; when high illiquidity coincides with low correlation, the market is in a 'regime trap' prone to mean reversion.\n                concise Specification: The factor is defined as the product of the 5-day Z-score of (High-Low)/Volume and the inverse of the 20-day rolling correlation between price changes and volume, scaled by the 5-day average of absolute return divided by dollar volume (Amihud).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "2978591db7ac",
      "parent_trajectory_ids": [
        "0b251d2e379b",
        "3c37422cea0a"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0046096241986078,
        "ICIR": 0.032824358114378,
        "RankIC": 0.021486235632396,
        "RankICIR": 0.1551139432987301,
        "annualized_return": 0.0164555744396186,
        "information_ratio": 0.2351988131090285,
        "max_drawdown": -0.1148980339497351
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:38:04.504382",
      "updated_at": "2026-01-17T08:38:04.504388"
    },
    "d1c4f598a5239432": {
      "factor_id": "d1c4f598a5239432",
      "factor_name": "Amihud_Regime_Trap_Index",
      "factor_expression": "RANK(ABS($return) / ($volume * $close + 1e-8)) * RANK(TS_MEAN($volume, 20) / ($volume + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(ABS(TS_PCTCHANGE($close, 1)) / ($volume * $close + 1e-8)) * RANK(TS_MEAN($volume, 20) / ($volume + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Amihud_Regime_Trap_Index\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Identifies 'Regime Traps' where illiquidity is high but price movement lacks volume confirmation. It measures the cross-sectional rank of Amihud illiquidity multiplied by the divergence of current volume from its 20-day mean.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Liquidity-Structural Divergence Index' (LSDI) predicts reversals by identifying assets where the 5-day Z-score of the (High-Low)/Volume ratio is high, while the 20-day price-volume correlation is low and the 5-day Amihud Illiquidity is rising.\n                Concise Observation: Parent 1 successfully captured mean-reversion via intraday range/volume (RankIC 0.0268), while Parent 2 identified regime shifts via price-volume correlation and Amihud illiquidity (RankIC 0.0255); however, both suffer from noise during trending markets with low-quality volume.\n                Concise Justification: Fusing these identifies 'Liquidity Vacuums' where price moves are 'expensive' (high Amihud) and 'disorganized' (low PV correlation), ensuring that the exhaustion signal from Parent 1 is validated by the structural weakness identified in Parent 2.\n                Concise Knowledge: If extreme intraday price dispersion occurs without a corresponding increase in price-volume reflexivity, the price move is likely a liquidity-driven exhaustion rather than a sustainable trend; when high illiquidity coincides with low correlation, the market is in a 'regime trap' prone to mean reversion.\n                concise Specification: The factor is defined as the product of the 5-day Z-score of (High-Low)/Volume and the inverse of the 20-day rolling correlation between price changes and volume, scaled by the 5-day average of absolute return divided by dollar volume (Amihud).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "2978591db7ac",
      "parent_trajectory_ids": [
        "0b251d2e379b",
        "3c37422cea0a"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0046096241986078,
        "ICIR": 0.032824358114378,
        "RankIC": 0.021486235632396,
        "RankICIR": 0.1551139432987301,
        "annualized_return": 0.0164555744396186,
        "information_ratio": 0.2351988131090285,
        "max_drawdown": -0.1148980339497351
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:38:04.535079",
      "updated_at": "2026-01-17T08:38:04.535085"
    }
  }
}