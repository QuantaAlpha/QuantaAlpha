{
  "metadata": {
    "created_at": "2026-01-17T12:00:22.232633",
    "last_updated": "2026-01-17T12:00:22.232641",
    "total_factors": 150,
    "version": "1.0",
    "source": "all_factors_library_10_10_10_best1_组合123_QA.json",
    "note": "RankIC最大的150个因子，保持原始顺序"
  },
  "factors": {
    "e8c8d125e900c078": {
      "factor_id": "e8c8d125e900c078",
      "factor_name": "Price_Volume_Divergence_Momentum_Filter",
      "factor_expression": "TS_CORR($close, $volume, 20) * (($close / (DELAY($close, 60) + 1e-8)) > 1.2 ? 1 : 0)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_CORR($close, $volume, 20) * (($close / (DELAY($close, 60) + 1e-8)) > 1.2 ? 1 : 0)\" # Your output factor expression will be filled in here\n    name = \"Price_Volume_Divergence_Momentum_Filter\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures mean-reversion opportunities by identifying assets where price and volume are negatively correlated over a 20-day window, filtered by a 60-day price momentum threshold. A negative correlation in a downtrend suggests selling exhaustion.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between a 20-day negative correlation of price and volume and a 60-day price momentum threshold identifies mean-reversion opportunities in oversold assets.\n                Concise Observation: In distressed market regimes, price often continues to drift lower on thinning volume (negative correlation), suggesting that the supply of motivated sellers is nearly depleted.\n                Concise Justification: A negative correlation between price and volume (CORR20 < 0) implies that as price falls, volume decreases, which contradicts the 'volume confirms trend' principle and signals a lack of conviction in the downward move.\n                Concise Knowledge: If price and volume exhibit a strong negative correlation during a long-term downtrend, it indicates a decoupling where selling pressure diminishes despite falling prices; when this occurs, a subsequent reversal is likely as liquidity exhaustion precedes a trend shift.\n                concise Specification: The factor is defined as the product of the 20-day Spearman correlation between $close and $volume and a binary indicator where the 60-day Rate of Change ($close / delay($close, 60)) is greater than 1.2, focusing on the specific divergence regime.\n                ",
      "initial_direction": "Price-Volume divergence in distressed assets: Analyze if a negative CORR20 combined with a ROC60 > 1.2 identifies 'exhaustion selling' where price drops on decreasing volume, signaling a bottom.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Price-Volume divergence in distressed assets: Analyze if a negative CORR20 combined with a ROC60 > 1.2 identifies 'exhaustion selling' where price drops on decreasing volume, signaling a bottom.",
      "evolution_phase": "original",
      "trajectory_id": "eee7281a5d10",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0101760305930527,
        "ICIR": 0.0714103862598581,
        "RankIC": 0.0293903175276131,
        "RankICIR": 0.2110825439891154,
        "annualized_return": 0.0936239921992535,
        "information_ratio": 1.323067178220683,
        "max_drawdown": -0.0949365970875541
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:33:55.414416",
      "updated_at": "2026-01-17T01:33:55.414423"
    },
    "361cf565a18c2fb8": {
      "factor_id": "361cf565a18c2fb8",
      "factor_name": "Exhaustion_Regime_Indicator_20_60",
      "factor_expression": "RANK(TS_CORR($close, $volume, 20)) * TS_PCTCHANGE($close, 60)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_CORR($close, $volume, 20)) * TS_PCTCHANGE($close, 60)\" # Your output factor expression will be filled in here\n    name = \"Exhaustion_Regime_Indicator_20_60\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Identifies a specific market regime where price trend lacks volume support. It uses the rank of the 20-day price-volume correlation and scales it by a long-term 60-day relative price change to highlight potential reversal points in overextended or distressed assets.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between a 20-day negative correlation of price and volume and a 60-day price momentum threshold identifies mean-reversion opportunities in oversold assets.\n                Concise Observation: In distressed market regimes, price often continues to drift lower on thinning volume (negative correlation), suggesting that the supply of motivated sellers is nearly depleted.\n                Concise Justification: A negative correlation between price and volume (CORR20 < 0) implies that as price falls, volume decreases, which contradicts the 'volume confirms trend' principle and signals a lack of conviction in the downward move.\n                Concise Knowledge: If price and volume exhibit a strong negative correlation during a long-term downtrend, it indicates a decoupling where selling pressure diminishes despite falling prices; when this occurs, a subsequent reversal is likely as liquidity exhaustion precedes a trend shift.\n                concise Specification: The factor is defined as the product of the 20-day Spearman correlation between $close and $volume and a binary indicator where the 60-day Rate of Change ($close / delay($close, 60)) is greater than 1.2, focusing on the specific divergence regime.\n                ",
      "initial_direction": "Price-Volume divergence in distressed assets: Analyze if a negative CORR20 combined with a ROC60 > 1.2 identifies 'exhaustion selling' where price drops on decreasing volume, signaling a bottom.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Price-Volume divergence in distressed assets: Analyze if a negative CORR20 combined with a ROC60 > 1.2 identifies 'exhaustion selling' where price drops on decreasing volume, signaling a bottom.",
      "evolution_phase": "original",
      "trajectory_id": "eee7281a5d10",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0101760305930527,
        "ICIR": 0.0714103862598581,
        "RankIC": 0.0293903175276131,
        "RankICIR": 0.2110825439891154,
        "annualized_return": 0.0936239921992535,
        "information_ratio": 1.323067178220683,
        "max_drawdown": -0.0949365970875541
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:33:55.423623",
      "updated_at": "2026-01-17T01:33:55.423629"
    },
    "62b2bd1a32c42d0d": {
      "factor_id": "62b2bd1a32c42d0d",
      "factor_name": "Volume_Decoupled_Mean_Reversion",
      "factor_expression": "TS_ZSCORE(TS_CORR($close, $volume, 20), 60)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE(TS_CORR($close, $volume, 20), 60) * ((TS_MAX($high, 60) - TS_MIN($low, 60)) / (TS_MEAN($close, 60) + 1e-8) > 0.2 ? 1 : 0)\" # Your output factor expression will be filled in here\n    name = \"Volume_Decoupled_Mean_Reversion\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor focuses on the decoupling of price and volume. It calculates the 20-day correlation between price and volume and applies a conditional check on the 60-day price range. It aims to detect when a price move is losing liquidity support, signaling a potential trend shift.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between a 20-day negative correlation of price and volume and a 60-day price momentum threshold identifies mean-reversion opportunities in oversold assets.\n                Concise Observation: In distressed market regimes, price often continues to drift lower on thinning volume (negative correlation), suggesting that the supply of motivated sellers is nearly depleted.\n                Concise Justification: A negative correlation between price and volume (CORR20 < 0) implies that as price falls, volume decreases, which contradicts the 'volume confirms trend' principle and signals a lack of conviction in the downward move.\n                Concise Knowledge: If price and volume exhibit a strong negative correlation during a long-term downtrend, it indicates a decoupling where selling pressure diminishes despite falling prices; when this occurs, a subsequent reversal is likely as liquidity exhaustion precedes a trend shift.\n                concise Specification: The factor is defined as the product of the 20-day Spearman correlation between $close and $volume and a binary indicator where the 60-day Rate of Change ($close / delay($close, 60)) is greater than 1.2, focusing on the specific divergence regime.\n                ",
      "initial_direction": "Price-Volume divergence in distressed assets: Analyze if a negative CORR20 combined with a ROC60 > 1.2 identifies 'exhaustion selling' where price drops on decreasing volume, signaling a bottom.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Price-Volume divergence in distressed assets: Analyze if a negative CORR20 combined with a ROC60 > 1.2 identifies 'exhaustion selling' where price drops on decreasing volume, signaling a bottom.",
      "evolution_phase": "original",
      "trajectory_id": "eee7281a5d10",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0101760305930527,
        "ICIR": 0.0714103862598581,
        "RankIC": 0.0293903175276131,
        "RankICIR": 0.2110825439891154,
        "annualized_return": 0.0936239921992535,
        "information_ratio": 1.323067178220683,
        "max_drawdown": -0.0949365970875541
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:33:55.432925",
      "updated_at": "2026-01-17T01:33:55.432932"
    },
    "1ef674e9335a5506": {
      "factor_id": "1ef674e9335a5506",
      "factor_name": "Intraday_Support_Persistence_3D",
      "factor_expression": "RANK(TS_MEAN($low / ($high + 1e-8), 3))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN($low / ($high + 1e-8), 3))\" # Your output factor expression will be filled in here\n    name = \"Intraday_Support_Persistence_3D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the persistence of intraday support by calculating the 3-day average of the ratio between the daily low and the daily high. A higher ratio indicates that the daily price floor is consistently near the daily ceiling, suggesting strong structural buying pressure and shallow retracements.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 3-day average of the ratio between the daily low price and the daily price range (high minus low) serves as a proxy for intraday support persistence, where higher values indicate stronger structural buying pressure and predict positive future returns.\n                Concise Observation: Daily price action frequently shows that stocks with 'shallow' pullbacks relative to their volatility (high low-to-range ratios) tend to exhibit more stable trend persistence than those with deep intraday retracements.\n                Concise Justification: The ratio of ($low - $low) / ($high - $low) is always 0, so the intended logic is the relative position of the low within the high-low channel; a high relative low suggests that the 'floor' of the day is elevated, indicating strong limit-order clusters or institutional support.\n                Concise Knowledge: If a stock's daily low consistently resides near the upper end of its intraday range, it suggests that aggressive buyers are absorbing selling pressure before prices can mean-revert to the daily average; such structural support often precedes upward momentum.\n                concise Specification: Calculate the ratio ($low / $high) or more specifically ($low - min_low) is not possible with daily data, so we use ($low / $high) over a 3-day rolling window to measure the persistence of the price floor relative to the ceiling.\n                ",
      "initial_direction": "Intraday Support Persistence: Measure the 3-day moving average of KLOW relative to the daily trading range to identify stocks with consistent structural buying pressure.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Intraday Support Persistence: Measure the 3-day moving average of KLOW relative to the daily trading range to identify stocks with consistent structural buying pressure.",
      "evolution_phase": "original",
      "trajectory_id": "f774b3beb631",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0078813560423296,
        "ICIR": 0.054861950766636,
        "RankIC": 0.0256495059138648,
        "RankICIR": 0.1888602805404589,
        "annualized_return": 0.0782203629547681,
        "information_ratio": 1.23761002347991,
        "max_drawdown": -0.0989708035749755
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:35:31.996149",
      "updated_at": "2026-01-17T01:35:31.996156"
    },
    "aff3a44a82d9f6c2": {
      "factor_id": "aff3a44a82d9f6c2",
      "factor_name": "Relative_Low_Position_Stability_5D",
      "factor_expression": "RANK(TS_MEAN(($low - $low + 0.01) / (($high - $low) / $open + 0.01), 5))",
      "factor_implementation_code": "",
      "factor_description": "This factor captures the stability of the price floor by measuring the 5-day average of the low price's position relative to the daily range (high - low). It uses a slightly longer window than the 3-day version to capture more robust structural support while normalizing by the intraday volatility.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 3-day average of the ratio between the daily low price and the daily price range (high minus low) serves as a proxy for intraday support persistence, where higher values indicate stronger structural buying pressure and predict positive future returns.\n                Concise Observation: Daily price action frequently shows that stocks with 'shallow' pullbacks relative to their volatility (high low-to-range ratios) tend to exhibit more stable trend persistence than those with deep intraday retracements.\n                Concise Justification: The ratio of ($low - $low) / ($high - $low) is always 0, so the intended logic is the relative position of the low within the high-low channel; a high relative low suggests that the 'floor' of the day is elevated, indicating strong limit-order clusters or institutional support.\n                Concise Knowledge: If a stock's daily low consistently resides near the upper end of its intraday range, it suggests that aggressive buyers are absorbing selling pressure before prices can mean-revert to the daily average; such structural support often precedes upward momentum.\n                concise Specification: Calculate the ratio ($low / $high) or more specifically ($low - min_low) is not possible with daily data, so we use ($low / $high) over a 3-day rolling window to measure the persistence of the price floor relative to the ceiling.\n                ",
      "initial_direction": "Intraday Support Persistence: Measure the 3-day moving average of KLOW relative to the daily trading range to identify stocks with consistent structural buying pressure.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Intraday Support Persistence: Measure the 3-day moving average of KLOW relative to the daily trading range to identify stocks with consistent structural buying pressure.",
      "evolution_phase": "original",
      "trajectory_id": "f774b3beb631",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0078813560423296,
        "ICIR": 0.054861950766636,
        "RankIC": 0.0256495059138648,
        "RankICIR": 0.1888602805404589,
        "annualized_return": 0.0782203629547681,
        "information_ratio": 1.23761002347991,
        "max_drawdown": -0.0989708035749755
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:35:32.005454",
      "updated_at": "2026-01-17T01:35:32.005459"
    },
    "dbdfe2963b41ca0d": {
      "factor_id": "dbdfe2963b41ca0d",
      "factor_name": "Support_Level_ZScore_3D",
      "factor_expression": "ZSCORE(TS_MEAN($low / ($high + 1e-8), 3))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(TS_MEAN($low / ($high + 1e-8), 3))\" # Your output factor expression will be filled in here\n    name = \"Support_Level_ZScore_3D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies stocks where the current intraday low is significantly higher than its historical average relative to the high, normalized by the cross-sectional distribution. It highlights abnormal strength in the price floor.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 3-day average of the ratio between the daily low price and the daily price range (high minus low) serves as a proxy for intraday support persistence, where higher values indicate stronger structural buying pressure and predict positive future returns.\n                Concise Observation: Daily price action frequently shows that stocks with 'shallow' pullbacks relative to their volatility (high low-to-range ratios) tend to exhibit more stable trend persistence than those with deep intraday retracements.\n                Concise Justification: The ratio of ($low - $low) / ($high - $low) is always 0, so the intended logic is the relative position of the low within the high-low channel; a high relative low suggests that the 'floor' of the day is elevated, indicating strong limit-order clusters or institutional support.\n                Concise Knowledge: If a stock's daily low consistently resides near the upper end of its intraday range, it suggests that aggressive buyers are absorbing selling pressure before prices can mean-revert to the daily average; such structural support often precedes upward momentum.\n                concise Specification: Calculate the ratio ($low / $high) or more specifically ($low - min_low) is not possible with daily data, so we use ($low / $high) over a 3-day rolling window to measure the persistence of the price floor relative to the ceiling.\n                ",
      "initial_direction": "Intraday Support Persistence: Measure the 3-day moving average of KLOW relative to the daily trading range to identify stocks with consistent structural buying pressure.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Intraday Support Persistence: Measure the 3-day moving average of KLOW relative to the daily trading range to identify stocks with consistent structural buying pressure.",
      "evolution_phase": "original",
      "trajectory_id": "f774b3beb631",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0078813560423296,
        "ICIR": 0.054861950766636,
        "RankIC": 0.0256495059138648,
        "RankICIR": 0.1888602805404589,
        "annualized_return": 0.0782203629547681,
        "information_ratio": 1.23761002347991,
        "max_drawdown": -0.0989708035749755
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:35:32.014723",
      "updated_at": "2026-01-17T01:35:32.014729"
    },
    "9490425d06133280": {
      "factor_id": "9490425d06133280",
      "factor_name": "Linear_Trend_Volume_Divergence_10D",
      "factor_expression": "(POW(REGBETA($close, SEQUENCE(10), 10), 2) * TS_VAR(SEQUENCE(10), 10) / (TS_VAR($close, 10) + 1e-8)) * (-1 * TS_CORR($return, $volume, 10))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"POW(TS_CORR($close, SEQUENCE(10), 10), 2) * (-1 * TS_CORR(TS_PCTCHANGE($close, 1), $volume, 10))\" # Your output factor expression will be filled in here\n    name = \"Linear_Trend_Volume_Divergence_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies potential trend exhaustion by multiplying the linearity of the price trend (RSQR) with the negative correlation between returns and volume. High linearity combined with volume-price divergence suggests the trend is losing structural support.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between a high 10-day price trend linearity (RSQR10) and a negative correlation between price changes and volume (volume-price divergence) identifies trend exhaustion and potential reversal points.\n                Concise Observation: Strong linear trends often mask underlying liquidity exhaustion which can be detected by observing the divergence between price movement and trading volume intensity.\n                Concise Justification: High R-squared values indicate a consensus-driven trend, but if volume fails to support price increases (or decreases), it suggests a lack of conviction among market participants, signaling an imminent breakdown of the current trajectory.\n                Concise Knowledge: If a price trend exhibits high linearity (high RSQR) while volume begins to decouple from price direction (negative correlation), the trend is likely losing structural support and approaching a reversal; when these conditions coincide, the predictive power for mean reversion increases.\n                concise Specification: Define RSQR10 as the coefficient of determination from a 10-day linear regression of price; define Divergence as the 10-day correlation between daily returns and daily volume; the factor is the product of RSQR10 and the negative component of the volume-price correlation.\n                ",
      "initial_direction": "Investigate the interaction between RSQR10 and volume-price divergence by filtering high R-squared trends with negative volume-price correlation to identify exhaustion points.",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "Investigate the interaction between RSQR10 and volume-price divergence by filtering high R-squared trends with negative volume-price correlation to identify exhaustion points.",
      "evolution_phase": "original",
      "trajectory_id": "d035d118fac3",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0069631684757218,
        "ICIR": 0.0508387665311522,
        "RankIC": 0.0243179360546764,
        "RankICIR": 0.177918731300666,
        "annualized_return": 0.0729069736932787,
        "information_ratio": 1.1044609644706769,
        "max_drawdown": -0.0883567444120492
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:43:23.339434",
      "updated_at": "2026-01-17T01:43:23.339444"
    },
    "7bcced8c81d75b33": {
      "factor_id": "7bcced8c81d75b33",
      "factor_name": "Trend_Exhaustion_Signal_20D",
      "factor_expression": "(POW(REGBETA($close, SEQUENCE(20), 20), 2) * TS_VAR(SEQUENCE(20), 20) / (TS_VAR($close, 20) + 1e-8)) * SIGN(-1 * TS_CORR($return, $volume, 20))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"POW(TS_CORR($close, SEQUENCE(20), 20), 2) * SIGN(-1 * TS_CORR(TS_PCTCHANGE($close, 1), $volume, 20))\" # Your output factor expression will be filled in here\n    name = \"Trend_Exhaustion_Signal_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A robust version of the trend exhaustion hypothesis using a 20-day window. It captures the interaction between price trend stability and the decoupling of volume, where a negative correlation between volume and price changes indicates a lack of conviction in the prevailing trend.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between a high 10-day price trend linearity (RSQR10) and a negative correlation between price changes and volume (volume-price divergence) identifies trend exhaustion and potential reversal points.\n                Concise Observation: Strong linear trends often mask underlying liquidity exhaustion which can be detected by observing the divergence between price movement and trading volume intensity.\n                Concise Justification: High R-squared values indicate a consensus-driven trend, but if volume fails to support price increases (or decreases), it suggests a lack of conviction among market participants, signaling an imminent breakdown of the current trajectory.\n                Concise Knowledge: If a price trend exhibits high linearity (high RSQR) while volume begins to decouple from price direction (negative correlation), the trend is likely losing structural support and approaching a reversal; when these conditions coincide, the predictive power for mean reversion increases.\n                concise Specification: Define RSQR10 as the coefficient of determination from a 10-day linear regression of price; define Divergence as the 10-day correlation between daily returns and daily volume; the factor is the product of RSQR10 and the negative component of the volume-price correlation.\n                ",
      "initial_direction": "Investigate the interaction between RSQR10 and volume-price divergence by filtering high R-squared trends with negative volume-price correlation to identify exhaustion points.",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "Investigate the interaction between RSQR10 and volume-price divergence by filtering high R-squared trends with negative volume-price correlation to identify exhaustion points.",
      "evolution_phase": "original",
      "trajectory_id": "d035d118fac3",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0069631684757218,
        "ICIR": 0.0508387665311522,
        "RankIC": 0.0243179360546764,
        "RankICIR": 0.177918731300666,
        "annualized_return": 0.0729069736932787,
        "information_ratio": 1.1044609644706769,
        "max_drawdown": -0.0883567444120492
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:43:23.367826",
      "updated_at": "2026-01-17T01:43:23.367834"
    },
    "ee1e2d324e285027": {
      "factor_id": "ee1e2d324e285027",
      "factor_name": "Cross_Sectional_Divergence_Rank_15D",
      "factor_expression": "RANK(POW(REGBETA($close, SEQUENCE(15), 15), 2) * TS_VAR(SEQUENCE(15), 15) / (TS_VAR($close, 15) + 1e-8)) * RANK(-1 * TS_CORR($return, $volume, 15))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(POW(TS_CORR($close, SEQUENCE(15), 15), 2)) * RANK(-1 * TS_CORR(TS_PCTCHANGE($close, 1), $volume, 15))\" # Your output factor expression will be filled in here\n    name = \"Cross_Sectional_Divergence_Rank_15D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor ranks the intensity of price-volume divergence relative to the market, weighted by the linearity of the 15-day price trend. It highlights stocks where the trend is most likely to reverse due to a significant drop in volume support during price moves.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between a high 10-day price trend linearity (RSQR10) and a negative correlation between price changes and volume (volume-price divergence) identifies trend exhaustion and potential reversal points.\n                Concise Observation: Strong linear trends often mask underlying liquidity exhaustion which can be detected by observing the divergence between price movement and trading volume intensity.\n                Concise Justification: High R-squared values indicate a consensus-driven trend, but if volume fails to support price increases (or decreases), it suggests a lack of conviction among market participants, signaling an imminent breakdown of the current trajectory.\n                Concise Knowledge: If a price trend exhibits high linearity (high RSQR) while volume begins to decouple from price direction (negative correlation), the trend is likely losing structural support and approaching a reversal; when these conditions coincide, the predictive power for mean reversion increases.\n                concise Specification: Define RSQR10 as the coefficient of determination from a 10-day linear regression of price; define Divergence as the 10-day correlation between daily returns and daily volume; the factor is the product of RSQR10 and the negative component of the volume-price correlation.\n                ",
      "initial_direction": "Investigate the interaction between RSQR10 and volume-price divergence by filtering high R-squared trends with negative volume-price correlation to identify exhaustion points.",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "Investigate the interaction between RSQR10 and volume-price divergence by filtering high R-squared trends with negative volume-price correlation to identify exhaustion points.",
      "evolution_phase": "original",
      "trajectory_id": "d035d118fac3",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0069631684757218,
        "ICIR": 0.0508387665311522,
        "RankIC": 0.0243179360546764,
        "RankICIR": 0.177918731300666,
        "annualized_return": 0.0729069736932787,
        "information_ratio": 1.1044609644706769,
        "max_drawdown": -0.0883567444120492
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:43:23.396155",
      "updated_at": "2026-01-17T01:43:23.396163"
    },
    "b63263adb82f671c": {
      "factor_id": "b63263adb82f671c",
      "factor_name": "VWAP_Volume_Corr_20D",
      "factor_expression": "TS_CORR(($open + $high + $low + $close) / 4, $volume, 20)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_CORR(($open + $high + $low + $close) / 4, $volume, 20)\" # Your output factor expression will be filled in here\n    name = \"VWAP_Volume_Corr_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Calculates the 20-day Pearson correlation between the daily Volume-Weighted Average Price (approximated by the average of OHLC) and daily trading volume. High positive correlation suggests institutional accumulation during high-liquidity periods.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 20-day correlation between daily Volume-Weighted Average Price (VWAP) and daily volume provides a more accurate signal of institutional accumulation or distribution than close-price-based correlations.\n                Concise Observation: Standard price-volume correlations often fail to distinguish between high-conviction institutional moves and low-volume price manipulation occurring at the market close.\n                Concise Justification: VWAP represents the true average cost basis of participants for a given day; a rising correlation between this average cost and volume suggests that larger players are aggressively moving the price during high-liquidity periods.\n                Concise Knowledge: If price and volume are positively correlated using VWAP, it indicates strong institutional conviction; when VWAP is used instead of close price, the noise from end-of-day retail volatility is reduced, revealing truer liquidity trends.\n                concise Specification: Calculate the Pearson correlation over a rolling 20-day window between daily VWAP (defined as the average of open, high, low, and close) and daily volume, using the daily_pv.h5 dataset.\n                ",
      "initial_direction": "Volume-weighted price correlation: Modify CORR20 to use volume-weighted average price (VWAP) instead of close price to capture the lead-lag relationship between institutional intent and execution.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Volume-weighted price correlation: Modify CORR20 to use volume-weighted average price (VWAP) instead of close price to capture the lead-lag relationship between institutional intent and execution.",
      "evolution_phase": "original",
      "trajectory_id": "3873625a6349",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0098494620981199,
        "ICIR": 0.0637880904469664,
        "RankIC": 0.0245725377660968,
        "RankICIR": 0.1597098083399687,
        "annualized_return": 0.0757884543162963,
        "information_ratio": 1.0152694800996445,
        "max_drawdown": -0.1064575058778648
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:45:05.506484",
      "updated_at": "2026-01-17T01:45:05.506490"
    },
    "6ad5cfcd459fa7af": {
      "factor_id": "6ad5cfcd459fa7af",
      "factor_name": "Ranked_VWAP_Volume_Conviction_10D",
      "factor_expression": "RANK(TS_CORR(($open + $high + $low + $close) / 4, $volume, 10))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_CORR(($open + $high + $low + $close) / 4, $volume, 10))\" # Your output factor expression will be filled in here\n    name = \"Ranked_VWAP_Volume_Conviction_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Measures the cross-sectional rank of the correlation between the daily average price (VWAP proxy) and volume over a 10-day window. Ranking the correlation helps identify stocks with the strongest institutional conviction relative to the market universe.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 20-day correlation between daily Volume-Weighted Average Price (VWAP) and daily volume provides a more accurate signal of institutional accumulation or distribution than close-price-based correlations.\n                Concise Observation: Standard price-volume correlations often fail to distinguish between high-conviction institutional moves and low-volume price manipulation occurring at the market close.\n                Concise Justification: VWAP represents the true average cost basis of participants for a given day; a rising correlation between this average cost and volume suggests that larger players are aggressively moving the price during high-liquidity periods.\n                Concise Knowledge: If price and volume are positively correlated using VWAP, it indicates strong institutional conviction; when VWAP is used instead of close price, the noise from end-of-day retail volatility is reduced, revealing truer liquidity trends.\n                concise Specification: Calculate the Pearson correlation over a rolling 20-day window between daily VWAP (defined as the average of open, high, low, and close) and daily volume, using the daily_pv.h5 dataset.\n                ",
      "initial_direction": "Volume-weighted price correlation: Modify CORR20 to use volume-weighted average price (VWAP) instead of close price to capture the lead-lag relationship between institutional intent and execution.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Volume-weighted price correlation: Modify CORR20 to use volume-weighted average price (VWAP) instead of close price to capture the lead-lag relationship between institutional intent and execution.",
      "evolution_phase": "original",
      "trajectory_id": "3873625a6349",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0098494620981199,
        "ICIR": 0.0637880904469664,
        "RankIC": 0.0245725377660968,
        "RankICIR": 0.1597098083399687,
        "annualized_return": 0.0757884543162963,
        "information_ratio": 1.0152694800996445,
        "max_drawdown": -0.1064575058778648
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:45:05.516600",
      "updated_at": "2026-01-17T01:45:05.516605"
    },
    "3ec21ce3831ff95e": {
      "factor_id": "3ec21ce3831ff95e",
      "factor_name": "VWAP_Volume_Trend_ZScore_20D",
      "factor_expression": "TS_ZSCORE(TS_CORR(($open + $high + $low + $close) / 4, $volume, 20), 20)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE(TS_CORR(($open + $high + $low + $close) / 4, $volume, 20), 20)\" # Your output factor expression will be filled in here\n    name = \"VWAP_Volume_Trend_ZScore_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Standardizes the 20-day VWAP-Volume correlation using a time-series Z-score. This identifies periods where the institutional accumulation signal is significantly stronger or weaker than its own historical average, providing a signal of trend acceleration.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 20-day correlation between daily Volume-Weighted Average Price (VWAP) and daily volume provides a more accurate signal of institutional accumulation or distribution than close-price-based correlations.\n                Concise Observation: Standard price-volume correlations often fail to distinguish between high-conviction institutional moves and low-volume price manipulation occurring at the market close.\n                Concise Justification: VWAP represents the true average cost basis of participants for a given day; a rising correlation between this average cost and volume suggests that larger players are aggressively moving the price during high-liquidity periods.\n                Concise Knowledge: If price and volume are positively correlated using VWAP, it indicates strong institutional conviction; when VWAP is used instead of close price, the noise from end-of-day retail volatility is reduced, revealing truer liquidity trends.\n                concise Specification: Calculate the Pearson correlation over a rolling 20-day window between daily VWAP (defined as the average of open, high, low, and close) and daily volume, using the daily_pv.h5 dataset.\n                ",
      "initial_direction": "Volume-weighted price correlation: Modify CORR20 to use volume-weighted average price (VWAP) instead of close price to capture the lead-lag relationship between institutional intent and execution.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Volume-weighted price correlation: Modify CORR20 to use volume-weighted average price (VWAP) instead of close price to capture the lead-lag relationship between institutional intent and execution.",
      "evolution_phase": "original",
      "trajectory_id": "3873625a6349",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0098494620981199,
        "ICIR": 0.0637880904469664,
        "RankIC": 0.0245725377660968,
        "RankICIR": 0.1597098083399687,
        "annualized_return": 0.0757884543162963,
        "information_ratio": 1.0152694800996445,
        "max_drawdown": -0.1064575058778648
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:45:05.527381",
      "updated_at": "2026-01-17T01:45:05.527388"
    },
    "02c7c583868e4030": {
      "factor_id": "02c7c583868e4030",
      "factor_name": "Price_Volume_Trend_Divergence_10D",
      "factor_expression": "RANK(TS_PCTCHANGE($close, 10)) - RANK(RSI($close, 10))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_PCTCHANGE($close, 10)) - RANK(RSI($close, 10))\" # Your output factor expression will be filled in here\n    name = \"Price_Volume_Trend_Divergence_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures the divergence between price momentum and volume-weighted momentum over a 10-day period. It calculates the difference between the cross-sectional rank of the 10-day price change and the cross-sectional rank of the 10-day RSI (Relative Strength Index). A high divergence suggests the price trend is exhausted and likely to undergo mean reversion.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 10-day price-volume trend divergence, calculated as the difference between the 10-day price change percentile and the 10-day volume-weighted momentum percentile, predicts short-term mean reversion in stock returns.\n                Concise Observation: Market participants often observe that new price highs accompanied by declining technical strength indicators (like RESI) frequently precede a trend breakdown.\n                Concise Justification: Divergence between price action and momentum signals a lack of conviction from institutional buyers, suggesting that the current price level is unsustainable and likely to revert.\n                Concise Knowledge: If a stock's price trend is not supported by a corresponding strength in volume-weighted momentum, then the trend is likely exhausted and prone to reversal.\n                concise Specification: The factor is defined as the 10-day change in 'close' minus the 10-day change in 'factor' (RESI), both normalized cross-sectionally to ensure comparability across different instruments.\n                ",
      "initial_direction": "Residual Momentum Divergence: Identify stocks where the price is making new highs but RESI5 is declining, suggesting a loss of trend strength and imminent mean reversion.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Residual Momentum Divergence: Identify stocks where the price is making new highs but RESI5 is declining, suggesting a loss of trend strength and imminent mean reversion.",
      "evolution_phase": "original",
      "trajectory_id": "6886de421d28",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0068969038155469,
        "ICIR": 0.0508409090534763,
        "RankIC": 0.0239128373388356,
        "RankICIR": 0.1827418040169358,
        "annualized_return": 0.0756910137973694,
        "information_ratio": 1.2351880301739793,
        "max_drawdown": -0.0800861103250965
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:52:41.133648",
      "updated_at": "2026-01-17T01:52:41.133655"
    },
    "0d21fba9d1db2f28": {
      "factor_id": "0d21fba9d1db2f28",
      "factor_name": "VW_Momentum_Exhaustion_Factor",
      "factor_expression": "RANK(TS_PCTCHANGE($close, 10)) - RANK(TS_PCTCHANGE(TS_MEAN($close * $volume, 10) / (TS_MEAN($volume, 10) + 1e-8), 10))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_PCTCHANGE($close, 10)) - RANK(TS_PCTCHANGE(TS_MEAN($close * $volume, 10) / (TS_MEAN($volume, 10) + 1e-8), 10))\" # Your output factor expression will be filled in here\n    name = \"VW_Momentum_Exhaustion_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies price-volume exhaustion by comparing the 10-day price return rank against the rank of the 10-day volume-weighted average price (VWAP) momentum. It uses the residual of price changes not explained by volume trends to signal potential reversals.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 10-day price-volume trend divergence, calculated as the difference between the 10-day price change percentile and the 10-day volume-weighted momentum percentile, predicts short-term mean reversion in stock returns.\n                Concise Observation: Market participants often observe that new price highs accompanied by declining technical strength indicators (like RESI) frequently precede a trend breakdown.\n                Concise Justification: Divergence between price action and momentum signals a lack of conviction from institutional buyers, suggesting that the current price level is unsustainable and likely to revert.\n                Concise Knowledge: If a stock's price trend is not supported by a corresponding strength in volume-weighted momentum, then the trend is likely exhausted and prone to reversal.\n                concise Specification: The factor is defined as the 10-day change in 'close' minus the 10-day change in 'factor' (RESI), both normalized cross-sectionally to ensure comparability across different instruments.\n                ",
      "initial_direction": "Residual Momentum Divergence: Identify stocks where the price is making new highs but RESI5 is declining, suggesting a loss of trend strength and imminent mean reversion.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Residual Momentum Divergence: Identify stocks where the price is making new highs but RESI5 is declining, suggesting a loss of trend strength and imminent mean reversion.",
      "evolution_phase": "original",
      "trajectory_id": "6886de421d28",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0068969038155469,
        "ICIR": 0.0508409090534763,
        "RankIC": 0.0239128373388356,
        "RankICIR": 0.1827418040169358,
        "annualized_return": 0.0756910137973694,
        "information_ratio": 1.2351880301739793,
        "max_drawdown": -0.0800861103250965
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:52:41.144355",
      "updated_at": "2026-01-17T01:52:41.144361"
    },
    "d227acabb1805dc1": {
      "factor_id": "d227acabb1805dc1",
      "factor_name": "Relative_Strength_Divergence_ZScore",
      "factor_expression": "ZSCORE(RANK(TS_PCTCHANGE($close, 10)) - RANK(RSI($close, 10)))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(RANK(TS_PCTCHANGE($close, 10)) - RANK(RSI($close, 10)))\" # Your output factor expression will be filled in here\n    name = \"Relative_Strength_Divergence_ZScore\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the standardized divergence between price returns and the Relative Strength Index (RSI). By taking the Z-score of the difference between price return ranks and RSI ranks over 10 days, it highlights extreme cases where price action is decoupled from technical strength, indicating high reversal probability.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 10-day price-volume trend divergence, calculated as the difference between the 10-day price change percentile and the 10-day volume-weighted momentum percentile, predicts short-term mean reversion in stock returns.\n                Concise Observation: Market participants often observe that new price highs accompanied by declining technical strength indicators (like RESI) frequently precede a trend breakdown.\n                Concise Justification: Divergence between price action and momentum signals a lack of conviction from institutional buyers, suggesting that the current price level is unsustainable and likely to revert.\n                Concise Knowledge: If a stock's price trend is not supported by a corresponding strength in volume-weighted momentum, then the trend is likely exhausted and prone to reversal.\n                concise Specification: The factor is defined as the 10-day change in 'close' minus the 10-day change in 'factor' (RESI), both normalized cross-sectionally to ensure comparability across different instruments.\n                ",
      "initial_direction": "Residual Momentum Divergence: Identify stocks where the price is making new highs but RESI5 is declining, suggesting a loss of trend strength and imminent mean reversion.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Residual Momentum Divergence: Identify stocks where the price is making new highs but RESI5 is declining, suggesting a loss of trend strength and imminent mean reversion.",
      "evolution_phase": "original",
      "trajectory_id": "6886de421d28",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0068969038155469,
        "ICIR": 0.0508409090534763,
        "RankIC": 0.0239128373388356,
        "RankICIR": 0.1827418040169358,
        "annualized_return": 0.0756910137973694,
        "information_ratio": 1.2351880301739793,
        "max_drawdown": -0.0800861103250965
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:52:41.154827",
      "updated_at": "2026-01-17T01:52:41.154832"
    },
    "f0ba63507298d9b8": {
      "factor_id": "f0ba63507298d9b8",
      "factor_name": "PV_Conviction_Momentum_20_5",
      "factor_expression": "RANK(TS_CORR($close, $volume, 20) * TS_STD($volume, 5))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_CORR($close, $volume, 20) * TS_STD($volume, 5))\" # Your output factor expression will be filled in here\n    name = \"PV_Conviction_Momentum_20_5\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies high-conviction momentum by calculating the product of the 20-day price-volume correlation and the 5-day volume volatility. A positive correlation combined with high volume dispersion suggests that the price trend is supported by intense information arrival and strong market consensus.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between a 20-day price-volume correlation (CORR20) and 5-day volume volatility (VSTD5) identifies high-conviction momentum; specifically, the product of CORR20 and VSTD5 positively predicts future returns by capturing synchronized market participation during periods of intense information flow.\n                Concise Observation: Price-volume synchrony (CORR) often signals trend strength, but its predictive power is inconsistent unless conditioned on the intensity of trading activity, which can be measured by the standard deviation of volume.\n                Concise Justification: High volume volatility indicates a surge in information arrival; when this surge coincides with a strong positive correlation between price and volume, it suggests that the price move is supported by increasing conviction, reducing the likelihood of a mean-reversion event.\n                Concise Knowledge: If price and volume are positively correlated during periods of high volume dispersion, the prevailing price trend is more likely to persist because it reflects a broad consensus among informed traders rather than noise.\n                concise Specification: The factor is defined as the product of the 20-day Pearson correlation between daily close price and daily volume, and the 5-day standard deviation of daily volume, applied cross-sectionally to identify trend continuation.\n                ",
      "initial_direction": "Information flow asymmetry: Test if the interaction of positive CORR20 (price-volume synchrony) and high VSTD5 identifies 'high-conviction' trend continuations rather than reversals.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Information flow asymmetry: Test if the interaction of positive CORR20 (price-volume synchrony) and high VSTD5 identifies 'high-conviction' trend continuations rather than reversals.",
      "evolution_phase": "original",
      "trajectory_id": "e61d4a67d477",
      "parent_trajectory_ids": [],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0078699420500738,
        "ICIR": 0.0517398048082506,
        "RankIC": 0.0253544088301323,
        "RankICIR": 0.1665086703433936,
        "annualized_return": 0.0250113704557489,
        "information_ratio": 0.3304105987829027,
        "max_drawdown": -0.1394595673227112
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:54:48.974850",
      "updated_at": "2026-01-17T01:54:48.974856"
    },
    "cd7ac8d6736c5188": {
      "factor_id": "cd7ac8d6736c5188",
      "factor_name": "Normalized_PV_Synchrony_Intensity",
      "factor_expression": "TS_CORR($close, $volume, 20) * (TS_STD($volume, 5) / (TS_MEAN(TS_STD($volume, 5), 20) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_CORR($close, $volume, 20) * (TS_STD($volume, 5) / (TS_MEAN(TS_STD($volume, 5), 20) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Normalized_PV_Synchrony_Intensity\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A variation of the price-volume synchrony hypothesis that normalizes volume volatility by its 20-day average to capture relative intensity. It scales the 20-day price-volume correlation by the ratio of short-term volume volatility to long-term volume volatility.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between a 20-day price-volume correlation (CORR20) and 5-day volume volatility (VSTD5) identifies high-conviction momentum; specifically, the product of CORR20 and VSTD5 positively predicts future returns by capturing synchronized market participation during periods of intense information flow.\n                Concise Observation: Price-volume synchrony (CORR) often signals trend strength, but its predictive power is inconsistent unless conditioned on the intensity of trading activity, which can be measured by the standard deviation of volume.\n                Concise Justification: High volume volatility indicates a surge in information arrival; when this surge coincides with a strong positive correlation between price and volume, it suggests that the price move is supported by increasing conviction, reducing the likelihood of a mean-reversion event.\n                Concise Knowledge: If price and volume are positively correlated during periods of high volume dispersion, the prevailing price trend is more likely to persist because it reflects a broad consensus among informed traders rather than noise.\n                concise Specification: The factor is defined as the product of the 20-day Pearson correlation between daily close price and daily volume, and the 5-day standard deviation of daily volume, applied cross-sectionally to identify trend continuation.\n                ",
      "initial_direction": "Information flow asymmetry: Test if the interaction of positive CORR20 (price-volume synchrony) and high VSTD5 identifies 'high-conviction' trend continuations rather than reversals.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Information flow asymmetry: Test if the interaction of positive CORR20 (price-volume synchrony) and high VSTD5 identifies 'high-conviction' trend continuations rather than reversals.",
      "evolution_phase": "original",
      "trajectory_id": "e61d4a67d477",
      "parent_trajectory_ids": [],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0078699420500738,
        "ICIR": 0.0517398048082506,
        "RankIC": 0.0253544088301323,
        "RankICIR": 0.1665086703433936,
        "annualized_return": 0.0250113704557489,
        "information_ratio": 0.3304105987829027,
        "max_drawdown": -0.1394595673227112
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:54:48.985842",
      "updated_at": "2026-01-17T01:54:48.985848"
    },
    "55fd720195d71924": {
      "factor_id": "55fd720195d71924",
      "factor_name": "ZScored_PV_Momentum_Signal",
      "factor_expression": "ZSCORE(TS_CORR($close, $volume, 20)) * ZSCORE(TS_STD($volume, 5))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(TS_CORR($close, $volume, 20)) * ZSCORE(TS_STD($volume, 5))\" # Your output factor expression will be filled in here\n    name = \"ZScored_PV_Momentum_Signal\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor applies a cross-sectional Z-score to the price-volume correlation and volume volatility components independently before multiplication. This ensures that both the direction (correlation) and the intensity (volatility) contribute equally to the final high-conviction momentum signal.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between a 20-day price-volume correlation (CORR20) and 5-day volume volatility (VSTD5) identifies high-conviction momentum; specifically, the product of CORR20 and VSTD5 positively predicts future returns by capturing synchronized market participation during periods of intense information flow.\n                Concise Observation: Price-volume synchrony (CORR) often signals trend strength, but its predictive power is inconsistent unless conditioned on the intensity of trading activity, which can be measured by the standard deviation of volume.\n                Concise Justification: High volume volatility indicates a surge in information arrival; when this surge coincides with a strong positive correlation between price and volume, it suggests that the price move is supported by increasing conviction, reducing the likelihood of a mean-reversion event.\n                Concise Knowledge: If price and volume are positively correlated during periods of high volume dispersion, the prevailing price trend is more likely to persist because it reflects a broad consensus among informed traders rather than noise.\n                concise Specification: The factor is defined as the product of the 20-day Pearson correlation between daily close price and daily volume, and the 5-day standard deviation of daily volume, applied cross-sectionally to identify trend continuation.\n                ",
      "initial_direction": "Information flow asymmetry: Test if the interaction of positive CORR20 (price-volume synchrony) and high VSTD5 identifies 'high-conviction' trend continuations rather than reversals.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Information flow asymmetry: Test if the interaction of positive CORR20 (price-volume synchrony) and high VSTD5 identifies 'high-conviction' trend continuations rather than reversals.",
      "evolution_phase": "original",
      "trajectory_id": "e61d4a67d477",
      "parent_trajectory_ids": [],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0078699420500738,
        "ICIR": 0.0517398048082506,
        "RankIC": 0.0253544088301323,
        "RankICIR": 0.1665086703433936,
        "annualized_return": 0.0250113704557489,
        "information_ratio": 0.3304105987829027,
        "max_drawdown": -0.1394595673227112
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:54:48.997555",
      "updated_at": "2026-01-17T01:54:48.997561"
    },
    "e67d674b23a7a53e": {
      "factor_id": "e67d674b23a7a53e",
      "factor_name": "Exp_Decay_Momentum_60D",
      "factor_expression": "EMA($return, 19)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"EMA(TS_PCTCHANGE($close, 1), 60)\" # Your output factor expression will be filled in here\n    name = \"Exp_Decay_Momentum_60D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A 60-day price momentum factor weighted by an exponential decay function. It uses the EMA function to approximate the weighted sum of returns, where more recent returns have a higher impact on the factor value, effectively capturing trend acceleration while filtering out older noise.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: A 60-day price momentum factor weighted by an exponential decay function (alpha=0.1) provides superior risk-adjusted returns compared to a simple 60-day Rate of Change by emphasizing recent trend acceleration while filtering long-term noise.\n                Concise Observation: Standard 60-day ROC treats price changes from two months ago with the same importance as yesterday's, often leading to delayed signals during trend reversals or momentum exhaustion phases.\n                Concise Justification: Market participants exhibit recency bias and react more strongly to recent price developments, so an exponentially decayed ROC better aligns with the psychological drivers of trend-following behavior and information diffusion.\n                Concise Knowledge: If a long-term momentum signal is weighted exponentially, it captures the persistence of trends while reducing the lag inherent in simple moving windows; when alpha is small, the factor remains stable but becomes more responsive to recent structural shifts in price action.\n                concise Specification: The factor is calculated as the sum of daily log returns over a 60-day window, each multiplied by exp(-alpha * t) where t is the lag in days (0 to 59) and alpha is set to 0.1, normalized cross-sectionally.\n                ",
      "initial_direction": "Non-linear decay of long-term signals: Apply an exponential decay function to the ROC60 components to give more weight to recent price action while maintaining the long-term trend context.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Non-linear decay of long-term signals: Apply an exponential decay function to the ROC60 components to give more weight to recent price action while maintaining the long-term trend context.",
      "evolution_phase": "original",
      "trajectory_id": "dc24d789f4d5",
      "parent_trajectory_ids": [],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.005793040900404,
        "ICIR": 0.037529579859623,
        "RankIC": 0.0238983992975709,
        "RankICIR": 0.1582128591128187,
        "annualized_return": 0.0281640460025536,
        "information_ratio": 0.3463071955323318,
        "max_drawdown": -0.1468070975416018
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:58:21.677890",
      "updated_at": "2026-01-17T01:58:21.677903"
    },
    "8336f343c9f54590": {
      "factor_id": "8336f343c9f54590",
      "factor_name": "ZScore_Decay_Momentum_60D",
      "factor_expression": "ZSCORE(EMA($return, 19))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(EMA(TS_PCTCHANGE($close, 1), 60))\" # Your output factor expression will be filled in here\n    name = \"ZScore_Decay_Momentum_60D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor normalizes the exponentially weighted 60-day momentum by its cross-sectional volatility. By applying ZSCORE to the EMA of returns, it identifies stocks with the strongest recent momentum relative to the market, adjusted for the decay of older price information.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: A 60-day price momentum factor weighted by an exponential decay function (alpha=0.1) provides superior risk-adjusted returns compared to a simple 60-day Rate of Change by emphasizing recent trend acceleration while filtering long-term noise.\n                Concise Observation: Standard 60-day ROC treats price changes from two months ago with the same importance as yesterday's, often leading to delayed signals during trend reversals or momentum exhaustion phases.\n                Concise Justification: Market participants exhibit recency bias and react more strongly to recent price developments, so an exponentially decayed ROC better aligns with the psychological drivers of trend-following behavior and information diffusion.\n                Concise Knowledge: If a long-term momentum signal is weighted exponentially, it captures the persistence of trends while reducing the lag inherent in simple moving windows; when alpha is small, the factor remains stable but becomes more responsive to recent structural shifts in price action.\n                concise Specification: The factor is calculated as the sum of daily log returns over a 60-day window, each multiplied by exp(-alpha * t) where t is the lag in days (0 to 59) and alpha is set to 0.1, normalized cross-sectionally.\n                ",
      "initial_direction": "Non-linear decay of long-term signals: Apply an exponential decay function to the ROC60 components to give more weight to recent price action while maintaining the long-term trend context.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Non-linear decay of long-term signals: Apply an exponential decay function to the ROC60 components to give more weight to recent price action while maintaining the long-term trend context.",
      "evolution_phase": "original",
      "trajectory_id": "dc24d789f4d5",
      "parent_trajectory_ids": [],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.005793040900404,
        "ICIR": 0.037529579859623,
        "RankIC": 0.0238983992975709,
        "RankICIR": 0.1582128591128187,
        "annualized_return": 0.0281640460025536,
        "information_ratio": 0.3463071955323318,
        "max_drawdown": -0.1468070975416018
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:58:21.689291",
      "updated_at": "2026-01-17T01:58:21.689297"
    },
    "30f6c97b79f08892": {
      "factor_id": "30f6c97b79f08892",
      "factor_name": "Decay_Momentum_Volatility_Ratio",
      "factor_expression": "EMA($return, 19) / (TS_STD($return, 60) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"EMA(TS_PCTCHANGE($close, 1), 19) / (TS_STD(TS_PCTCHANGE($close, 1), 60) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Decay_Momentum_Volatility_Ratio\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor calculates the ratio of exponentially decayed momentum to the 60-day price volatility. It aims to capture risk-adjusted recent momentum, ensuring that the trend acceleration is not merely a result of high idiosyncratic volatility.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: A 60-day price momentum factor weighted by an exponential decay function (alpha=0.1) provides superior risk-adjusted returns compared to a simple 60-day Rate of Change by emphasizing recent trend acceleration while filtering long-term noise.\n                Concise Observation: Standard 60-day ROC treats price changes from two months ago with the same importance as yesterday's, often leading to delayed signals during trend reversals or momentum exhaustion phases.\n                Concise Justification: Market participants exhibit recency bias and react more strongly to recent price developments, so an exponentially decayed ROC better aligns with the psychological drivers of trend-following behavior and information diffusion.\n                Concise Knowledge: If a long-term momentum signal is weighted exponentially, it captures the persistence of trends while reducing the lag inherent in simple moving windows; when alpha is small, the factor remains stable but becomes more responsive to recent structural shifts in price action.\n                concise Specification: The factor is calculated as the sum of daily log returns over a 60-day window, each multiplied by exp(-alpha * t) where t is the lag in days (0 to 59) and alpha is set to 0.1, normalized cross-sectionally.\n                ",
      "initial_direction": "Non-linear decay of long-term signals: Apply an exponential decay function to the ROC60 components to give more weight to recent price action while maintaining the long-term trend context.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Non-linear decay of long-term signals: Apply an exponential decay function to the ROC60 components to give more weight to recent price action while maintaining the long-term trend context.",
      "evolution_phase": "original",
      "trajectory_id": "dc24d789f4d5",
      "parent_trajectory_ids": [],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.005793040900404,
        "ICIR": 0.037529579859623,
        "RankIC": 0.0238983992975709,
        "RankICIR": 0.1582128591128187,
        "annualized_return": 0.0281640460025536,
        "information_ratio": 0.3463071955323318,
        "max_drawdown": -0.1468070975416018
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T01:58:21.700299",
      "updated_at": "2026-01-17T01:58:21.700304"
    },
    "837d323fefb53783": {
      "factor_id": "837d323fefb53783",
      "factor_name": "VPBD_Volatility_Adjusted_5D",
      "factor_expression": "(TS_SUM($close * $volume, 5) / TS_SUM($volume, 5)) / (TS_MEAN($close, 5) * (TS_STD($return, 5) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(TS_SUM($close * $volume, 5) / TS_SUM($volume, 5)) / (TS_MEAN($close, 5) * (TS_STD(TS_PCTCHANGE($close, 1), 5) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"VPBD_Volatility_Adjusted_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor calculates the ratio of the 5-day VWAP to the 5-day TWAP, normalized by the price volatility. A value greater than 1 suggests volume is concentrated at higher prices relative to the time-average, indicating aggressive institutional accumulation during low-volatility 'stealth' phases.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Volume-Price Basis Divergence (VPBD), calculated as the ratio of the 5-day VWAP to the 5-day TWAP during periods of low price volatility, identifies stealth institutional accumulation that predicts positive future returns.\n                Concise Observation: The previous mean-reversion strategy focused on price exhaustion in high-volatility regimes, but ignored 'quiet' price-volume interactions where high volume concentration at specific price levels often precedes a sustained trend breakout.\n                Concise Justification: Institutional traders use VWAP-targeted algorithms to minimize market impact; a positive basis between VWAP and TWAP suggests buyers are willing to pay a premium over the day's average time-price to fulfill large orders, signaling conviction.\n                Concise Knowledge: If the volume-weighted average price (VWAP) consistently stays above the time-weighted average price (TWAP) while volatility remains low, it indicates aggressive institutional buying that absorbs liquidity without triggering immediate price spikes.\n                concise Specification: The factor is defined as (VWAP_5D / TWAP_5D) / (STD_5D + epsilon), where VWAP is approximated by (Sum(Close * Volume) / Sum(Volume)) and TWAP by Mean(Close) over a 5-day window, targeting assets with high volume-price convexity.\n                ",
      "initial_direction": "Volatility-Adjusted Mean Reversion: Scale the RESI5 factor by STD5 to identify price deviations that are statistically significant relative to recent realized volatility.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Volatility-Adjusted Mean Reversion: Scale the RESI5 factor by STD5 to identify price deviations that are statistically significant relative to recent realized volatility.",
      "evolution_phase": "mutation",
      "trajectory_id": "db811308b0a5",
      "parent_trajectory_ids": [
        "534d813fed12"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0057817998132797,
        "ICIR": 0.0425257710632936,
        "RankIC": 0.0231394817830213,
        "RankICIR": 0.1749871086897747,
        "annualized_return": 0.0428988489416409,
        "information_ratio": 0.5977366086287118,
        "max_drawdown": -0.1787039916993693
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:09:58.747135",
      "updated_at": "2026-01-17T02:09:58.747143"
    },
    "0a76cc8f99c5c7e6": {
      "factor_id": "0a76cc8f99c5c7e6",
      "factor_name": "Stealth_Accumulation_ZScore_10D",
      "factor_expression": "RANK((TS_SUM($close * $volume, 5) / TS_SUM($volume, 5)) / TS_MEAN($close, 5)) * (1 - RANK(TS_STD($return, 10)))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(RANK((TS_SUM($close * $volume, 5) / TS_SUM($volume, 5)) / TS_MEAN($close, 5)) * (1 - RANK(TS_STD(TS_PCTCHANGE($close, 1), 10))))\" # Your output factor expression will be filled in here\n    name = \"Stealth_Accumulation_ZScore_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Measures the cross-sectional rank of the VWAP-TWAP divergence during periods of compressed volatility. It identifies assets where buyers are paying a premium (VWAP > TWAP) while price action remains quiet, a hallmark of institutional positioning.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Volume-Price Basis Divergence (VPBD), calculated as the ratio of the 5-day VWAP to the 5-day TWAP during periods of low price volatility, identifies stealth institutional accumulation that predicts positive future returns.\n                Concise Observation: The previous mean-reversion strategy focused on price exhaustion in high-volatility regimes, but ignored 'quiet' price-volume interactions where high volume concentration at specific price levels often precedes a sustained trend breakout.\n                Concise Justification: Institutional traders use VWAP-targeted algorithms to minimize market impact; a positive basis between VWAP and TWAP suggests buyers are willing to pay a premium over the day's average time-price to fulfill large orders, signaling conviction.\n                Concise Knowledge: If the volume-weighted average price (VWAP) consistently stays above the time-weighted average price (TWAP) while volatility remains low, it indicates aggressive institutional buying that absorbs liquidity without triggering immediate price spikes.\n                concise Specification: The factor is defined as (VWAP_5D / TWAP_5D) / (STD_5D + epsilon), where VWAP is approximated by (Sum(Close * Volume) / Sum(Volume)) and TWAP by Mean(Close) over a 5-day window, targeting assets with high volume-price convexity.\n                ",
      "initial_direction": "Volatility-Adjusted Mean Reversion: Scale the RESI5 factor by STD5 to identify price deviations that are statistically significant relative to recent realized volatility.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Volatility-Adjusted Mean Reversion: Scale the RESI5 factor by STD5 to identify price deviations that are statistically significant relative to recent realized volatility.",
      "evolution_phase": "mutation",
      "trajectory_id": "db811308b0a5",
      "parent_trajectory_ids": [
        "534d813fed12"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0057817998132797,
        "ICIR": 0.0425257710632936,
        "RankIC": 0.0231394817830213,
        "RankICIR": 0.1749871086897747,
        "annualized_return": 0.0428988489416409,
        "information_ratio": 0.5977366086287118,
        "max_drawdown": -0.1787039916993693
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:09:58.759289",
      "updated_at": "2026-01-17T02:09:58.759295"
    },
    "a886230cf326bdc7": {
      "factor_id": "a886230cf326bdc7",
      "factor_name": "VWAP_TWAP_Convexity_5D",
      "factor_expression": "((TS_SUM($close * $volume, 5) / TS_SUM($volume, 5)) - TS_MEAN($close, 5)) / (TS_STD($close, 20) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"((TS_SUM($close * $volume, 5) / TS_SUM($volume, 5)) - TS_MEAN($close, 5)) / (TS_STD($close, 20) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"VWAP_TWAP_Convexity_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Captures the intensity of volume-weighted price premiums relative to time-weighted prices, specifically targeting low-volatility regimes. High values indicate that volume is heavily skewed toward the upper end of the 5-day price range.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Volume-Price Basis Divergence (VPBD), calculated as the ratio of the 5-day VWAP to the 5-day TWAP during periods of low price volatility, identifies stealth institutional accumulation that predicts positive future returns.\n                Concise Observation: The previous mean-reversion strategy focused on price exhaustion in high-volatility regimes, but ignored 'quiet' price-volume interactions where high volume concentration at specific price levels often precedes a sustained trend breakout.\n                Concise Justification: Institutional traders use VWAP-targeted algorithms to minimize market impact; a positive basis between VWAP and TWAP suggests buyers are willing to pay a premium over the day's average time-price to fulfill large orders, signaling conviction.\n                Concise Knowledge: If the volume-weighted average price (VWAP) consistently stays above the time-weighted average price (TWAP) while volatility remains low, it indicates aggressive institutional buying that absorbs liquidity without triggering immediate price spikes.\n                concise Specification: The factor is defined as (VWAP_5D / TWAP_5D) / (STD_5D + epsilon), where VWAP is approximated by (Sum(Close * Volume) / Sum(Volume)) and TWAP by Mean(Close) over a 5-day window, targeting assets with high volume-price convexity.\n                ",
      "initial_direction": "Volatility-Adjusted Mean Reversion: Scale the RESI5 factor by STD5 to identify price deviations that are statistically significant relative to recent realized volatility.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Volatility-Adjusted Mean Reversion: Scale the RESI5 factor by STD5 to identify price deviations that are statistically significant relative to recent realized volatility.",
      "evolution_phase": "mutation",
      "trajectory_id": "db811308b0a5",
      "parent_trajectory_ids": [
        "534d813fed12"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0057817998132797,
        "ICIR": 0.0425257710632936,
        "RankIC": 0.0231394817830213,
        "RankICIR": 0.1749871086897747,
        "annualized_return": 0.0428988489416409,
        "information_ratio": 0.5977366086287118,
        "max_drawdown": -0.1787039916993693
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:09:58.771189",
      "updated_at": "2026-01-17T02:09:58.771195"
    },
    "dab6d997ce232f8b": {
      "factor_id": "dab6d997ce232f8b",
      "factor_name": "Gap_Over_Intraday_Volatility_Ratio_5D",
      "factor_expression": "TS_MEAN(ABS($open / DELAY($close, 1) - 1), 5) / (TS_MEAN(($high - $low) / ($open + 1e-8), 5) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN(ABS($open / DELAY($close, 1) - 1), 5) / (TS_MEAN(($high - $low) / ($open + 1e-8), 5) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Gap_Over_Intraday_Volatility_Ratio_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the relative intensity of the overnight gap volatility compared to intraday volatility. According to the hypothesis, high overnight gaps relative to intraday price action suggest liquidity-induced overreactions that are prone to mean-reversion. A higher ratio indicates a potential reversal in the next session.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Overnight Gap Volatility factor, defined as the absolute difference between the current day's open and the previous day's close, exhibits stronger mean-reversion properties and higher predictive power for next-day returns compared to Intraday Volatility.\n                Concise Observation: Price action is often fragmented between market sessions, where the 'gap' represents a reaction to non-trading hour information which frequently overshoots due to lower liquidity at the market open.\n                Concise Justification: Overnight gaps capture the 'jump' component of price movement which is often subject to noise and behavioral biases, leading to a higher probability of corrective flows in the subsequent sessions compared to smooth intraday trends.\n                Concise Knowledge: If price volatility is driven by overnight information shocks (gaps), it is more likely to represent liquidity-induced overreactions that revert; when volatility is driven by intraday trading, it often reflects continuous price discovery with higher persistence.\n                concise Specification: Define Gap_Vol as abs($open / $close[t-1] - 1) and Intraday_Vol as ($high - $low) / $open; compare the information coefficient (IC) of a 1-day lookback of Gap_Vol against a 1-day lookback of Intraday_Vol for predicting next-day returns.\n                ",
      "initial_direction": "Decompose KLEN into 'Gap-driven' vs 'Intraday-driven' components to test if volatility originating from overnight gaps has higher predictive power for next-day reversals.",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "Decompose KLEN into 'Gap-driven' vs 'Intraday-driven' components to test if volatility originating from overnight gaps has higher predictive power for next-day reversals.",
      "evolution_phase": "original",
      "trajectory_id": "9b454a2c6f34",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0064940567462971,
        "ICIR": 0.044540972986808,
        "RankIC": 0.0245115771330177,
        "RankICIR": 0.1794871534739823,
        "annualized_return": 0.0914318287414032,
        "information_ratio": 1.309644988679222,
        "max_drawdown": -0.0947243161524364
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:11:31.445671",
      "updated_at": "2026-01-17T02:11:31.445678"
    },
    "0ab014079f0136ed": {
      "factor_id": "0ab014079f0136ed",
      "factor_name": "ZScore_Gap_Mean_Reversion_3D",
      "factor_expression": "-1 * ZSCORE(TS_MEAN(ABS($open / DELAY($close, 1) - 1), 3))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"-1 * ZSCORE(TS_MEAN(ABS($open / DELAY($close, 1) - 1), 3))\" # Your output factor expression will be filled in here\n    name = \"ZScore_Gap_Mean_Reversion_3D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures the cross-sectional intensity of the overnight gap normalized by its recent volatility. It targets the hypothesis that extreme overnight shocks (gaps) represent noise and behavioral biases. By applying ZSCORE cross-sectionally, it identifies stocks with the most significant 'jumps' relative to the market, which are expected to revert.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Overnight Gap Volatility factor, defined as the absolute difference between the current day's open and the previous day's close, exhibits stronger mean-reversion properties and higher predictive power for next-day returns compared to Intraday Volatility.\n                Concise Observation: Price action is often fragmented between market sessions, where the 'gap' represents a reaction to non-trading hour information which frequently overshoots due to lower liquidity at the market open.\n                Concise Justification: Overnight gaps capture the 'jump' component of price movement which is often subject to noise and behavioral biases, leading to a higher probability of corrective flows in the subsequent sessions compared to smooth intraday trends.\n                Concise Knowledge: If price volatility is driven by overnight information shocks (gaps), it is more likely to represent liquidity-induced overreactions that revert; when volatility is driven by intraday trading, it often reflects continuous price discovery with higher persistence.\n                concise Specification: Define Gap_Vol as abs($open / $close[t-1] - 1) and Intraday_Vol as ($high - $low) / $open; compare the information coefficient (IC) of a 1-day lookback of Gap_Vol against a 1-day lookback of Intraday_Vol for predicting next-day returns.\n                ",
      "initial_direction": "Decompose KLEN into 'Gap-driven' vs 'Intraday-driven' components to test if volatility originating from overnight gaps has higher predictive power for next-day reversals.",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "Decompose KLEN into 'Gap-driven' vs 'Intraday-driven' components to test if volatility originating from overnight gaps has higher predictive power for next-day reversals.",
      "evolution_phase": "original",
      "trajectory_id": "9b454a2c6f34",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0064940567462971,
        "ICIR": 0.044540972986808,
        "RankIC": 0.0245115771330177,
        "RankICIR": 0.1794871534739823,
        "annualized_return": 0.0914318287414032,
        "information_ratio": 1.309644988679222,
        "max_drawdown": -0.0947243161524364
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:11:31.458990",
      "updated_at": "2026-01-17T02:11:31.458997"
    },
    "580dcd9321a74d53": {
      "factor_id": "580dcd9321a74d53",
      "factor_name": "Gap_Volatility_Dominance_Rank_10D",
      "factor_expression": "RANK(TS_SUM(ABS($open - DELAY($close, 1)), 10) / (TS_SUM(($high - $low) + ABS($open - DELAY($close, 1)), 10) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_SUM(ABS($open - DELAY($close, 1)), 10) / (TS_SUM(($high - $low) + ABS($open - DELAY($close, 1)), 10) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Gap_Volatility_Dominance_Rank_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor ranks stocks based on the dominance of overnight gap volatility over total daily volatility (gap + intraday). It follows the logic that when volatility is primarily driven by overnight shocks rather than continuous intraday price discovery, the price is more likely to exhibit mean-reverting behavior.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Overnight Gap Volatility factor, defined as the absolute difference between the current day's open and the previous day's close, exhibits stronger mean-reversion properties and higher predictive power for next-day returns compared to Intraday Volatility.\n                Concise Observation: Price action is often fragmented between market sessions, where the 'gap' represents a reaction to non-trading hour information which frequently overshoots due to lower liquidity at the market open.\n                Concise Justification: Overnight gaps capture the 'jump' component of price movement which is often subject to noise and behavioral biases, leading to a higher probability of corrective flows in the subsequent sessions compared to smooth intraday trends.\n                Concise Knowledge: If price volatility is driven by overnight information shocks (gaps), it is more likely to represent liquidity-induced overreactions that revert; when volatility is driven by intraday trading, it often reflects continuous price discovery with higher persistence.\n                concise Specification: Define Gap_Vol as abs($open / $close[t-1] - 1) and Intraday_Vol as ($high - $low) / $open; compare the information coefficient (IC) of a 1-day lookback of Gap_Vol against a 1-day lookback of Intraday_Vol for predicting next-day returns.\n                ",
      "initial_direction": "Decompose KLEN into 'Gap-driven' vs 'Intraday-driven' components to test if volatility originating from overnight gaps has higher predictive power for next-day reversals.",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "Decompose KLEN into 'Gap-driven' vs 'Intraday-driven' components to test if volatility originating from overnight gaps has higher predictive power for next-day reversals.",
      "evolution_phase": "original",
      "trajectory_id": "9b454a2c6f34",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0064940567462971,
        "ICIR": 0.044540972986808,
        "RankIC": 0.0245115771330177,
        "RankICIR": 0.1794871534739823,
        "annualized_return": 0.0914318287414032,
        "information_ratio": 1.309644988679222,
        "max_drawdown": -0.0947243161524364
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:11:31.471278",
      "updated_at": "2026-01-17T02:11:31.471284"
    },
    "b3321ede1dc55647": {
      "factor_id": "b3321ede1dc55647",
      "factor_name": "PV_Corr_ATR_Regime_Factor",
      "factor_expression": "TS_CORR($close, $volume, 20) * (TS_MEAN(MAX(MAX($high - $low, ABS($high - DELAY($close, 1))), ABS($low - DELAY($close, 1))), 14) / ($close + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_CORR($close, $volume, 20) * (TS_MEAN(MAX(MAX($high - $low, ABS($high - DELAY($close, 1))), ABS($low - DELAY($close, 1))), 14) / ($close + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"PV_Corr_ATR_Regime_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures regime-dependent alpha by interacting the 20-day price-volume correlation with the 14-day Average True Range (ATR) normalized by price. High ATR signifies high-volatility regimes where price-volume divergence or convergence signals are more reliable.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between the 20-day price-volume correlation (CORR20) and the 14-day Average True Range (ATR) normalized by price identifies regime-dependent alpha, where high-volatility environments amplify the predictive power of price-volume divergence.\n                Concise Observation: Price-volume relationships are non-stationary, and their effectiveness as predictive features often clusters during periods of significant price movement or heightened market stress.\n                Concise Justification: High ATR indicates significant market participation and disagreement on value, making the correlation between price trends and volume flow a more robust indicator of institutional conviction or retail panic.\n                Concise Knowledge: If a market is in a high-volatility regime, then price-volume correlations often signal exhaustion or breakout strength more reliably than in low-volatility consolidation phases; when volatility is low, such signals are more likely to be noise.\n                concise Specification: Calculate the factor as the product of the 20-day Pearson correlation between $close and $volume and the 14-day ATR (normalized by $close) to weight the signal by the current volatility regime.\n                ",
      "initial_direction": "Macro-regime sensitivity: Evaluate if the CORR20 signal's effectiveness shifts during high-volatility regimes (measured by VIX or ATR) compared to low-volatility consolidation phases.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Macro-regime sensitivity: Evaluate if the CORR20 signal's effectiveness shifts during high-volatility regimes (measured by VIX or ATR) compared to low-volatility consolidation phases.",
      "evolution_phase": "original",
      "trajectory_id": "0d759165800b",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0095640448614114,
        "ICIR": 0.0574871197736066,
        "RankIC": 0.0291213556385526,
        "RankICIR": 0.1788684637200001,
        "annualized_return": 0.0662008843278113,
        "information_ratio": 0.8686541649851323,
        "max_drawdown": -0.1293661451709599
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:12:37.949028",
      "updated_at": "2026-01-17T02:12:37.949035"
    },
    "3a3929d58669dc91": {
      "factor_id": "3a3929d58669dc91",
      "factor_name": "Volatility_Weighted_PV_Divergence",
      "factor_expression": "RANK(TS_CORR($close, $volume, 20) * (TS_STD($close, 14) / ($close + 1e-8)))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_CORR($close, $volume, 20) * (TS_STD($close, 14) / ($close + 1e-8)))\" # Your output factor expression will be filled in here\n    name = \"Volatility_Weighted_PV_Divergence\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the regime hypothesis that weights the 20-day price-volume correlation by the 14-day price volatility (standard deviation) normalized by price. It emphasizes price-volume signals during periods of high relative volatility.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between the 20-day price-volume correlation (CORR20) and the 14-day Average True Range (ATR) normalized by price identifies regime-dependent alpha, where high-volatility environments amplify the predictive power of price-volume divergence.\n                Concise Observation: Price-volume relationships are non-stationary, and their effectiveness as predictive features often clusters during periods of significant price movement or heightened market stress.\n                Concise Justification: High ATR indicates significant market participation and disagreement on value, making the correlation between price trends and volume flow a more robust indicator of institutional conviction or retail panic.\n                Concise Knowledge: If a market is in a high-volatility regime, then price-volume correlations often signal exhaustion or breakout strength more reliably than in low-volatility consolidation phases; when volatility is low, such signals are more likely to be noise.\n                concise Specification: Calculate the factor as the product of the 20-day Pearson correlation between $close and $volume and the 14-day ATR (normalized by $close) to weight the signal by the current volatility regime.\n                ",
      "initial_direction": "Macro-regime sensitivity: Evaluate if the CORR20 signal's effectiveness shifts during high-volatility regimes (measured by VIX or ATR) compared to low-volatility consolidation phases.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Macro-regime sensitivity: Evaluate if the CORR20 signal's effectiveness shifts during high-volatility regimes (measured by VIX or ATR) compared to low-volatility consolidation phases.",
      "evolution_phase": "original",
      "trajectory_id": "0d759165800b",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0095640448614114,
        "ICIR": 0.0574871197736066,
        "RankIC": 0.0291213556385526,
        "RankICIR": 0.1788684637200001,
        "annualized_return": 0.0662008843278113,
        "information_ratio": 0.8686541649851323,
        "max_drawdown": -0.1293661451709599
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:12:37.961311",
      "updated_at": "2026-01-17T02:12:37.961317"
    },
    "66f572336e2eb2b4": {
      "factor_id": "66f572336e2eb2b4",
      "factor_name": "Regime_Filtered_PV_Momentum",
      "factor_expression": "TS_CORR($close, $volume, 20) * ((TS_MEAN(MAX(MAX($high-$low, ABS($high-DELAY($close,1))), ABS($low-DELAY($close,1))), 14)/$close) / (TS_MEDIAN(TS_MEAN(MAX(MAX($high-$low, ABS($high-DELAY($close,1))), ABS($low-DELAY($close,1))), 14)/$close, 60) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_CORR($close, $volume, 20) * ((TS_MEAN(MAX(MAX($high-$low, ABS($high-DELAY($close,1))), ABS($low-DELAY($close,1))), 14)/$close) / (TS_MEDIAN(TS_MEAN(MAX(MAX($high-$low, ABS($high-DELAY($close,1))), ABS($low-DELAY($close,1))), 14)/$close, 60) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Regime_Filtered_PV_Momentum\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor uses the 14-day ATR-to-price ratio as a regime filter. It amplifies the 20-day price-volume correlation when the current volatility is higher than its 60-day median, targeting periods of market stress or significant movement.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between the 20-day price-volume correlation (CORR20) and the 14-day Average True Range (ATR) normalized by price identifies regime-dependent alpha, where high-volatility environments amplify the predictive power of price-volume divergence.\n                Concise Observation: Price-volume relationships are non-stationary, and their effectiveness as predictive features often clusters during periods of significant price movement or heightened market stress.\n                Concise Justification: High ATR indicates significant market participation and disagreement on value, making the correlation between price trends and volume flow a more robust indicator of institutional conviction or retail panic.\n                Concise Knowledge: If a market is in a high-volatility regime, then price-volume correlations often signal exhaustion or breakout strength more reliably than in low-volatility consolidation phases; when volatility is low, such signals are more likely to be noise.\n                concise Specification: Calculate the factor as the product of the 20-day Pearson correlation between $close and $volume and the 14-day ATR (normalized by $close) to weight the signal by the current volatility regime.\n                ",
      "initial_direction": "Macro-regime sensitivity: Evaluate if the CORR20 signal's effectiveness shifts during high-volatility regimes (measured by VIX or ATR) compared to low-volatility consolidation phases.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Macro-regime sensitivity: Evaluate if the CORR20 signal's effectiveness shifts during high-volatility regimes (measured by VIX or ATR) compared to low-volatility consolidation phases.",
      "evolution_phase": "original",
      "trajectory_id": "0d759165800b",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0095640448614114,
        "ICIR": 0.0574871197736066,
        "RankIC": 0.0291213556385526,
        "RankICIR": 0.1788684637200001,
        "annualized_return": 0.0662008843278113,
        "information_ratio": 0.8686541649851323,
        "max_drawdown": -0.1293661451709599
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:12:37.973445",
      "updated_at": "2026-01-17T02:12:37.973451"
    },
    "b3cd9d1f66a40514": {
      "factor_id": "b3cd9d1f66a40514",
      "factor_name": "Exhaustion_Gap_Reversal_5D",
      "factor_expression": "RANK(($open / DELAY($close, 1) - 1) / ($volume / (TS_MEAN($volume, 5) + 1e-8) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(ABS($open / DELAY($close, 1) - 1) / ($volume / (TS_MEAN($volume, 5) + 1e-8) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Exhaustion_Gap_Reversal_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies potential exhaustion gaps by calculating the ratio of the overnight gap to the 5-day average volume. It assumes that large gaps on low relative volume are unsustainable and likely to mean-revert. The factor is cross-sectionally ranked to identify the most extreme exhaustion candidates.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Exhaustion Gap Reversal' factor, defined as the ratio of the overnight gap magnitude to the intraday price movement relative to volume intensity, predicts a 5-day mean reversion when large gaps occur on relatively low liquidity.\n                Concise Observation: While the parent strategy confirmed that price persistence (low-to-high ratios) predicts trend continuation, initial data suggests that extreme overnight price jumps often lack the volume support needed to prevent intraday 'gap filling' and subsequent reversal.\n                Concise Justification: Overnight gaps represent a mismatch between supply and demand during non-trading hours; if the subsequent intraday volume is insufficient to push the price further in the direction of the gap, it indicates exhaustion of the move and a likely return to the previous day's equilibrium.\n                Concise Knowledge: If an asset opens with a significant gap but fails to sustain that momentum on high volume, the gap is likely driven by liquidity imbalances rather than fundamental shifts, leading to a high probability of mean reversion.\n                concise Specification: The factor measures the overnight gap ($open / $close_{t-1}$) normalized by the 5-day average volume, specifically targeting the inverse relationship between gap size and subsequent 5-day returns when the intraday range fails to exceed the gap magnitude.\n                ",
      "initial_direction": "Intraday Support Persistence: Measure the 3-day moving average of KLOW relative to the daily trading range to identify stocks with consistent structural buying pressure.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Intraday Support Persistence: Measure the 3-day moving average of KLOW relative to the daily trading range to identify stocks with consistent structural buying pressure.",
      "evolution_phase": "mutation",
      "trajectory_id": "3f463e1babe5",
      "parent_trajectory_ids": [
        "a3e677a37e74"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0072529196209767,
        "ICIR": 0.0535940282793855,
        "RankIC": 0.0239752515274828,
        "RankICIR": 0.1843502258600213,
        "annualized_return": 0.054424731220714,
        "information_ratio": 0.8394400380483625,
        "max_drawdown": -0.0955475669297207
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:16:09.874619",
      "updated_at": "2026-01-17T02:16:09.874626"
    },
    "34be0ab703c37f6b": {
      "factor_id": "34be0ab703c37f6b",
      "factor_name": "Gap_Intraday_Efficiency_Ratio",
      "factor_expression": "(ABS($open / DELAY($close, 1) - 1) / (($high - $low) / $open + 1e-8)) * INV(TS_ZSCORE($volume, 10) + 3)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(ABS($open / DELAY($close, 1) - 1) / (($high - $low) / $open + 1e-8)) * INV(ABS(TS_ZSCORE($volume, 10)) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Gap_Intraday_Efficiency_Ratio\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the 'efficiency' of a gap by comparing the overnight gap magnitude to the subsequent intraday range, normalized by volume intensity. If the gap is large but the intraday range is small relative to volume, it suggests a lack of follow-through and a high probability of reversal.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Exhaustion Gap Reversal' factor, defined as the ratio of the overnight gap magnitude to the intraday price movement relative to volume intensity, predicts a 5-day mean reversion when large gaps occur on relatively low liquidity.\n                Concise Observation: While the parent strategy confirmed that price persistence (low-to-high ratios) predicts trend continuation, initial data suggests that extreme overnight price jumps often lack the volume support needed to prevent intraday 'gap filling' and subsequent reversal.\n                Concise Justification: Overnight gaps represent a mismatch between supply and demand during non-trading hours; if the subsequent intraday volume is insufficient to push the price further in the direction of the gap, it indicates exhaustion of the move and a likely return to the previous day's equilibrium.\n                Concise Knowledge: If an asset opens with a significant gap but fails to sustain that momentum on high volume, the gap is likely driven by liquidity imbalances rather than fundamental shifts, leading to a high probability of mean reversion.\n                concise Specification: The factor measures the overnight gap ($open / $close_{t-1}$) normalized by the 5-day average volume, specifically targeting the inverse relationship between gap size and subsequent 5-day returns when the intraday range fails to exceed the gap magnitude.\n                ",
      "initial_direction": "Intraday Support Persistence: Measure the 3-day moving average of KLOW relative to the daily trading range to identify stocks with consistent structural buying pressure.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Intraday Support Persistence: Measure the 3-day moving average of KLOW relative to the daily trading range to identify stocks with consistent structural buying pressure.",
      "evolution_phase": "mutation",
      "trajectory_id": "3f463e1babe5",
      "parent_trajectory_ids": [
        "a3e677a37e74"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0072529196209767,
        "ICIR": 0.0535940282793855,
        "RankIC": 0.0239752515274828,
        "RankICIR": 0.1843502258600213,
        "annualized_return": 0.054424731220714,
        "information_ratio": 0.8394400380483625,
        "max_drawdown": -0.0955475669297207
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:16:09.887332",
      "updated_at": "2026-01-17T02:16:09.887338"
    },
    "34fcf06e06ae043f": {
      "factor_id": "34fcf06e06ae043f",
      "factor_name": "Liquidity_Imbalance_Gap_Factor",
      "factor_expression": "SIGN($open - DELAY($close, 1)) * ABS($open / DELAY($close, 1) - 1) / ($volume / (TS_MEAN($volume, 20) + 1e-8) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"SIGN($open - DELAY($close, 1)) * ABS($open / DELAY($close, 1) - 1) / ($volume / (TS_MEAN($volume, 20) + 1e-8) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Liquidity_Imbalance_Gap_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Targets gaps driven by liquidity imbalances. It calculates the overnight gap and penalizes it if the intraday volume is significantly lower than the recent average, suggesting the gap was a 'low-conviction' move prone to filling.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Exhaustion Gap Reversal' factor, defined as the ratio of the overnight gap magnitude to the intraday price movement relative to volume intensity, predicts a 5-day mean reversion when large gaps occur on relatively low liquidity.\n                Concise Observation: While the parent strategy confirmed that price persistence (low-to-high ratios) predicts trend continuation, initial data suggests that extreme overnight price jumps often lack the volume support needed to prevent intraday 'gap filling' and subsequent reversal.\n                Concise Justification: Overnight gaps represent a mismatch between supply and demand during non-trading hours; if the subsequent intraday volume is insufficient to push the price further in the direction of the gap, it indicates exhaustion of the move and a likely return to the previous day's equilibrium.\n                Concise Knowledge: If an asset opens with a significant gap but fails to sustain that momentum on high volume, the gap is likely driven by liquidity imbalances rather than fundamental shifts, leading to a high probability of mean reversion.\n                concise Specification: The factor measures the overnight gap ($open / $close_{t-1}$) normalized by the 5-day average volume, specifically targeting the inverse relationship between gap size and subsequent 5-day returns when the intraday range fails to exceed the gap magnitude.\n                ",
      "initial_direction": "Intraday Support Persistence: Measure the 3-day moving average of KLOW relative to the daily trading range to identify stocks with consistent structural buying pressure.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Intraday Support Persistence: Measure the 3-day moving average of KLOW relative to the daily trading range to identify stocks with consistent structural buying pressure.",
      "evolution_phase": "mutation",
      "trajectory_id": "3f463e1babe5",
      "parent_trajectory_ids": [
        "a3e677a37e74"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0072529196209767,
        "ICIR": 0.0535940282793855,
        "RankIC": 0.0239752515274828,
        "RankICIR": 0.1843502258600213,
        "annualized_return": 0.054424731220714,
        "information_ratio": 0.8394400380483625,
        "max_drawdown": -0.0955475669297207
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:16:09.899914",
      "updated_at": "2026-01-17T02:16:09.899920"
    },
    "ab596c4b1cce2d5e": {
      "factor_id": "ab596c4b1cce2d5e",
      "factor_name": "Overnight_Gap_Volume_Intensity_5D",
      "factor_expression": "(($open / DELAY($close, 1)) - 1) / (TS_MEAN($volume, 5) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($open / DELAY($close, 1)) - 1) / (TS_MEAN($volume, 5) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Overnight_Gap_Volume_Intensity_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures the 'Information Diffusion Gap' by calculating the ratio of the overnight return to the 5-day average trading volume. A high overnight return relative to low volume suggests that the price shock hasn't been fully absorbed by the market, potentially leading to a post-announcement drift.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between the overnight price gap and the initial day's volume intensity, defined as the ratio of the overnight return to the 5-day average volume, predicts a post-announcement drift where large gaps with relatively low volume signal incomplete information absorption and subsequent trend continuation.\n                Concise Observation: While the parent strategy focused on mean-reversion from volatility exhaustion, many stocks exhibit persistent directional movement following overnight gaps, especially when the initial volume does not fully reflect the magnitude of the price shock.\n                Concise Justification: Institutional investors often execute large orders over several days to minimize market impact following fundamental surprises, creating a predictable drift in the direction of the initial gap when early liquidity is insufficient to clear the order imbalance.\n                Concise Knowledge: If a significant price gap occurs on low relative volume, the market likely lacks sufficient liquidity to fully price in the news immediately, leading to a multi-day drift; whereas high volume gaps suggest immediate price discovery and potential exhaustion.\n                concise Specification: The factor is calculated as the overnight return ($open / $close[t-1] - 1) divided by the 5-day moving average of volume, specifically targeting the 'Information Diffusion Gap' where the magnitude of the price jump exceeds the immediate liquidity response.\n                ",
      "initial_direction": "Convexity of Price Extremes: Calculate the 5-day change in RESI5 (Delta-Resi) to detect accelerating trend exhaustion before a formal reversal occurs.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Convexity of Price Extremes: Calculate the 5-day change in RESI5 (Delta-Resi) to detect accelerating trend exhaustion before a formal reversal occurs.",
      "evolution_phase": "mutation",
      "trajectory_id": "66ce6a72bb63",
      "parent_trajectory_ids": [
        "68bbb159449e"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0077804177182668,
        "ICIR": 0.0580827158863872,
        "RankIC": 0.0242323043304744,
        "RankICIR": 0.1866031220309915,
        "annualized_return": 0.0695837938114502,
        "information_ratio": 1.0902022370465765,
        "max_drawdown": -0.0857686849866647
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:18:50.757718",
      "updated_at": "2026-01-17T02:18:50.757725"
    },
    "b6a2b87926f3b41e": {
      "factor_id": "b6a2b87926f3b41e",
      "factor_name": "Ranked_Gap_to_Volume_Ratio_10D",
      "factor_expression": "RANK((($open - DELAY($close, 1)) / DELAY($close, 1)) / (TS_MEAN($volume, 10) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK((($open - DELAY($close, 1)) / DELAY($close, 1)) / (TS_MEAN($volume, 10) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Ranked_Gap_to_Volume_Ratio_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally ranked version of the gap-to-volume ratio, normalized by the 10-day volume trend. It identifies stocks where the overnight price jump is most extreme relative to its recent liquidity context, signaling potential trend continuation due to incomplete information absorption.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between the overnight price gap and the initial day's volume intensity, defined as the ratio of the overnight return to the 5-day average volume, predicts a post-announcement drift where large gaps with relatively low volume signal incomplete information absorption and subsequent trend continuation.\n                Concise Observation: While the parent strategy focused on mean-reversion from volatility exhaustion, many stocks exhibit persistent directional movement following overnight gaps, especially when the initial volume does not fully reflect the magnitude of the price shock.\n                Concise Justification: Institutional investors often execute large orders over several days to minimize market impact following fundamental surprises, creating a predictable drift in the direction of the initial gap when early liquidity is insufficient to clear the order imbalance.\n                Concise Knowledge: If a significant price gap occurs on low relative volume, the market likely lacks sufficient liquidity to fully price in the news immediately, leading to a multi-day drift; whereas high volume gaps suggest immediate price discovery and potential exhaustion.\n                concise Specification: The factor is calculated as the overnight return ($open / $close[t-1] - 1) divided by the 5-day moving average of volume, specifically targeting the 'Information Diffusion Gap' where the magnitude of the price jump exceeds the immediate liquidity response.\n                ",
      "initial_direction": "Convexity of Price Extremes: Calculate the 5-day change in RESI5 (Delta-Resi) to detect accelerating trend exhaustion before a formal reversal occurs.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Convexity of Price Extremes: Calculate the 5-day change in RESI5 (Delta-Resi) to detect accelerating trend exhaustion before a formal reversal occurs.",
      "evolution_phase": "mutation",
      "trajectory_id": "66ce6a72bb63",
      "parent_trajectory_ids": [
        "68bbb159449e"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0077804177182668,
        "ICIR": 0.0580827158863872,
        "RankIC": 0.0242323043304744,
        "RankICIR": 0.1866031220309915,
        "annualized_return": 0.0695837938114502,
        "information_ratio": 1.0902022370465765,
        "max_drawdown": -0.0857686849866647
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:18:50.774939",
      "updated_at": "2026-01-17T02:18:50.774945"
    },
    "73054cc654b85f9d": {
      "factor_id": "73054cc654b85f9d",
      "factor_name": "Gap_Liquidity_Divergence_ZScore",
      "factor_expression": "TS_ZSCORE(($open / DELAY($close, 1)) - 1, 20) / (TS_ZSCORE($volume, 20) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE(($open / DELAY($close, 1)) - 1, 20) / (TS_ZSCORE($volume, 20) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Gap_Liquidity_Divergence_ZScore\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the divergence between the overnight price shock and recent volume intensity using a Z-score. It targets the hypothesis that significant gaps on low relative volume lead to multi-day drifts because institutional order imbalances are not cleared immediately.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between the overnight price gap and the initial day's volume intensity, defined as the ratio of the overnight return to the 5-day average volume, predicts a post-announcement drift where large gaps with relatively low volume signal incomplete information absorption and subsequent trend continuation.\n                Concise Observation: While the parent strategy focused on mean-reversion from volatility exhaustion, many stocks exhibit persistent directional movement following overnight gaps, especially when the initial volume does not fully reflect the magnitude of the price shock.\n                Concise Justification: Institutional investors often execute large orders over several days to minimize market impact following fundamental surprises, creating a predictable drift in the direction of the initial gap when early liquidity is insufficient to clear the order imbalance.\n                Concise Knowledge: If a significant price gap occurs on low relative volume, the market likely lacks sufficient liquidity to fully price in the news immediately, leading to a multi-day drift; whereas high volume gaps suggest immediate price discovery and potential exhaustion.\n                concise Specification: The factor is calculated as the overnight return ($open / $close[t-1] - 1) divided by the 5-day moving average of volume, specifically targeting the 'Information Diffusion Gap' where the magnitude of the price jump exceeds the immediate liquidity response.\n                ",
      "initial_direction": "Convexity of Price Extremes: Calculate the 5-day change in RESI5 (Delta-Resi) to detect accelerating trend exhaustion before a formal reversal occurs.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Convexity of Price Extremes: Calculate the 5-day change in RESI5 (Delta-Resi) to detect accelerating trend exhaustion before a formal reversal occurs.",
      "evolution_phase": "mutation",
      "trajectory_id": "66ce6a72bb63",
      "parent_trajectory_ids": [
        "68bbb159449e"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0077804177182668,
        "ICIR": 0.0580827158863872,
        "RankIC": 0.0242323043304744,
        "RankICIR": 0.1866031220309915,
        "annualized_return": 0.0695837938114502,
        "information_ratio": 1.0902022370465765,
        "max_drawdown": -0.0857686849866647
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:18:50.787763",
      "updated_at": "2026-01-17T02:18:50.787769"
    },
    "d422b0c3436a867b": {
      "factor_id": "d422b0c3436a867b",
      "factor_name": "PVDP_Exhaustion_Ratio_10D",
      "factor_expression": "TS_CORR($return, TS_PCTCHANGE($volume, 1), 10) * (TS_MEAN(ABS($open - DELAY($close, 1)), 5) / (TS_MEAN($high - $low, 5) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_CORR(TS_PCTCHANGE($close, 1), TS_PCTCHANGE($volume, 1), 10) * (TS_MEAN(ABS($open - DELAY($close, 1)), 5) / (TS_MEAN($high - $low, 5) + 0.00001))\" # Your output factor expression will be filled in here\n    name = \"PVDP_Exhaustion_Ratio_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies trend exhaustion by measuring the divergence between price returns and volume changes, scaled by the ratio of overnight gaps to intraday ranges. A low correlation between returns and volume growth, coupled with a high gap-to-range ratio, suggests institutional withdrawal and potential mean reversion.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Price-Volume Divergence Persistence (PVDP) hypothesis: A trend is likely to exhaust when price returns and volume changes show a decaying rolling correlation combined with a narrowing intraday range relative to the overnight gap, indicating institutional exhaustion and imminent mean reversion.\n                Concise Observation: The parent strategy successfully captured intraday support via shadows, but market trends often fail not because of a sharp rejection, but due to a 'quiet' exhaustion where price moves on thinning volume and smaller intraday ranges compared to the opening gap.\n                Concise Justification: Volume serves as the fuel for price trends; a divergence where price gains persist despite falling volume and narrowing ranges suggests a lack of liquidity depth, making the asset vulnerable to even minor selling pressure as the 'exhaustion' phase concludes.\n                Concise Knowledge: If price continues to trend while volume correlation drops and intraday volatility contracts relative to the overnight gap, then the trend is driven by liquidity inertia rather than active conviction; when institutional participation (volume) fails to confirm price movement, the probability of a 'drift-back' reversal increases.\n                concise Specification: The factor will be calculated as the 10-day rolling correlation between daily returns and volume changes, multiplied by the ratio of the 5-day mean overnight gap (abs(Open - PrevClose)) to the 5-day mean intraday range (High - Low), targeting stocks with high gap-to-range ratios and low PV correlation.\n                ",
      "initial_direction": "Volume-Weighted Shadow Dynamics: Interact KLOW with relative volume (Vwap/Close) to distinguish between high-conviction intraday support and low-liquidity noise.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Volume-Weighted Shadow Dynamics: Interact KLOW with relative volume (Vwap/Close) to distinguish between high-conviction intraday support and low-liquidity noise.",
      "evolution_phase": "mutation",
      "trajectory_id": "d17ed7e40f10",
      "parent_trajectory_ids": [
        "2e043cd85785"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0081170545425971,
        "ICIR": 0.0549173822976059,
        "RankIC": 0.0270807199086509,
        "RankICIR": 0.1859082085105904,
        "annualized_return": 0.009361776498184,
        "information_ratio": 0.1277620018394183,
        "max_drawdown": -0.1113878286030992
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:26:06.395591",
      "updated_at": "2026-01-17T02:26:06.395598"
    },
    "84d5431c1331477c": {
      "factor_id": "84d5431c1331477c",
      "factor_name": "Institutional_Exhaustion_Index_V1",
      "factor_expression": "RANK(TS_CORR($return, $volume, 10)) * RANK(ABS($open - DELAY($close, 1)) / ($high - $low + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_CORR(TS_PCTCHANGE($close, 1), $volume, 10)) * RANK(ABS($open - DELAY($close, 1)) / ($high - $low + 0.0001))\" # Your output factor expression will be filled in here\n    name = \"Institutional_Exhaustion_Index_V1\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Captures the 'quiet' exhaustion phase where price continues to drift on weakening volume support. It uses the rank-transformed correlation of price-volume and compares the magnitude of the opening jump to the subsequent intraday volatility. High values indicate the trend is driven by inertia rather than conviction.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Price-Volume Divergence Persistence (PVDP) hypothesis: A trend is likely to exhaust when price returns and volume changes show a decaying rolling correlation combined with a narrowing intraday range relative to the overnight gap, indicating institutional exhaustion and imminent mean reversion.\n                Concise Observation: The parent strategy successfully captured intraday support via shadows, but market trends often fail not because of a sharp rejection, but due to a 'quiet' exhaustion where price moves on thinning volume and smaller intraday ranges compared to the opening gap.\n                Concise Justification: Volume serves as the fuel for price trends; a divergence where price gains persist despite falling volume and narrowing ranges suggests a lack of liquidity depth, making the asset vulnerable to even minor selling pressure as the 'exhaustion' phase concludes.\n                Concise Knowledge: If price continues to trend while volume correlation drops and intraday volatility contracts relative to the overnight gap, then the trend is driven by liquidity inertia rather than active conviction; when institutional participation (volume) fails to confirm price movement, the probability of a 'drift-back' reversal increases.\n                concise Specification: The factor will be calculated as the 10-day rolling correlation between daily returns and volume changes, multiplied by the ratio of the 5-day mean overnight gap (abs(Open - PrevClose)) to the 5-day mean intraday range (High - Low), targeting stocks with high gap-to-range ratios and low PV correlation.\n                ",
      "initial_direction": "Volume-Weighted Shadow Dynamics: Interact KLOW with relative volume (Vwap/Close) to distinguish between high-conviction intraday support and low-liquidity noise.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Volume-Weighted Shadow Dynamics: Interact KLOW with relative volume (Vwap/Close) to distinguish between high-conviction intraday support and low-liquidity noise.",
      "evolution_phase": "mutation",
      "trajectory_id": "d17ed7e40f10",
      "parent_trajectory_ids": [
        "2e043cd85785"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0081170545425971,
        "ICIR": 0.0549173822976059,
        "RankIC": 0.0270807199086509,
        "RankICIR": 0.1859082085105904,
        "annualized_return": 0.009361776498184,
        "information_ratio": 0.1277620018394183,
        "max_drawdown": -0.1113878286030992
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:26:06.409041",
      "updated_at": "2026-01-17T02:26:06.409047"
    },
    "380a7d7077fba3ab": {
      "factor_id": "380a7d7077fba3ab",
      "factor_name": "Gap_Range_Divergence_ZScore",
      "factor_expression": "TS_CORR($return, $volume, 10) * TS_ZSCORE(ABS($open - DELAY($close, 1)) / ($high - $low + 1e-8), 10)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_CORR(TS_PCTCHANGE($close, 1), $volume, 10) * TS_ZSCORE(ABS($open - DELAY($close, 1)) / ($high - $low + 0.0001), 10)\" # Your output factor expression will be filled in here\n    name = \"Gap_Range_Divergence_ZScore\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Normalizes the divergence between the overnight gap and intraday range using Z-scores, then interacts it with the price-volume correlation. This highlights periods where price movements are dominated by overnight sentiment but lack intraday follow-through and volume confirmation.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Price-Volume Divergence Persistence (PVDP) hypothesis: A trend is likely to exhaust when price returns and volume changes show a decaying rolling correlation combined with a narrowing intraday range relative to the overnight gap, indicating institutional exhaustion and imminent mean reversion.\n                Concise Observation: The parent strategy successfully captured intraday support via shadows, but market trends often fail not because of a sharp rejection, but due to a 'quiet' exhaustion where price moves on thinning volume and smaller intraday ranges compared to the opening gap.\n                Concise Justification: Volume serves as the fuel for price trends; a divergence where price gains persist despite falling volume and narrowing ranges suggests a lack of liquidity depth, making the asset vulnerable to even minor selling pressure as the 'exhaustion' phase concludes.\n                Concise Knowledge: If price continues to trend while volume correlation drops and intraday volatility contracts relative to the overnight gap, then the trend is driven by liquidity inertia rather than active conviction; when institutional participation (volume) fails to confirm price movement, the probability of a 'drift-back' reversal increases.\n                concise Specification: The factor will be calculated as the 10-day rolling correlation between daily returns and volume changes, multiplied by the ratio of the 5-day mean overnight gap (abs(Open - PrevClose)) to the 5-day mean intraday range (High - Low), targeting stocks with high gap-to-range ratios and low PV correlation.\n                ",
      "initial_direction": "Volume-Weighted Shadow Dynamics: Interact KLOW with relative volume (Vwap/Close) to distinguish between high-conviction intraday support and low-liquidity noise.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Volume-Weighted Shadow Dynamics: Interact KLOW with relative volume (Vwap/Close) to distinguish between high-conviction intraday support and low-liquidity noise.",
      "evolution_phase": "mutation",
      "trajectory_id": "d17ed7e40f10",
      "parent_trajectory_ids": [
        "2e043cd85785"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0081170545425971,
        "ICIR": 0.0549173822976059,
        "RankIC": 0.0270807199086509,
        "RankICIR": 0.1859082085105904,
        "annualized_return": 0.009361776498184,
        "information_ratio": 0.1277620018394183,
        "max_drawdown": -0.1113878286030992
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:26:06.426924",
      "updated_at": "2026-01-17T02:26:06.426931"
    },
    "b288c17cf78e5e8a": {
      "factor_id": "b288c17cf78e5e8a",
      "factor_name": "Volatility_Exhaustion_Reversal_5D",
      "factor_expression": "RANK((($high - $low) / (TS_MEAN($high - $low, 20) + 1e-8)) * (($close - 0.5 * ($high + $low)) / ($high - $low + 1e-8)))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK((($high - $low) / (TS_MEAN($high - $low, 20) + 1e-8)) * (($close - 0.5 * ($high + $low)) / ($high - $low + 1e-8)))\" # Your output factor expression will be filled in here\n    name = \"Volatility_Exhaustion_Reversal_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies mean reversion opportunities by detecting 'volatility exhaustion'. It calculates the ratio of the current daily range to its 20-day average and scales it by the relative position of the close within that range. High values indicate the price has stretched to an extreme and closed near that extreme, suggesting a high probability of a 5-day reversal.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: A 5-day mean reversion signal can be generated by identifying 'volatility exhaustion' where the daily range (High-Low) normalized by its 20-day moving average exceeds a threshold, particularly when the intraday price action is skewed towards one extreme (High-Close vs Close-Low).\n                Concise Observation: The parent strategy's volume-weighted correlation focuses on institutional conviction, but fails to capture short-term price reversals triggered by intraday volatility spikes and liquidity exhaustion that occur independently of volume trends.\n                Concise Justification: Price action geometry, specifically the ratio of the current range to historical range, serves as a proxy for market exhaustion; a high ratio suggests that liquidity providers have been pushed to extremes, leading to a high-probability reversal as the 'stretch' reverts to the mean.\n                Concise Knowledge: If the intraday price range expands significantly beyond historical volatility without a corresponding overnight gap, it indicates an emotional liquidity overshoot; when this expansion is accompanied by a close near the day's extreme, the probability of a short-term mean reversion increases.\n                concise Specification: The factor will use the ratio of ($high - $low) to its 20-day average, moderated by the relative position of the close within that range (High-Close vs Close-Low), to predict 1-3 day returns, focusing on the 5-day lookback for mean reversion signals.\n                ",
      "initial_direction": "Volume-weighted price correlation: Modify CORR20 to use volume-weighted average price (VWAP) instead of close price to capture the lead-lag relationship between institutional intent and execution.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Volume-weighted price correlation: Modify CORR20 to use volume-weighted average price (VWAP) instead of close price to capture the lead-lag relationship between institutional intent and execution.",
      "evolution_phase": "mutation",
      "trajectory_id": "90765b772937",
      "parent_trajectory_ids": [
        "ced58d311301"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.007462325568449,
        "ICIR": 0.0575319036285626,
        "RankIC": 0.0229814000641017,
        "RankICIR": 0.1821446760219512,
        "annualized_return": 0.0577316654087539,
        "information_ratio": 0.90125932775314,
        "max_drawdown": -0.0886117378331481
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:29:19.934535",
      "updated_at": "2026-01-17T02:29:19.934542"
    },
    "f31f3f1925246a8d": {
      "factor_id": "f31f3f1925246a8d",
      "factor_name": "Intraday_Skew_Exhaustion_Factor",
      "factor_expression": "RANK(TS_ZSCORE($high - $low, 20)) * SIGN($close - 0.5 * ($high + $low))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_ZSCORE($high - $low, 20)) * SIGN($close - 0.5 * ($high + $low))\" # Your output factor expression will be filled in here\n    name = \"Intraday_Skew_Exhaustion_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Captures liquidity exhaustion by measuring the daily range expansion relative to historical volatility, specifically when the close is significantly skewed toward the high or low. It targets short-term mean reversion by identifying emotional overshoots in price action.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: A 5-day mean reversion signal can be generated by identifying 'volatility exhaustion' where the daily range (High-Low) normalized by its 20-day moving average exceeds a threshold, particularly when the intraday price action is skewed towards one extreme (High-Close vs Close-Low).\n                Concise Observation: The parent strategy's volume-weighted correlation focuses on institutional conviction, but fails to capture short-term price reversals triggered by intraday volatility spikes and liquidity exhaustion that occur independently of volume trends.\n                Concise Justification: Price action geometry, specifically the ratio of the current range to historical range, serves as a proxy for market exhaustion; a high ratio suggests that liquidity providers have been pushed to extremes, leading to a high-probability reversal as the 'stretch' reverts to the mean.\n                Concise Knowledge: If the intraday price range expands significantly beyond historical volatility without a corresponding overnight gap, it indicates an emotional liquidity overshoot; when this expansion is accompanied by a close near the day's extreme, the probability of a short-term mean reversion increases.\n                concise Specification: The factor will use the ratio of ($high - $low) to its 20-day average, moderated by the relative position of the close within that range (High-Close vs Close-Low), to predict 1-3 day returns, focusing on the 5-day lookback for mean reversion signals.\n                ",
      "initial_direction": "Volume-weighted price correlation: Modify CORR20 to use volume-weighted average price (VWAP) instead of close price to capture the lead-lag relationship between institutional intent and execution.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Volume-weighted price correlation: Modify CORR20 to use volume-weighted average price (VWAP) instead of close price to capture the lead-lag relationship between institutional intent and execution.",
      "evolution_phase": "mutation",
      "trajectory_id": "90765b772937",
      "parent_trajectory_ids": [
        "ced58d311301"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.007462325568449,
        "ICIR": 0.0575319036285626,
        "RankIC": 0.0229814000641017,
        "RankICIR": 0.1821446760219512,
        "annualized_return": 0.0577316654087539,
        "information_ratio": 0.90125932775314,
        "max_drawdown": -0.0886117378331481
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:29:19.948118",
      "updated_at": "2026-01-17T02:29:19.948124"
    },
    "f181f52bc7dfdd49": {
      "factor_id": "f181f52bc7dfdd49",
      "factor_name": "Range_Stretch_Median_Reversion",
      "factor_expression": "ZSCORE(($high - $low) / (TS_MEDIAN($high - $low, 20) + 1e-8)) * ((2 * $close - ($high + $low)) / ($high - $low + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(($high - $low) / (TS_MEDIAN($high - $low, 20) + 1e-8)) * ((2 * $close - ($high + $low)) / ($high - $low + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Range_Stretch_Median_Reversion\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Measures the 'stretch' of the current daily range against the 20-day median range. It combines this with the intraday price location to signal exhaustion. It uses TS_MEDIAN for robustness against outliers in historical volatility.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: A 5-day mean reversion signal can be generated by identifying 'volatility exhaustion' where the daily range (High-Low) normalized by its 20-day moving average exceeds a threshold, particularly when the intraday price action is skewed towards one extreme (High-Close vs Close-Low).\n                Concise Observation: The parent strategy's volume-weighted correlation focuses on institutional conviction, but fails to capture short-term price reversals triggered by intraday volatility spikes and liquidity exhaustion that occur independently of volume trends.\n                Concise Justification: Price action geometry, specifically the ratio of the current range to historical range, serves as a proxy for market exhaustion; a high ratio suggests that liquidity providers have been pushed to extremes, leading to a high-probability reversal as the 'stretch' reverts to the mean.\n                Concise Knowledge: If the intraday price range expands significantly beyond historical volatility without a corresponding overnight gap, it indicates an emotional liquidity overshoot; when this expansion is accompanied by a close near the day's extreme, the probability of a short-term mean reversion increases.\n                concise Specification: The factor will use the ratio of ($high - $low) to its 20-day average, moderated by the relative position of the close within that range (High-Close vs Close-Low), to predict 1-3 day returns, focusing on the 5-day lookback for mean reversion signals.\n                ",
      "initial_direction": "Volume-weighted price correlation: Modify CORR20 to use volume-weighted average price (VWAP) instead of close price to capture the lead-lag relationship between institutional intent and execution.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Volume-weighted price correlation: Modify CORR20 to use volume-weighted average price (VWAP) instead of close price to capture the lead-lag relationship between institutional intent and execution.",
      "evolution_phase": "mutation",
      "trajectory_id": "90765b772937",
      "parent_trajectory_ids": [
        "ced58d311301"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.007462325568449,
        "ICIR": 0.0575319036285626,
        "RankIC": 0.0229814000641017,
        "RankICIR": 0.1821446760219512,
        "annualized_return": 0.0577316654087539,
        "information_ratio": 0.90125932775314,
        "max_drawdown": -0.0886117378331481
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:29:19.961533",
      "updated_at": "2026-01-17T02:29:19.961539"
    },
    "8a6eb155a91d9ffb": {
      "factor_id": "8a6eb155a91d9ffb",
      "factor_name": "Stealth_Accumulation_Decoupling_20D",
      "factor_expression": "-1 * RANK(TS_CORR($high - $low, $volume, 20))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"-1 * RANK(TS_CORR($high - $low, $volume, 20))\" # Your output factor expression will be filled in here\n    name = \"Stealth_Accumulation_Decoupling_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the decoupling between the daily price range (high - low) and daily trading volume over a 20-day period. A lower correlation suggests that price movements are occurring without significant liquidity shocks, indicating informed institutional accumulation with minimal market impact.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Stealth Accumulation Factor (SAF), defined as the divergence between the daily price range and volume intensity, identifies stocks where institutional execution minimizes market impact, leading to persistent price drift.\n                Concise Observation: While the parent strategy focused on volume volatility ratios (MSLVR) to identify regime shifts, it ignored the internal structure of daily price-volume coupling, which often reveals the 'stealth' nature of institutional positioning.\n                Concise Justification: Low correlation between high-low price spreads and volume suggests a lack of liquidity friction during a move, implying that the price discovery is driven by information rather than temporary liquidity shocks, which supports trend persistence.\n                Concise Knowledge: If price range volatility is high while volume remains relatively low or stable, it indicates informed traders are successfully masking their footprint; when price and volume are highly synchronized, the movement is likely retail-driven and prone to mean reversion.\n                concise Specification: The factor is calculated as the 20-day correlation between the daily price range (High - Low) and the daily volume, where a lower correlation (decoupling) is expected to predict higher future returns through drift persistence.\n                ",
      "initial_direction": "Multi-scale liquidity regime switching: Use the ratio of VSTD5 to VSTD60 to identify periods of abnormal volume volatility that precede a breakdown in the ROC60 reversal trend.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Multi-scale liquidity regime switching: Use the ratio of VSTD5 to VSTD60 to identify periods of abnormal volume volatility that precede a breakdown in the ROC60 reversal trend.",
      "evolution_phase": "mutation",
      "trajectory_id": "54ded28fe7f1",
      "parent_trajectory_ids": [
        "d5c2c9c8d643"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0064981784696998,
        "ICIR": 0.0490544385522351,
        "RankIC": 0.0259838168464141,
        "RankICIR": 0.2018794294876305,
        "annualized_return": 0.0723950455001276,
        "information_ratio": 1.1591820948311895,
        "max_drawdown": -0.0638259401166411
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:33:31.582971",
      "updated_at": "2026-01-17T02:33:31.582977"
    },
    "2288ed9bab90400e": {
      "factor_id": "2288ed9bab90400e",
      "factor_name": "Informed_Range_Efficiency_15D",
      "factor_expression": "RANK(TS_MEAN(($high - $low) / ($volume + 1e-8), 15))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN(($high - $low) / ($volume + 1e-8), 15))\" # Your output factor expression will be filled in here\n    name = \"Informed_Range_Efficiency_15D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies 'stealth' price discovery by calculating the ratio of the price range to the volume, smoothed over 15 days. High values indicate high range efficiency where price moves significantly on relatively low volume, suggesting institutional positioning rather than retail-driven volume spikes.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Stealth Accumulation Factor (SAF), defined as the divergence between the daily price range and volume intensity, identifies stocks where institutional execution minimizes market impact, leading to persistent price drift.\n                Concise Observation: While the parent strategy focused on volume volatility ratios (MSLVR) to identify regime shifts, it ignored the internal structure of daily price-volume coupling, which often reveals the 'stealth' nature of institutional positioning.\n                Concise Justification: Low correlation between high-low price spreads and volume suggests a lack of liquidity friction during a move, implying that the price discovery is driven by information rather than temporary liquidity shocks, which supports trend persistence.\n                Concise Knowledge: If price range volatility is high while volume remains relatively low or stable, it indicates informed traders are successfully masking their footprint; when price and volume are highly synchronized, the movement is likely retail-driven and prone to mean reversion.\n                concise Specification: The factor is calculated as the 20-day correlation between the daily price range (High - Low) and the daily volume, where a lower correlation (decoupling) is expected to predict higher future returns through drift persistence.\n                ",
      "initial_direction": "Multi-scale liquidity regime switching: Use the ratio of VSTD5 to VSTD60 to identify periods of abnormal volume volatility that precede a breakdown in the ROC60 reversal trend.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Multi-scale liquidity regime switching: Use the ratio of VSTD5 to VSTD60 to identify periods of abnormal volume volatility that precede a breakdown in the ROC60 reversal trend.",
      "evolution_phase": "mutation",
      "trajectory_id": "54ded28fe7f1",
      "parent_trajectory_ids": [
        "d5c2c9c8d643"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0064981784696998,
        "ICIR": 0.0490544385522351,
        "RankIC": 0.0259838168464141,
        "RankICIR": 0.2018794294876305,
        "annualized_return": 0.0723950455001276,
        "information_ratio": 1.1591820948311895,
        "max_drawdown": -0.0638259401166411
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:33:31.600892",
      "updated_at": "2026-01-17T02:33:31.600899"
    },
    "973adedc0202ee0d": {
      "factor_id": "973adedc0202ee0d",
      "factor_name": "Stealth_Drift_Persistence_10D",
      "factor_expression": "RANK(TS_RANK($high - $low, 10) - TS_RANK($volume, 10))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_RANK($high - $low, 10) - TS_RANK($volume, 10))\" # Your output factor expression will be filled in here\n    name = \"Stealth_Drift_Persistence_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures the divergence between price volatility and volume intensity. It uses the difference between the rank of the price range and the rank of volume over a 10-day window. Positive values indicate price volatility is higher than volume intensity, a hallmark of stealth accumulation.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Stealth Accumulation Factor (SAF), defined as the divergence between the daily price range and volume intensity, identifies stocks where institutional execution minimizes market impact, leading to persistent price drift.\n                Concise Observation: While the parent strategy focused on volume volatility ratios (MSLVR) to identify regime shifts, it ignored the internal structure of daily price-volume coupling, which often reveals the 'stealth' nature of institutional positioning.\n                Concise Justification: Low correlation between high-low price spreads and volume suggests a lack of liquidity friction during a move, implying that the price discovery is driven by information rather than temporary liquidity shocks, which supports trend persistence.\n                Concise Knowledge: If price range volatility is high while volume remains relatively low or stable, it indicates informed traders are successfully masking their footprint; when price and volume are highly synchronized, the movement is likely retail-driven and prone to mean reversion.\n                concise Specification: The factor is calculated as the 20-day correlation between the daily price range (High - Low) and the daily volume, where a lower correlation (decoupling) is expected to predict higher future returns through drift persistence.\n                ",
      "initial_direction": "Multi-scale liquidity regime switching: Use the ratio of VSTD5 to VSTD60 to identify periods of abnormal volume volatility that precede a breakdown in the ROC60 reversal trend.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Multi-scale liquidity regime switching: Use the ratio of VSTD5 to VSTD60 to identify periods of abnormal volume volatility that precede a breakdown in the ROC60 reversal trend.",
      "evolution_phase": "mutation",
      "trajectory_id": "54ded28fe7f1",
      "parent_trajectory_ids": [
        "d5c2c9c8d643"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0064981784696998,
        "ICIR": 0.0490544385522351,
        "RankIC": 0.0259838168464141,
        "RankICIR": 0.2018794294876305,
        "annualized_return": 0.0723950455001276,
        "information_ratio": 1.1591820948311895,
        "max_drawdown": -0.0638259401166411
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:33:31.616048",
      "updated_at": "2026-01-17T02:33:31.616054"
    },
    "1aa53be0817ae109": {
      "factor_id": "1aa53be0817ae109",
      "factor_name": "IPVE_Fragility_5D",
      "factor_expression": "RANK(TS_MEAN(($high - $low) / ($volume + 1e-8), 5))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN(($high - $low) / ($volume + 1e-8), 5))\" # Your output factor expression will be filled in here\n    name = \"IPVE_Fragility_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor calculates the Intraday Price-Volume Efficiency (IPVE) by taking the ratio of the daily price range to the trading volume. It identifies 'fragile' price movements where high volatility occurs on low liquidity. A 5-day simple moving average is applied to smooth idiosyncratic noise, and the result is cross-sectionally ranked to identify stocks prone to mean reversion.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Intraday Price-Volume Efficiency (IPVE) factor, defined as the ratio of the daily price range to the total volume, identifies 'exhausted' price movements where high volatility occurs on low relative liquidity, predicting short-term mean reversion.\n                Concise Observation: The parent strategy focused on 5-day return residuals (the 'what'), but failed to account for the liquidity cost of those moves (the 'how'), often leading to false signals in stocks with thin trading depth.\n                Concise Justification: By normalizing the daily price range (High - Low) by the total volume, we capture the 'price impact' per unit of volume; extreme values indicate price dislocations caused by liquidity exhaustion which are statistically prone to reversal.\n                Concise Knowledge: If a stock exhibits a large price range relative to its trading volume (high illiquidity), the movement is likely driven by temporary liquidity gaps rather than informed trading; such 'fragile' price levels tend to mean-revert as liquidity stabilizes.\n                concise Specification: Calculate the daily range ($high - $low) divided by $volume, then apply a 5-day moving average to smooth idiosyncratic noise, and rank cross-sectionally to isolate stocks with the highest 'fragility' per unit of liquidity.\n                ",
      "initial_direction": "Cross-Sectional Residual Ranking: Rank RESI5 within specific industry sectors to remove systematic beta noise and isolate idiosyncratic price dislocations.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Cross-Sectional Residual Ranking: Rank RESI5 within specific industry sectors to remove systematic beta noise and isolate idiosyncratic price dislocations.",
      "evolution_phase": "mutation",
      "trajectory_id": "c96ea5c447c4",
      "parent_trajectory_ids": [
        "f202389c67c8"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0057102577200863,
        "ICIR": 0.0403331460170836,
        "RankIC": 0.0265405304179709,
        "RankICIR": 0.1907661192869725,
        "annualized_return": 0.0487895152190456,
        "information_ratio": 0.7621703986104669,
        "max_drawdown": -0.0835352571462169
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:43:26.001869",
      "updated_at": "2026-01-17T02:43:26.001876"
    },
    "4a8501762c4a0bae": {
      "factor_id": "4a8501762c4a0bae",
      "factor_name": "Normalized_IPVE_ZScore_10D",
      "factor_expression": "TS_ZSCORE(($high - $low) / (TS_MEAN($volume, 10) + 1e-8), 10)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE(($high - $low) / (TS_MEAN($volume, 10) + 1e-8), 10)\" # Your output factor expression will be filled in here\n    name = \"Normalized_IPVE_ZScore_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "An alternative measure of price-volume efficiency that normalizes the price range by the 10-day average volume to isolate volume shocks. It uses a Z-score to identify extreme price-impact days relative to the stock's recent history, highlighting liquidity exhaustion points before mean reversion.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Intraday Price-Volume Efficiency (IPVE) factor, defined as the ratio of the daily price range to the total volume, identifies 'exhausted' price movements where high volatility occurs on low relative liquidity, predicting short-term mean reversion.\n                Concise Observation: The parent strategy focused on 5-day return residuals (the 'what'), but failed to account for the liquidity cost of those moves (the 'how'), often leading to false signals in stocks with thin trading depth.\n                Concise Justification: By normalizing the daily price range (High - Low) by the total volume, we capture the 'price impact' per unit of volume; extreme values indicate price dislocations caused by liquidity exhaustion which are statistically prone to reversal.\n                Concise Knowledge: If a stock exhibits a large price range relative to its trading volume (high illiquidity), the movement is likely driven by temporary liquidity gaps rather than informed trading; such 'fragile' price levels tend to mean-revert as liquidity stabilizes.\n                concise Specification: Calculate the daily range ($high - $low) divided by $volume, then apply a 5-day moving average to smooth idiosyncratic noise, and rank cross-sectionally to isolate stocks with the highest 'fragility' per unit of liquidity.\n                ",
      "initial_direction": "Cross-Sectional Residual Ranking: Rank RESI5 within specific industry sectors to remove systematic beta noise and isolate idiosyncratic price dislocations.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Cross-Sectional Residual Ranking: Rank RESI5 within specific industry sectors to remove systematic beta noise and isolate idiosyncratic price dislocations.",
      "evolution_phase": "mutation",
      "trajectory_id": "c96ea5c447c4",
      "parent_trajectory_ids": [
        "f202389c67c8"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0057102577200863,
        "ICIR": 0.0403331460170836,
        "RankIC": 0.0265405304179709,
        "RankICIR": 0.1907661192869725,
        "annualized_return": 0.0487895152190456,
        "information_ratio": 0.7621703986104669,
        "max_drawdown": -0.0835352571462169
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:43:26.016885",
      "updated_at": "2026-01-17T02:43:26.016891"
    },
    "93f99fe635358d30": {
      "factor_id": "93f99fe635358d30",
      "factor_name": "Relative_Range_Volume_Efficiency_20D",
      "factor_expression": "RANK((($high - $low) / ($volume + 1e-8)) / (TS_MEDIAN(($high - $low) / ($volume + 1e-8), 20) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK((($high - $low) / ($volume + 1e-8)) / (TS_MEDIAN(($high - $low) / ($volume + 1e-8), 20) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Relative_Range_Volume_Efficiency_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the efficiency of price movement relative to volume by comparing the current range-to-volume ratio against its 20-day median. It targets stocks where the current price movement is significantly more 'expensive' in terms of liquidity than usual, indicating a high probability of a fragile trend.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Intraday Price-Volume Efficiency (IPVE) factor, defined as the ratio of the daily price range to the total volume, identifies 'exhausted' price movements where high volatility occurs on low relative liquidity, predicting short-term mean reversion.\n                Concise Observation: The parent strategy focused on 5-day return residuals (the 'what'), but failed to account for the liquidity cost of those moves (the 'how'), often leading to false signals in stocks with thin trading depth.\n                Concise Justification: By normalizing the daily price range (High - Low) by the total volume, we capture the 'price impact' per unit of volume; extreme values indicate price dislocations caused by liquidity exhaustion which are statistically prone to reversal.\n                Concise Knowledge: If a stock exhibits a large price range relative to its trading volume (high illiquidity), the movement is likely driven by temporary liquidity gaps rather than informed trading; such 'fragile' price levels tend to mean-revert as liquidity stabilizes.\n                concise Specification: Calculate the daily range ($high - $low) divided by $volume, then apply a 5-day moving average to smooth idiosyncratic noise, and rank cross-sectionally to isolate stocks with the highest 'fragility' per unit of liquidity.\n                ",
      "initial_direction": "Cross-Sectional Residual Ranking: Rank RESI5 within specific industry sectors to remove systematic beta noise and isolate idiosyncratic price dislocations.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Cross-Sectional Residual Ranking: Rank RESI5 within specific industry sectors to remove systematic beta noise and isolate idiosyncratic price dislocations.",
      "evolution_phase": "mutation",
      "trajectory_id": "c96ea5c447c4",
      "parent_trajectory_ids": [
        "f202389c67c8"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0057102577200863,
        "ICIR": 0.0403331460170836,
        "RankIC": 0.0265405304179709,
        "RankICIR": 0.1907661192869725,
        "annualized_return": 0.0487895152190456,
        "information_ratio": 0.7621703986104669,
        "max_drawdown": -0.0835352571462169
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:43:26.031536",
      "updated_at": "2026-01-17T02:43:26.031542"
    },
    "893f367c987d653e": {
      "factor_id": "893f367c987d653e",
      "factor_name": "Gap_Stability_Ratio_10D",
      "factor_expression": "($open / DELAY($close, 1) - 1) / (($high - $low) / (TS_MEAN($high - $low, 10) + 1e-8) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ABS($open / DELAY($close, 1) - 1) / (($high - $low) / (TS_MEAN($high - $low, 10) + 1e-8) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Gap_Stability_Ratio_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the ratio of the overnight gap to the intraday price range. A high value indicates that the price movement occurred primarily during non-trading hours and was maintained throughout the day with little intraday volatility, suggesting institutional conviction. It is normalized by the 10-day average intraday range.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The divergence between the overnight price gap and the subsequent intraday price movement, normalized by daily volatility, identifies information asymmetry where persistent overnight gaps followed by intraday price stability signal strong institutional conviction and future trend continuation.\n                Concise Observation: The parent strategy focused on price range compression (coiling), but failed to distinguish between range contraction caused by lack of interest and contraction caused by institutional price setting (gaps), which often leads to different momentum outcomes.\n                Concise Justification: Overnight gaps represent the market's reaction to non-trading hour information; if the intraday market does not 'fill' the gap despite high volume or normal volatility, it suggests that the initial price move was not an overreaction but a fundamental shift.\n                Concise Knowledge: If an asset opens with a significant gap that is not retraced during the trading day, it indicates that the information shock is being absorbed as a new value floor; when intraday volatility is low relative to the gap, the signal's reliability for trend persistence increases.\n                concise Specification: The factor will measure the ratio of the overnight return (Open_t / Close_{t-1}) to the intraday range (High - Low), specifically targeting days where the gap exceeds the 10-day average range while the intraday volatility remains below its 5-day mean.\n                ",
      "initial_direction": "Volatility-Clustered Support: Use the interaction of KLOW and the 5-day range (High-Low) to identify 'coiled' price action where intraday support meets shrinking volatility.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Volatility-Clustered Support: Use the interaction of KLOW and the 5-day range (High-Low) to identify 'coiled' price action where intraday support meets shrinking volatility.",
      "evolution_phase": "mutation",
      "trajectory_id": "e96bc8d7b800",
      "parent_trajectory_ids": [
        "7ca5789e9bf2"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0090954391297086,
        "ICIR": 0.0641704170563025,
        "RankIC": 0.0302589040004389,
        "RankICIR": 0.2145395508170902,
        "annualized_return": 0.0741220731269715,
        "information_ratio": 1.0365973046477746,
        "max_drawdown": -0.1131525381331313
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:46:39.660769",
      "updated_at": "2026-01-17T02:46:39.660776"
    },
    "753627a010696eb7": {
      "factor_id": "753627a010696eb7",
      "factor_name": "Institutional_Gap_Persistence",
      "factor_expression": "(ABS($open - DELAY($close, 1)) / (TS_MEAN($high - $low, 5) + 1e-8)) * (1 - ($high - $low) / (TS_MEAN($high - $low, 10) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(ABS($open - DELAY($close, 1)) / (TS_MEAN($high - $low, 5) + 1e-8)) * (1 - ($high - $low) / (TS_MEAN($high - $low, 10) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Institutional_Gap_Persistence\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies days where the overnight gap is significant relative to historical intraday volatility, and the intraday range remains compressed. It uses a conditional logic to highlight 'gap and hold' patterns where the gap is at least 1.5 times the 5-day average intraday range.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The divergence between the overnight price gap and the subsequent intraday price movement, normalized by daily volatility, identifies information asymmetry where persistent overnight gaps followed by intraday price stability signal strong institutional conviction and future trend continuation.\n                Concise Observation: The parent strategy focused on price range compression (coiling), but failed to distinguish between range contraction caused by lack of interest and contraction caused by institutional price setting (gaps), which often leads to different momentum outcomes.\n                Concise Justification: Overnight gaps represent the market's reaction to non-trading hour information; if the intraday market does not 'fill' the gap despite high volume or normal volatility, it suggests that the initial price move was not an overreaction but a fundamental shift.\n                Concise Knowledge: If an asset opens with a significant gap that is not retraced during the trading day, it indicates that the information shock is being absorbed as a new value floor; when intraday volatility is low relative to the gap, the signal's reliability for trend persistence increases.\n                concise Specification: The factor will measure the ratio of the overnight return (Open_t / Close_{t-1}) to the intraday range (High - Low), specifically targeting days where the gap exceeds the 10-day average range while the intraday volatility remains below its 5-day mean.\n                ",
      "initial_direction": "Volatility-Clustered Support: Use the interaction of KLOW and the 5-day range (High-Low) to identify 'coiled' price action where intraday support meets shrinking volatility.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Volatility-Clustered Support: Use the interaction of KLOW and the 5-day range (High-Low) to identify 'coiled' price action where intraday support meets shrinking volatility.",
      "evolution_phase": "mutation",
      "trajectory_id": "e96bc8d7b800",
      "parent_trajectory_ids": [
        "7ca5789e9bf2"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0090954391297086,
        "ICIR": 0.0641704170563025,
        "RankIC": 0.0302589040004389,
        "RankICIR": 0.2145395508170902,
        "annualized_return": 0.0741220731269715,
        "information_ratio": 1.0365973046477746,
        "max_drawdown": -0.1131525381331313
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:46:39.677132",
      "updated_at": "2026-01-17T02:46:39.677139"
    },
    "372da11902cb84e1": {
      "factor_id": "372da11902cb84e1",
      "factor_name": "Normalized_Overnight_Dominance",
      "factor_expression": "RANK(($open - DELAY($close, 1)) / ($high - $low + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($open - DELAY($close, 1)) / ($high - $low + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Normalized_Overnight_Dominance\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Captures the dominance of the overnight return relative to the total daily range. It is cross-sectionally ranked to identify assets where the 'information gap' is the primary driver of the price trend compared to intraday noise.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The divergence between the overnight price gap and the subsequent intraday price movement, normalized by daily volatility, identifies information asymmetry where persistent overnight gaps followed by intraday price stability signal strong institutional conviction and future trend continuation.\n                Concise Observation: The parent strategy focused on price range compression (coiling), but failed to distinguish between range contraction caused by lack of interest and contraction caused by institutional price setting (gaps), which often leads to different momentum outcomes.\n                Concise Justification: Overnight gaps represent the market's reaction to non-trading hour information; if the intraday market does not 'fill' the gap despite high volume or normal volatility, it suggests that the initial price move was not an overreaction but a fundamental shift.\n                Concise Knowledge: If an asset opens with a significant gap that is not retraced during the trading day, it indicates that the information shock is being absorbed as a new value floor; when intraday volatility is low relative to the gap, the signal's reliability for trend persistence increases.\n                concise Specification: The factor will measure the ratio of the overnight return (Open_t / Close_{t-1}) to the intraday range (High - Low), specifically targeting days where the gap exceeds the 10-day average range while the intraday volatility remains below its 5-day mean.\n                ",
      "initial_direction": "Volatility-Clustered Support: Use the interaction of KLOW and the 5-day range (High-Low) to identify 'coiled' price action where intraday support meets shrinking volatility.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Volatility-Clustered Support: Use the interaction of KLOW and the 5-day range (High-Low) to identify 'coiled' price action where intraday support meets shrinking volatility.",
      "evolution_phase": "mutation",
      "trajectory_id": "e96bc8d7b800",
      "parent_trajectory_ids": [
        "7ca5789e9bf2"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0090954391297086,
        "ICIR": 0.0641704170563025,
        "RankIC": 0.0302589040004389,
        "RankICIR": 0.2145395508170902,
        "annualized_return": 0.0741220731269715,
        "information_ratio": 1.0365973046477746,
        "max_drawdown": -0.1131525381331313
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:46:39.694076",
      "updated_at": "2026-01-17T02:46:39.694082"
    },
    "79ca87965d5ce3c0": {
      "factor_id": "79ca87965d5ce3c0",
      "factor_name": "Amihud_Fragility_5D",
      "factor_expression": "RANK(TS_MEAN(ABS($return) / ($volume + 1e-8), 5))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN(ABS(TS_PCTCHANGE($close, 1)) / ($volume + 1e-8), 5))\" # Your output factor expression will be filled in here\n    name = \"Amihud_Fragility_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures short-term price fragility using the Amihud Illiquidity ratio (absolute return divided by volume), smoothed over a 5-day window. High values indicate price movements driven by low liquidity, which are expected to mean-revert.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: Short-term price fragility, measured by the ratio of absolute daily returns to trading volume (Amihud Illiquidity), predicts a mean-reversion effect where high-impact price movements driven by low liquidity tend to reverse in the subsequent period.\n                Concise Observation: While long-term momentum benefits from price-volume synchronization, short-term extreme price moves often lack volume support, leading to high 'price impact' scores that correlate negatively with next-day returns.\n                Concise Justification: The Amihud Illiquidity ratio captures the 'fragility' of the price; when the ratio is high, the asset is experiencing an illiquidity shock, suggesting that the current price level is unsustainable and likely to revert once liquidity stabilizes.\n                Concise Knowledge: If a significant price change occurs on low trading volume, it is likely a liquidity-driven 'noise' event rather than a fundamental 'information' event; such price extensions are prone to reversal as market makers provide liquidity to capture the spread.\n                concise Specification: The factor is defined as the absolute value of the 1-day percentage change in close price divided by the daily volume, potentially smoothed over a 5-day window to identify persistent liquidity bottlenecks.\n                ",
      "initial_direction": "Cross-sectional ranking interaction: Rank assets by ROC60 and CORR20 independently, then test the performance of the intersection of the top quintiles to find 'quiet' recovery candidates.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Cross-sectional ranking interaction: Rank assets by ROC60 and CORR20 independently, then test the performance of the intersection of the top quintiles to find 'quiet' recovery candidates.",
      "evolution_phase": "mutation",
      "trajectory_id": "b77475abf780",
      "parent_trajectory_ids": [
        "3b1e6adc972a"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0069086710117074,
        "ICIR": 0.0450751797798768,
        "RankIC": 0.0235844754543806,
        "RankICIR": 0.1613659382664924,
        "annualized_return": 0.0701141774364177,
        "information_ratio": 0.9613711153037888,
        "max_drawdown": -0.0822860748333083
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:46:43.169842",
      "updated_at": "2026-01-17T02:46:43.169848"
    },
    "db3bb63c885516b0": {
      "factor_id": "db3bb63c885516b0",
      "factor_name": "Relative_Illiquidity_Shock_10D",
      "factor_expression": "ZSCORE((ABS($return) / ($volume + 1e-8)) / (TS_MEAN(ABS($return) / ($volume + 1e-8), 10) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(ABS(TS_PCTCHANGE($close, 1)) / ($volume + 1e-8) / TS_MEAN(ABS(TS_PCTCHANGE($close, 1)) / ($volume + 1e-8), 10))\" # Your output factor expression will be filled in here\n    name = \"Relative_Illiquidity_Shock_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Captures the intensity of a liquidity shock by comparing the current daily price impact (absolute return/volume) to its 10-day historical average. A high ratio suggests an unsustainable price extension due to liquidity bottlenecks.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: Short-term price fragility, measured by the ratio of absolute daily returns to trading volume (Amihud Illiquidity), predicts a mean-reversion effect where high-impact price movements driven by low liquidity tend to reverse in the subsequent period.\n                Concise Observation: While long-term momentum benefits from price-volume synchronization, short-term extreme price moves often lack volume support, leading to high 'price impact' scores that correlate negatively with next-day returns.\n                Concise Justification: The Amihud Illiquidity ratio captures the 'fragility' of the price; when the ratio is high, the asset is experiencing an illiquidity shock, suggesting that the current price level is unsustainable and likely to revert once liquidity stabilizes.\n                Concise Knowledge: If a significant price change occurs on low trading volume, it is likely a liquidity-driven 'noise' event rather than a fundamental 'information' event; such price extensions are prone to reversal as market makers provide liquidity to capture the spread.\n                concise Specification: The factor is defined as the absolute value of the 1-day percentage change in close price divided by the daily volume, potentially smoothed over a 5-day window to identify persistent liquidity bottlenecks.\n                ",
      "initial_direction": "Cross-sectional ranking interaction: Rank assets by ROC60 and CORR20 independently, then test the performance of the intersection of the top quintiles to find 'quiet' recovery candidates.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Cross-sectional ranking interaction: Rank assets by ROC60 and CORR20 independently, then test the performance of the intersection of the top quintiles to find 'quiet' recovery candidates.",
      "evolution_phase": "mutation",
      "trajectory_id": "b77475abf780",
      "parent_trajectory_ids": [
        "3b1e6adc972a"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0069086710117074,
        "ICIR": 0.0450751797798768,
        "RankIC": 0.0235844754543806,
        "RankICIR": 0.1613659382664924,
        "annualized_return": 0.0701141774364177,
        "information_ratio": 0.9613711153037888,
        "max_drawdown": -0.0822860748333083
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:46:43.186993",
      "updated_at": "2026-01-17T02:46:43.186999"
    },
    "f2b1e3a9b86377a0": {
      "factor_id": "f2b1e3a9b86377a0",
      "factor_name": "Fragility_Momentum_Divergence_10D",
      "factor_expression": "RANK(TS_SUM($return, 10) * TS_RANK(ABS($return) / ($volume + 1e-8), 10))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_SUM(TS_PCTCHANGE($close, 1), 10) * TS_RANK(ABS(TS_PCTCHANGE($close, 1)) / ($volume + 1e-8), 10))\" # Your output factor expression will be filled in here\n    name = \"Fragility_Momentum_Divergence_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Identifies cases where price trends are 'fragile' by multiplying the 10-day return by the time-series rank of the Amihud illiquidity ratio. High fragility during a price move signals a higher probability of reversal.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: Short-term price fragility, measured by the ratio of absolute daily returns to trading volume (Amihud Illiquidity), predicts a mean-reversion effect where high-impact price movements driven by low liquidity tend to reverse in the subsequent period.\n                Concise Observation: While long-term momentum benefits from price-volume synchronization, short-term extreme price moves often lack volume support, leading to high 'price impact' scores that correlate negatively with next-day returns.\n                Concise Justification: The Amihud Illiquidity ratio captures the 'fragility' of the price; when the ratio is high, the asset is experiencing an illiquidity shock, suggesting that the current price level is unsustainable and likely to revert once liquidity stabilizes.\n                Concise Knowledge: If a significant price change occurs on low trading volume, it is likely a liquidity-driven 'noise' event rather than a fundamental 'information' event; such price extensions are prone to reversal as market makers provide liquidity to capture the spread.\n                concise Specification: The factor is defined as the absolute value of the 1-day percentage change in close price divided by the daily volume, potentially smoothed over a 5-day window to identify persistent liquidity bottlenecks.\n                ",
      "initial_direction": "Cross-sectional ranking interaction: Rank assets by ROC60 and CORR20 independently, then test the performance of the intersection of the top quintiles to find 'quiet' recovery candidates.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Cross-sectional ranking interaction: Rank assets by ROC60 and CORR20 independently, then test the performance of the intersection of the top quintiles to find 'quiet' recovery candidates.",
      "evolution_phase": "mutation",
      "trajectory_id": "b77475abf780",
      "parent_trajectory_ids": [
        "3b1e6adc972a"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0069086710117074,
        "ICIR": 0.0450751797798768,
        "RankIC": 0.0235844754543806,
        "RankICIR": 0.1613659382664924,
        "annualized_return": 0.0701141774364177,
        "information_ratio": 0.9613711153037888,
        "max_drawdown": -0.0822860748333083
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:46:43.202044",
      "updated_at": "2026-01-17T02:46:43.202051"
    },
    "3cd6d15d89224ff5": {
      "factor_id": "3cd6d15d89224ff5",
      "factor_name": "Relative_Intraday_Intensity_20D",
      "factor_expression": "RANK(($high - $low) / (TS_MEAN(MAX($high - $low, MAX(ABS($high - DELAY($close, 1)), ABS($low - DELAY($close, 1)))), 20) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($high - $low) / (TS_MEAN(MAX($high - $low, MAX(ABS($high - DELAY($close, 1)), ABS($low - DELAY($close, 1)))), 20) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Relative_Intraday_Intensity_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor calculates the ratio of the current day's price range to the 20-day Average True Range (ATR). It identifies stocks with abnormal intraday volatility relative to their historical baseline, normalized for cross-sectional comparison.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Relative Intraday Intensity factor, defined as the ratio of the daily price range (High - Low) to its 20-day Average True Range (ATR), predicts future returns by identifying stocks with abnormal intraday volatility relative to their historical baseline.\n                Concise Observation: Raw intraday ranges (High - Low) are heavily biased by price levels and inherent stock volatility, making cross-sectional comparisons difficult across diverse market segments.\n                Concise Justification: Normalizing the daily range by the 20-day ATR converts a nominal price spread into a unit-less volatility score, allowing the model to distinguish between routine price movement and significant trading intensity that often precedes trend reversals or continuations.\n                Concise Knowledge: If a stock's current intraday price range is normalized by its historical volatility (ATR), the resulting ratio identifies liquidity-adjusted price shocks; when this ratio is high, it signals significant information arrival or liquidity pressure regardless of the stock's absolute price level.\n                concise Specification: The factor is calculated as (High - Low) divided by the 20-day moving average of the True Range (max(H-L, abs(H-Cp), abs(L-Cp))), focusing on the cross-sectional ranking of this ratio to predict next-day returns.\n                ",
      "initial_direction": "Normalize KLEN by the 20-day Average True Range (ATR) to create a 'Relative Intraday Intensity' factor that is cross-sectionally comparable across different liquidity tiers.",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "Normalize KLEN by the 20-day Average True Range (ATR) to create a 'Relative Intraday Intensity' factor that is cross-sectionally comparable across different liquidity tiers.",
      "evolution_phase": "original",
      "trajectory_id": "be4e1d055d38",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0071669641452989,
        "ICIR": 0.0496265311112702,
        "RankIC": 0.0290910142410575,
        "RankICIR": 0.1996712028648894,
        "annualized_return": 0.0882720304711901,
        "information_ratio": 1.277805290657817,
        "max_drawdown": -0.1184123868650801
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:52:07.993363",
      "updated_at": "2026-01-17T02:52:07.993370"
    },
    "366a311d0a63e223": {
      "factor_id": "366a311d0a63e223",
      "factor_name": "Volatility_Adjusted_Range_Shock_10D",
      "factor_expression": "RANK((($high - $low) / $close) / (TS_STD($return, 10) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK((($high - $low) / $close) / TS_STD(TS_PCTCHANGE($close, 1), 10))\" # Your output factor expression will be filled in here\n    name = \"Volatility_Adjusted_Range_Shock_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the intraday intensity factor that uses a 10-day rolling standard deviation of returns to normalize the daily range-to-price ratio, highlighting price shocks relative to recent volatility.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Relative Intraday Intensity factor, defined as the ratio of the daily price range (High - Low) to its 20-day Average True Range (ATR), predicts future returns by identifying stocks with abnormal intraday volatility relative to their historical baseline.\n                Concise Observation: Raw intraday ranges (High - Low) are heavily biased by price levels and inherent stock volatility, making cross-sectional comparisons difficult across diverse market segments.\n                Concise Justification: Normalizing the daily range by the 20-day ATR converts a nominal price spread into a unit-less volatility score, allowing the model to distinguish between routine price movement and significant trading intensity that often precedes trend reversals or continuations.\n                Concise Knowledge: If a stock's current intraday price range is normalized by its historical volatility (ATR), the resulting ratio identifies liquidity-adjusted price shocks; when this ratio is high, it signals significant information arrival or liquidity pressure regardless of the stock's absolute price level.\n                concise Specification: The factor is calculated as (High - Low) divided by the 20-day moving average of the True Range (max(H-L, abs(H-Cp), abs(L-Cp))), focusing on the cross-sectional ranking of this ratio to predict next-day returns.\n                ",
      "initial_direction": "Normalize KLEN by the 20-day Average True Range (ATR) to create a 'Relative Intraday Intensity' factor that is cross-sectionally comparable across different liquidity tiers.",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "Normalize KLEN by the 20-day Average True Range (ATR) to create a 'Relative Intraday Intensity' factor that is cross-sectionally comparable across different liquidity tiers.",
      "evolution_phase": "original",
      "trajectory_id": "be4e1d055d38",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0071669641452989,
        "ICIR": 0.0496265311112702,
        "RankIC": 0.0290910142410575,
        "RankICIR": 0.1996712028648894,
        "annualized_return": 0.0882720304711901,
        "information_ratio": 1.277805290657817,
        "max_drawdown": -0.1184123868650801
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:52:08.010514",
      "updated_at": "2026-01-17T02:52:08.010520"
    },
    "9a62de12186c88c7": {
      "factor_id": "9a62de12186c88c7",
      "factor_name": "Relative_Range_ZScore_20D",
      "factor_expression": "RANK(TS_ZSCORE($high - $low, 20))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_ZSCORE($high - $low, 20))\" # Your output factor expression will be filled in here\n    name = \"Relative_Range_ZScore_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the time-series Z-score of the daily price range over a 20-day window. It identifies how many standard deviations the current day's range is from its recent mean, providing a unit-less measure of trading intensity.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Relative Intraday Intensity factor, defined as the ratio of the daily price range (High - Low) to its 20-day Average True Range (ATR), predicts future returns by identifying stocks with abnormal intraday volatility relative to their historical baseline.\n                Concise Observation: Raw intraday ranges (High - Low) are heavily biased by price levels and inherent stock volatility, making cross-sectional comparisons difficult across diverse market segments.\n                Concise Justification: Normalizing the daily range by the 20-day ATR converts a nominal price spread into a unit-less volatility score, allowing the model to distinguish between routine price movement and significant trading intensity that often precedes trend reversals or continuations.\n                Concise Knowledge: If a stock's current intraday price range is normalized by its historical volatility (ATR), the resulting ratio identifies liquidity-adjusted price shocks; when this ratio is high, it signals significant information arrival or liquidity pressure regardless of the stock's absolute price level.\n                concise Specification: The factor is calculated as (High - Low) divided by the 20-day moving average of the True Range (max(H-L, abs(H-Cp), abs(L-Cp))), focusing on the cross-sectional ranking of this ratio to predict next-day returns.\n                ",
      "initial_direction": "Normalize KLEN by the 20-day Average True Range (ATR) to create a 'Relative Intraday Intensity' factor that is cross-sectionally comparable across different liquidity tiers.",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "Normalize KLEN by the 20-day Average True Range (ATR) to create a 'Relative Intraday Intensity' factor that is cross-sectionally comparable across different liquidity tiers.",
      "evolution_phase": "original",
      "trajectory_id": "be4e1d055d38",
      "parent_trajectory_ids": [],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0071669641452989,
        "ICIR": 0.0496265311112702,
        "RankIC": 0.0290910142410575,
        "RankICIR": 0.1996712028648894,
        "annualized_return": 0.0882720304711901,
        "information_ratio": 1.277805290657817,
        "max_drawdown": -0.1184123868650801
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T02:52:08.026105",
      "updated_at": "2026-01-17T02:52:08.026110"
    },
    "693777eaee0222f2": {
      "factor_id": "693777eaee0222f2",
      "factor_name": "VASRF_Stealth_Accumulation_20D",
      "factor_expression": "TS_CORR($close, $volume, 20) * INV(TS_CORR($high - $low, $volume, 10) + 1e-8) * (TS_MEAN(MAX($high - $low, MAX(ABS($high - DELAY($close, 1)), ABS($low - DELAY($close, 1)))), 14) / (TS_MEAN($close, 14) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_CORR($close, $volume, 20) * INV(TS_CORR($high - $low, $volume, 10) + 1e-8) * (TS_MEAN(MAX($high - $low, MAX(ABS($high - DELAY($close, 1)), ABS($low - DELAY($close, 1)))), 14) / (TS_MEAN($close, 14) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"VASRF_Stealth_Accumulation_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "The Volatility-Adjusted Stealth Regime Factor (VASRF) identifies institutional accumulation by looking for high price-volume correlation (directional synergy) and low price-range-to-volume sensitivity (execution efficiency), weighted by a volatility regime indicator (ATR/Price).",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Volatility-Adjusted Stealth Regime Factor (VASRF) predicts excess returns by identifying stocks where high directional price-volume correlation coincides with low price-range-to-volume sensitivity, amplified by high ATR-based volatility regimes.\n                Concise Observation: Parent 1 (RankIC 0.029) shows that volatility-normalized regimes improve signal reliability, while Parent 2 (RankIC 0.026) suggests that decoupling between range and volume captures institutional stealth; combining these identifies high-conviction moves hidden in market stress.\n                Concise Justification: High ATR environments mask institutional footprints; by filtering for stocks that maintain directional price-volume synergy (CORR) but exhibit execution efficiency (low Range/Volume ratio), we isolate informed flow from speculative volatility.\n                Concise Knowledge: If institutional accumulation is high-conviction, then price-volume correlation remains high while price-range expansion remains compressed relative to volume; this signal is more reliable in high-volatility regimes where retail noise is prevalent.\n                concise Specification: The factor is defined as the product of the 20-day correlation between close price and volume, the inverse of the 10-day correlation between (high-low) and volume, and the 14-day ATR normalized by the 14-day average close price.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "38ad0a3b5110",
      "parent_trajectory_ids": [
        "790b0c692f1a",
        "29291150beba"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0091547233938905,
        "ICIR": 0.0573499965140728,
        "RankIC": 0.0285567660741052,
        "RankICIR": 0.1816099464505781,
        "annualized_return": 0.0562170888026229,
        "information_ratio": 0.7272430187875002,
        "max_drawdown": -0.1362635032509346
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:05:12.001666",
      "updated_at": "2026-01-17T03:05:12.001673"
    },
    "b268b574c85277ef": {
      "factor_id": "b268b574c85277ef",
      "factor_name": "Stealth_Efficiency_Rank_15D",
      "factor_expression": "RANK(TS_CORR($close, $volume, 15)) - RANK(TS_CORR($high - $low, $volume, 15))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_CORR($close, $volume, 15)) - RANK(TS_CORR($high - $low, $volume, 15))\" # Your output factor expression will be filled in here\n    name = \"Stealth_Efficiency_Rank_15D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the stealth regime hypothesis focusing on the cross-sectional rank of price-volume synergy relative to range expansion. It identifies stocks where volume leads to price direction rather than price volatility.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Volatility-Adjusted Stealth Regime Factor (VASRF) predicts excess returns by identifying stocks where high directional price-volume correlation coincides with low price-range-to-volume sensitivity, amplified by high ATR-based volatility regimes.\n                Concise Observation: Parent 1 (RankIC 0.029) shows that volatility-normalized regimes improve signal reliability, while Parent 2 (RankIC 0.026) suggests that decoupling between range and volume captures institutional stealth; combining these identifies high-conviction moves hidden in market stress.\n                Concise Justification: High ATR environments mask institutional footprints; by filtering for stocks that maintain directional price-volume synergy (CORR) but exhibit execution efficiency (low Range/Volume ratio), we isolate informed flow from speculative volatility.\n                Concise Knowledge: If institutional accumulation is high-conviction, then price-volume correlation remains high while price-range expansion remains compressed relative to volume; this signal is more reliable in high-volatility regimes where retail noise is prevalent.\n                concise Specification: The factor is defined as the product of the 20-day correlation between close price and volume, the inverse of the 10-day correlation between (high-low) and volume, and the 14-day ATR normalized by the 14-day average close price.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "38ad0a3b5110",
      "parent_trajectory_ids": [
        "790b0c692f1a",
        "29291150beba"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0091547233938905,
        "ICIR": 0.0573499965140728,
        "RankIC": 0.0285567660741052,
        "RankICIR": 0.1816099464505781,
        "annualized_return": 0.0562170888026229,
        "information_ratio": 0.7272430187875002,
        "max_drawdown": -0.1362635032509346
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:05:12.018494",
      "updated_at": "2026-01-17T03:05:12.018500"
    },
    "aa80a0df4f6ebcfd": {
      "factor_id": "aa80a0df4f6ebcfd",
      "factor_name": "Volatility_Regime_Synergy_10D",
      "factor_expression": "TS_CORR($close, $volume, 10) * TS_ZSCORE(($high - $low) / ($close + 1e-8), 20)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_CORR($close, $volume, 10) * TS_ZSCORE(($high - $low) / ($close + 1e-8), 20)\" # Your output factor expression will be filled in here\n    name = \"Volatility_Regime_Synergy_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures the interaction between price-volume correlation and standardized volatility. It targets high-conviction moves that occur during periods of elevated relative price range, suggesting informed participation during market stress.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Volatility-Adjusted Stealth Regime Factor (VASRF) predicts excess returns by identifying stocks where high directional price-volume correlation coincides with low price-range-to-volume sensitivity, amplified by high ATR-based volatility regimes.\n                Concise Observation: Parent 1 (RankIC 0.029) shows that volatility-normalized regimes improve signal reliability, while Parent 2 (RankIC 0.026) suggests that decoupling between range and volume captures institutional stealth; combining these identifies high-conviction moves hidden in market stress.\n                Concise Justification: High ATR environments mask institutional footprints; by filtering for stocks that maintain directional price-volume synergy (CORR) but exhibit execution efficiency (low Range/Volume ratio), we isolate informed flow from speculative volatility.\n                Concise Knowledge: If institutional accumulation is high-conviction, then price-volume correlation remains high while price-range expansion remains compressed relative to volume; this signal is more reliable in high-volatility regimes where retail noise is prevalent.\n                concise Specification: The factor is defined as the product of the 20-day correlation between close price and volume, the inverse of the 10-day correlation between (high-low) and volume, and the 14-day ATR normalized by the 14-day average close price.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "38ad0a3b5110",
      "parent_trajectory_ids": [
        "790b0c692f1a",
        "29291150beba"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0091547233938905,
        "ICIR": 0.0573499965140728,
        "RankIC": 0.0285567660741052,
        "RankICIR": 0.1816099464505781,
        "annualized_return": 0.0562170888026229,
        "information_ratio": 0.7272430187875002,
        "max_drawdown": -0.1362635032509346
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:05:12.034823",
      "updated_at": "2026-01-17T03:05:12.034829"
    },
    "a17c9397eede1d19": {
      "factor_id": "a17c9397eede1d19",
      "factor_name": "ISEC_Factor_3_5D",
      "factor_expression": "SIGN($open / (DELAY($close, 1) + 1e-8) - 1) * TS_MEAN(($low - TS_MIN($low, 1)) / ($high - $low + 1e-8), 3) * TS_CORR($return, DELTA($volume, 1), 5)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"SIGN($open / DELAY($close, 1) - 1) * TS_MEAN(($low - TS_MIN($low, 5)) / ($high - $low + 1e-8), 3) * TS_CORR(TS_PCTCHANGE($close, 1), DELTA($volume, 1), 5)\" # Your output factor expression will be filled in here\n    name = \"ISEC_Factor_3_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "The Institutional Support & Exhaustion Convergence (ISEC) factor identifies high-probability reversals and continuations. It combines 'Support Persistence' (intraday stability) with 'PV_Corr' (price-volume synchronization), weighted by the direction of the overnight gap to filter for momentum quality and exhaustion.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Support & Exhaustion Convergence (ISEC) factor identifies high-probability reversals and continuations by multiplying a 3-day mean of the Low-to-Range ratio with a 5-day rolling correlation between price returns and volume changes, adjusted for the sign of the overnight gap.\n                Concise Observation: Parent 1's support persistence (RankIC 0.0256) captures intraday stability, while Parent 2's price-volume divergence (RankIC 0.0271) captures momentum quality; combining them addresses the 'fake breakout' problem where price levels hold without volume backing.\n                Concise Justification: Multiplying the support persistence by the price-volume correlation creates a conditional filter: it amplifies signals where price structure and volume flow are synchronized and penalizes signals where price levels are maintained on thinning participation.\n                Concise Knowledge: If intraday price support (low price near high) is confirmed by high price-volume correlation, the trend is robust; if high support coincides with price-volume divergence or extreme overnight gaps, the trend is likely exhausting.\n                concise Specification: Calculate Support_Persistence as mean(($low - $low.min(1))/($high - $low), 3). Calculate PV_Corr as corr(returns, volume_change, 5). The final factor is Support_Persistence * PV_Corr, further weighted by the sign of the overnight gap ($open / $close[1] - 1).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "79be26fc03da",
      "parent_trajectory_ids": [
        "a3e677a37e74",
        "17cebd62c163"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0079784520858973,
        "ICIR": 0.0579017656321037,
        "RankIC": 0.0264983635033115,
        "RankICIR": 0.2012108664698539,
        "annualized_return": 0.0542883418332168,
        "information_ratio": 0.8231440913549766,
        "max_drawdown": -0.0869978471690688
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:07:50.757717",
      "updated_at": "2026-01-17T03:07:50.757723"
    },
    "91dc9d77c55ea6f4": {
      "factor_id": "91dc9d77c55ea6f4",
      "factor_name": "Support_Persistence_Rank_5D",
      "factor_expression": "RANK(TS_MEAN(($low - TS_MIN($low, 5)) / ($high - $low + 1e-8), 5))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN(($low - TS_MIN($low, 5)) / ($high - $low + 1e-8), 5))\" # Your output factor expression will be filled in here\n    name = \"Support_Persistence_Rank_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the ISEC logic focusing on the persistence of price support relative to the intraday range, cross-sectionally ranked to identify stocks with the strongest institutional floor relative to recent volatility.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Support & Exhaustion Convergence (ISEC) factor identifies high-probability reversals and continuations by multiplying a 3-day mean of the Low-to-Range ratio with a 5-day rolling correlation between price returns and volume changes, adjusted for the sign of the overnight gap.\n                Concise Observation: Parent 1's support persistence (RankIC 0.0256) captures intraday stability, while Parent 2's price-volume divergence (RankIC 0.0271) captures momentum quality; combining them addresses the 'fake breakout' problem where price levels hold without volume backing.\n                Concise Justification: Multiplying the support persistence by the price-volume correlation creates a conditional filter: it amplifies signals where price structure and volume flow are synchronized and penalizes signals where price levels are maintained on thinning participation.\n                Concise Knowledge: If intraday price support (low price near high) is confirmed by high price-volume correlation, the trend is robust; if high support coincides with price-volume divergence or extreme overnight gaps, the trend is likely exhausting.\n                concise Specification: Calculate Support_Persistence as mean(($low - $low.min(1))/($high - $low), 3). Calculate PV_Corr as corr(returns, volume_change, 5). The final factor is Support_Persistence * PV_Corr, further weighted by the sign of the overnight gap ($open / $close[1] - 1).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "79be26fc03da",
      "parent_trajectory_ids": [
        "a3e677a37e74",
        "17cebd62c163"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0079784520858973,
        "ICIR": 0.0579017656321037,
        "RankIC": 0.0264983635033115,
        "RankICIR": 0.2012108664698539,
        "annualized_return": 0.0542883418332168,
        "information_ratio": 0.8231440913549766,
        "max_drawdown": -0.0869978471690688
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:07:50.774428",
      "updated_at": "2026-01-17T03:07:50.774434"
    },
    "bb7792969402808d": {
      "factor_id": "bb7792969402808d",
      "factor_name": "PV_Exhaustion_Index_10D",
      "factor_expression": "TS_CORR($return, DELTA($volume, 1), 10) * ($open / (DELAY($close, 1) + 1e-8) - 1)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_CORR(TS_PCTCHANGE($close, 1), TS_PCTCHANGE($volume, 1), 10) * ($open / DELAY($close, 1) - 1)\" # Your output factor expression will be filled in here\n    name = \"PV_Exhaustion_Index_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Captures price-volume exhaustion by measuring the divergence between price returns and volume changes, adjusted by the overnight gap. High values suggest price movement is supported by volume flow, whereas low values suggest exhaustion.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Support & Exhaustion Convergence (ISEC) factor identifies high-probability reversals and continuations by multiplying a 3-day mean of the Low-to-Range ratio with a 5-day rolling correlation between price returns and volume changes, adjusted for the sign of the overnight gap.\n                Concise Observation: Parent 1's support persistence (RankIC 0.0256) captures intraday stability, while Parent 2's price-volume divergence (RankIC 0.0271) captures momentum quality; combining them addresses the 'fake breakout' problem where price levels hold without volume backing.\n                Concise Justification: Multiplying the support persistence by the price-volume correlation creates a conditional filter: it amplifies signals where price structure and volume flow are synchronized and penalizes signals where price levels are maintained on thinning participation.\n                Concise Knowledge: If intraday price support (low price near high) is confirmed by high price-volume correlation, the trend is robust; if high support coincides with price-volume divergence or extreme overnight gaps, the trend is likely exhausting.\n                concise Specification: Calculate Support_Persistence as mean(($low - $low.min(1))/($high - $low), 3). Calculate PV_Corr as corr(returns, volume_change, 5). The final factor is Support_Persistence * PV_Corr, further weighted by the sign of the overnight gap ($open / $close[1] - 1).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "79be26fc03da",
      "parent_trajectory_ids": [
        "a3e677a37e74",
        "17cebd62c163"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0079784520858973,
        "ICIR": 0.0579017656321037,
        "RankIC": 0.0264983635033115,
        "RankICIR": 0.2012108664698539,
        "annualized_return": 0.0542883418332168,
        "information_ratio": 0.8231440913549766,
        "max_drawdown": -0.0869978471690688
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:07:50.790925",
      "updated_at": "2026-01-17T03:07:50.790930"
    },
    "19b7bd2ac2235503": {
      "factor_id": "19b7bd2ac2235503",
      "factor_name": "Liquidity_Exhaustion_Divergence_60D",
      "factor_expression": "(TS_SUM($return, 60) < 0) ? (TS_CORR($close, $volume, 20) * TS_ZSCORE(ABS($return) / ($volume + 1e-8), 5)) : 0",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(TS_PCTCHANGE($close, 60) < 0) ? (TS_CORR($close, $volume, 20) * TS_ZSCORE(ABS(TS_PCTCHANGE($close, 1)) / ($volume + 1e-8), 5)) : 0\" # Your output factor expression will be filled in here\n    name = \"Liquidity_Exhaustion_Divergence_60D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Identifies mean-reversion opportunities by multiplying the 20-day price-volume correlation with the 5-day Amihud Illiquidity Z-score, filtered by a 60-day negative momentum to isolate oversold recovery points.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Liquidity-Exhaustion Divergence' factor identifies mean-reversion by multiplying the 20-day negative price-volume correlation (Parent 1) with the 5-day Amihud Illiquidity Z-score (Parent 2) within a 60-day momentum context.\n                Concise Observation: Parent 1 captures structural trend decay (RankIC 0.029) while Parent 2 captures immediate execution stress (RankIC 0.023); however, each alone may trigger premature entries in trending or flat markets respectively.\n                Concise Justification: Combining the 20-day price-volume decoupling with a 5-day illiquidity spike ensures that the mean-reversion signal is only generated when the macro-trend has lost volume support and the micro-structure is fragile enough to snap back.\n                Concise Knowledge: If a medium-term price trend exhibits decoupling (negative price-volume correlation) and is simultaneously hit by a short-term liquidity shock (high Amihud ratio), then the probability of a sharp mean-reversion increases due to exhaustion of the dominant market participants.\n                concise Specification: Define the factor as the product of TS_CORR($close, $volume, 20) and a 5-day Z-score of ($abs(return)/$volume), filtered by a negative 60-day cumulative return to isolate oversold recovery opportunities.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "0d28bc31ac05",
      "parent_trajectory_ids": [
        "602b97b242f8",
        "696eecf82dbb"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.009537074802855,
        "ICIR": 0.0664693296707091,
        "RankIC": 0.0265548610396828,
        "RankICIR": 0.1853266300679249,
        "annualized_return": 0.077722993371773,
        "information_ratio": 1.1414703919871785,
        "max_drawdown": -0.1191262636734705
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:11:27.307677",
      "updated_at": "2026-01-17T03:11:27.307684"
    },
    "cecbeb683ba33bd9": {
      "factor_id": "cecbeb683ba33bd9",
      "factor_name": "Structural_Decay_Shock_Factor",
      "factor_expression": "RANK(TS_CORR($close, $volume, 20)) * RANK(ABS($return) / ($volume + 1e-8)) * (TS_PCTCHANGE($close, 60) < 0)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_CORR($close, $volume, 20)) * RANK(ABS(TS_PCTCHANGE($close, 1)) / ($volume + 1e-8)) * (TS_PCTCHANGE($close, 60) < 0 ? 1 : 0)\" # Your output factor expression will be filled in here\n    name = \"Structural_Decay_Shock_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A refined version of the liquidity exhaustion hypothesis that uses the rank of price-volume decoupling and the rank of illiquidity spikes to identify fragile market structures in a downtrend.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Liquidity-Exhaustion Divergence' factor identifies mean-reversion by multiplying the 20-day negative price-volume correlation (Parent 1) with the 5-day Amihud Illiquidity Z-score (Parent 2) within a 60-day momentum context.\n                Concise Observation: Parent 1 captures structural trend decay (RankIC 0.029) while Parent 2 captures immediate execution stress (RankIC 0.023); however, each alone may trigger premature entries in trending or flat markets respectively.\n                Concise Justification: Combining the 20-day price-volume decoupling with a 5-day illiquidity spike ensures that the mean-reversion signal is only generated when the macro-trend has lost volume support and the micro-structure is fragile enough to snap back.\n                Concise Knowledge: If a medium-term price trend exhibits decoupling (negative price-volume correlation) and is simultaneously hit by a short-term liquidity shock (high Amihud ratio), then the probability of a sharp mean-reversion increases due to exhaustion of the dominant market participants.\n                concise Specification: Define the factor as the product of TS_CORR($close, $volume, 20) and a 5-day Z-score of ($abs(return)/$volume), filtered by a negative 60-day cumulative return to isolate oversold recovery opportunities.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "0d28bc31ac05",
      "parent_trajectory_ids": [
        "602b97b242f8",
        "696eecf82dbb"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.009537074802855,
        "ICIR": 0.0664693296707091,
        "RankIC": 0.0265548610396828,
        "RankICIR": 0.1853266300679249,
        "annualized_return": 0.077722993371773,
        "information_ratio": 1.1414703919871785,
        "max_drawdown": -0.1191262636734705
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:11:27.325238",
      "updated_at": "2026-01-17T03:11:27.325243"
    },
    "f9649f1e9c75243c": {
      "factor_id": "f9649f1e9c75243c",
      "factor_name": "Exhaustion_ZScore_Combo",
      "factor_expression": "ZSCORE(TS_CORR($close, $volume, 20)) + ZSCORE(TS_MEAN(ABS($return) / ($volume + 1e-8), 5))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(TS_CORR($close, $volume, 20)) + ZSCORE(TS_MEAN(ABS(TS_PCTCHANGE($close, 1)) / ($volume + 1e-8), 5))\" # Your output factor expression will be filled in here\n    name = \"Exhaustion_ZScore_Combo\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Combines the 20-day price-volume correlation with a 5-day moving average of the Amihud ratio, standardized cross-sectionally to identify extreme exhaustion relative to the market universe.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Liquidity-Exhaustion Divergence' factor identifies mean-reversion by multiplying the 20-day negative price-volume correlation (Parent 1) with the 5-day Amihud Illiquidity Z-score (Parent 2) within a 60-day momentum context.\n                Concise Observation: Parent 1 captures structural trend decay (RankIC 0.029) while Parent 2 captures immediate execution stress (RankIC 0.023); however, each alone may trigger premature entries in trending or flat markets respectively.\n                Concise Justification: Combining the 20-day price-volume decoupling with a 5-day illiquidity spike ensures that the mean-reversion signal is only generated when the macro-trend has lost volume support and the micro-structure is fragile enough to snap back.\n                Concise Knowledge: If a medium-term price trend exhibits decoupling (negative price-volume correlation) and is simultaneously hit by a short-term liquidity shock (high Amihud ratio), then the probability of a sharp mean-reversion increases due to exhaustion of the dominant market participants.\n                concise Specification: Define the factor as the product of TS_CORR($close, $volume, 20) and a 5-day Z-score of ($abs(return)/$volume), filtered by a negative 60-day cumulative return to isolate oversold recovery opportunities.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "0d28bc31ac05",
      "parent_trajectory_ids": [
        "602b97b242f8",
        "696eecf82dbb"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.009537074802855,
        "ICIR": 0.0664693296707091,
        "RankIC": 0.0265548610396828,
        "RankICIR": 0.1853266300679249,
        "annualized_return": 0.077722993371773,
        "information_ratio": 1.1414703919871785,
        "max_drawdown": -0.1191262636734705
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:11:27.342265",
      "updated_at": "2026-01-17T03:11:27.342271"
    },
    "e6f126bd33a16828": {
      "factor_id": "e6f126bd33a16828",
      "factor_name": "Institutional_Conviction_Gap_10D",
      "factor_expression": "($open - DELAY($close, 1)) / (($open - $low) + ($high - $low) + 1e-8) / (TS_STD($return, 10) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($open - DELAY($close, 1)) / (($open - $low) + ($high - $low) + 0.00000001)) / (TS_STD(TS_PCTCHANGE($close, 1), 10) + 0.00000001)\" # Your output factor expression will be filled in here\n    name = \"Institutional_Conviction_Gap_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the 'Institutional Conviction Gap' by calculating the ratio of the overnight gap to the sum of the lower shadow and the intraday high-low range. It is normalized by the 10-day rolling standard deviation of returns to identify high-conviction institutional price-setting while penalizing noisy intraday price action.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Conviction Gap' factor, defined as the ratio of the overnight gap to the sum of the lower shadow and the intraday high-low range, normalized by 10-day volatility, positively predicts short-term returns by identifying high-conviction institutional price-setting.\n                Concise Observation: Parent strategies showed that while overnight gaps and lower shadows are predictive, their signal quality is degraded by high intraday volatility and market-wide noise, suggesting a need for a composite metric that penalizes 'messy' intraday price action.\n                Concise Justification: By combining the support level (lower shadow) with a stability filter (intraday range) in the denominator, the factor isolates 'clean' gaps where price discovery occurs overnight and is defended during the day, reflecting strong directional conviction.\n                Concise Knowledge: If an overnight price gap is sustained with minimal lower shadow and low intraday volatility, it indicates institutional absorption of liquidity; when this gap is large relative to subsequent intraday fluctuations and normalized by historical volatility, it signals a persistent trend continuation rather than mean-reverting retail noise.\n                concise Specification: Calculate the overnight gap (Open - PrevClose); divide by the sum of the lower shadow (Open - Low) and the intraday range (High - Low); normalize the resulting ratio by the 10-day rolling standard deviation of daily returns to ensure cross-sectional comparability.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "bec99e17b147",
      "parent_trajectory_ids": [
        "517312de0ea9",
        "20eb8e999e86"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0060565822750446,
        "ICIR": 0.0432206464740703,
        "RankIC": 0.0252240626801985,
        "RankICIR": 0.1846191059095083,
        "annualized_return": 0.0667336793577806,
        "information_ratio": 1.0273442087857907,
        "max_drawdown": -0.0838719151273794
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:14:56.710368",
      "updated_at": "2026-01-17T03:14:56.710375"
    },
    "8e09c786c770a8fa": {
      "factor_id": "8e09c786c770a8fa",
      "factor_name": "Ranked_Conviction_Stability_Ratio",
      "factor_expression": "RANK(($open - DELAY($close, 1)) / (($open - $low) + ($high - $low) + 1e-8)) / (RANK(TS_STD($return, 10)) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($open - DELAY($close, 1)) / (($open - $low) + ($high - $low) + 0.00000001)) / RANK(TS_STD(TS_PCTCHANGE($close, 1), 10))\" # Your output factor expression will be filled in here\n    name = \"Ranked_Conviction_Stability_Ratio\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally ranked version of the conviction gap, focusing on the ratio of the overnight price discovery to the total daily volatility (shadow plus range). By ranking the ratio and the volatility separately, it isolates stocks with the highest 'clean' gaps relative to their peers.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Conviction Gap' factor, defined as the ratio of the overnight gap to the sum of the lower shadow and the intraday high-low range, normalized by 10-day volatility, positively predicts short-term returns by identifying high-conviction institutional price-setting.\n                Concise Observation: Parent strategies showed that while overnight gaps and lower shadows are predictive, their signal quality is degraded by high intraday volatility and market-wide noise, suggesting a need for a composite metric that penalizes 'messy' intraday price action.\n                Concise Justification: By combining the support level (lower shadow) with a stability filter (intraday range) in the denominator, the factor isolates 'clean' gaps where price discovery occurs overnight and is defended during the day, reflecting strong directional conviction.\n                Concise Knowledge: If an overnight price gap is sustained with minimal lower shadow and low intraday volatility, it indicates institutional absorption of liquidity; when this gap is large relative to subsequent intraday fluctuations and normalized by historical volatility, it signals a persistent trend continuation rather than mean-reverting retail noise.\n                concise Specification: Calculate the overnight gap (Open - PrevClose); divide by the sum of the lower shadow (Open - Low) and the intraday range (High - Low); normalize the resulting ratio by the 10-day rolling standard deviation of daily returns to ensure cross-sectional comparability.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "bec99e17b147",
      "parent_trajectory_ids": [
        "517312de0ea9",
        "20eb8e999e86"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0060565822750446,
        "ICIR": 0.0432206464740703,
        "RankIC": 0.0252240626801985,
        "RankICIR": 0.1846191059095083,
        "annualized_return": 0.0667336793577806,
        "information_ratio": 1.0273442087857907,
        "max_drawdown": -0.0838719151273794
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:14:56.727745",
      "updated_at": "2026-01-17T03:14:56.727750"
    },
    "9f00b6ebb61179b4": {
      "factor_id": "9f00b6ebb61179b4",
      "factor_name": "Smoothed_Institutional_Conviction_Index",
      "factor_expression": "EMA(($open - DELAY($close, 1)) / (($open - $low) + ($high - $low) + TS_STD($return, 10) + 1e-8), 5)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"EMA(($open - DELAY($close, 1)) / (($open - $low) + ($high - $low) + TS_STD(TS_PCTCHANGE($close, 1), 10) + 0.00000001), 5)\" # Your output factor expression will be filled in here\n    name = \"Smoothed_Institutional_Conviction_Index\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor applies a 5-day exponential moving average to the conviction gap ratio to filter out daily idiosyncratic noise, focusing on persistent institutional accumulation patterns where the gap consistently dominates intraday volatility.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Conviction Gap' factor, defined as the ratio of the overnight gap to the sum of the lower shadow and the intraday high-low range, normalized by 10-day volatility, positively predicts short-term returns by identifying high-conviction institutional price-setting.\n                Concise Observation: Parent strategies showed that while overnight gaps and lower shadows are predictive, their signal quality is degraded by high intraday volatility and market-wide noise, suggesting a need for a composite metric that penalizes 'messy' intraday price action.\n                Concise Justification: By combining the support level (lower shadow) with a stability filter (intraday range) in the denominator, the factor isolates 'clean' gaps where price discovery occurs overnight and is defended during the day, reflecting strong directional conviction.\n                Concise Knowledge: If an overnight price gap is sustained with minimal lower shadow and low intraday volatility, it indicates institutional absorption of liquidity; when this gap is large relative to subsequent intraday fluctuations and normalized by historical volatility, it signals a persistent trend continuation rather than mean-reverting retail noise.\n                concise Specification: Calculate the overnight gap (Open - PrevClose); divide by the sum of the lower shadow (Open - Low) and the intraday range (High - Low); normalize the resulting ratio by the 10-day rolling standard deviation of daily returns to ensure cross-sectional comparability.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "bec99e17b147",
      "parent_trajectory_ids": [
        "517312de0ea9",
        "20eb8e999e86"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0060565822750446,
        "ICIR": 0.0432206464740703,
        "RankIC": 0.0252240626801985,
        "RankICIR": 0.1846191059095083,
        "annualized_return": 0.0667336793577806,
        "information_ratio": 1.0273442087857907,
        "max_drawdown": -0.0838719151273794
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:14:56.744885",
      "updated_at": "2026-01-17T03:14:56.744890"
    },
    "3763ab47275c8624": {
      "factor_id": "3763ab47275c8624",
      "factor_name": "Liquidity_Validated_Regime_Factor",
      "factor_expression": "ZSCORE(TS_CORR($close, $volume, 20) * TS_STD($return, 14)) / (ZSCORE(TS_MEAN(ABS($return) / ($volume + 1e-8), 5)) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(TS_CORR($close, $volume, 20) * TS_STD(TS_PCTCHANGE($close, 1), 14)) / (ZSCORE(TS_MEAN(ABS(TS_PCTCHANGE($close, 1)) / ($volume + 1e-8), 5)) + 1.00000001)\" # Your output factor expression will be filled in here\n    name = \"Liquidity_Validated_Regime_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies high-conviction regime shifts by interacting the 20-day price-volume correlation with volatility, normalized by a 5-day Amihud Illiquidity measure. It filters out 'liquidity traps' where price moves occur on low volume, prioritizing trends supported by market depth.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between the 20-day price-volume correlation and the 14-day ATR, when normalized by the 5-day Amihud Illiquidity, identifies high-conviction regime shifts by filtering out low-volume 'liquidity traps' that lead to false trend signals.\n                Concise Observation: Parent 1 captures volatility-adjusted regimes (RankIC 0.029) and Parent 2 captures liquidity-driven reversals (RankIC 0.023), but neither distinguishes if a volatile trend is supported by sufficient depth.\n                Concise Justification: By dividing the regime signal (CORR * ATR) by a short-term illiquidity measure, we amplify signals where price discovery is efficient (low illiquidity) and dampen or reverse signals where price moves are disproportionate to volume.\n                Concise Knowledge: If a price-volume trend is accompanied by high volatility but low liquidity (high Amihud), it is likely a mean-reverting fragility event; whereas high liquidity validates the regime's persistence.\n                concise Specification: The factor is defined as (Corr(Close, Volume, 20) * ATR(14) / Close) / (Mean(Abs(Return/Volume), 5)), where all components are z-scored cross-sectionally to ensure scale compatibility before interaction.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "62c64bb3c0a6",
      "parent_trajectory_ids": [
        "790b0c692f1a",
        "696eecf82dbb"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0074053998988955,
        "ICIR": 0.0455593270860017,
        "RankIC": 0.0255328451637223,
        "RankICIR": 0.1593400656595424,
        "annualized_return": 0.0475535713674498,
        "information_ratio": 0.5902989201047026,
        "max_drawdown": -0.1281671761192537
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:17:55.446103",
      "updated_at": "2026-01-17T03:17:55.446110"
    },
    "1a11d5bfc97b9bc3": {
      "factor_id": "1a11d5bfc97b9bc3",
      "factor_name": "Volatility_Liquidity_Efficiency_Ratio",
      "factor_expression": "RANK(TS_CORR($close, $volume, 20)) / (RANK(TS_MEAN(ABS($return) / ($volume + 1e-8), 5)) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_CORR($close, $volume, 20)) / (RANK(TS_MEAN(ABS(TS_PCTCHANGE($close, 1)) / ($volume + 1e-8), 5)) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Volatility_Liquidity_Efficiency_Ratio\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the liquidity-regime hypothesis focusing on the ratio of price-volume trend strength to illiquidity. It uses the 20-day price-volume correlation as a proxy for trend conviction and divides it by the short-term price impact (Amihud Illiquidity) to identify efficient price discovery.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between the 20-day price-volume correlation and the 14-day ATR, when normalized by the 5-day Amihud Illiquidity, identifies high-conviction regime shifts by filtering out low-volume 'liquidity traps' that lead to false trend signals.\n                Concise Observation: Parent 1 captures volatility-adjusted regimes (RankIC 0.029) and Parent 2 captures liquidity-driven reversals (RankIC 0.023), but neither distinguishes if a volatile trend is supported by sufficient depth.\n                Concise Justification: By dividing the regime signal (CORR * ATR) by a short-term illiquidity measure, we amplify signals where price discovery is efficient (low illiquidity) and dampen or reverse signals where price moves are disproportionate to volume.\n                Concise Knowledge: If a price-volume trend is accompanied by high volatility but low liquidity (high Amihud), it is likely a mean-reverting fragility event; whereas high liquidity validates the regime's persistence.\n                concise Specification: The factor is defined as (Corr(Close, Volume, 20) * ATR(14) / Close) / (Mean(Abs(Return/Volume), 5)), where all components are z-scored cross-sectionally to ensure scale compatibility before interaction.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "62c64bb3c0a6",
      "parent_trajectory_ids": [
        "790b0c692f1a",
        "696eecf82dbb"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0074053998988955,
        "ICIR": 0.0455593270860017,
        "RankIC": 0.0255328451637223,
        "RankICIR": 0.1593400656595424,
        "annualized_return": 0.0475535713674498,
        "information_ratio": 0.5902989201047026,
        "max_drawdown": -0.1281671761192537
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:17:55.463968",
      "updated_at": "2026-01-17T03:17:55.463974"
    },
    "99128c0d9331c944": {
      "factor_id": "99128c0d9331c944",
      "factor_name": "Regime_Conviction_Index",
      "factor_expression": "ZSCORE(TS_CORR($close, $volume, 20) * ($high - $low) / ($close + 1e-8)) - ZSCORE(TS_MEAN(ABS($return) / ($volume + 1e-8), 5))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(TS_CORR($close, $volume, 20) * ($high - $low) / ($close + 1e-8)) - ZSCORE(TS_MEAN(ABS($close / DELAY($close, 1) - 1) / ($volume + 1e-8), 5))\" # Your output factor expression will be filled in here\n    name = \"Regime_Conviction_Index\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures regime conviction by combining price-volume alignment and price range, dampened by the 5-day average price impact. High values indicate strong, volatile trends occurring in high-liquidity environments.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between the 20-day price-volume correlation and the 14-day ATR, when normalized by the 5-day Amihud Illiquidity, identifies high-conviction regime shifts by filtering out low-volume 'liquidity traps' that lead to false trend signals.\n                Concise Observation: Parent 1 captures volatility-adjusted regimes (RankIC 0.029) and Parent 2 captures liquidity-driven reversals (RankIC 0.023), but neither distinguishes if a volatile trend is supported by sufficient depth.\n                Concise Justification: By dividing the regime signal (CORR * ATR) by a short-term illiquidity measure, we amplify signals where price discovery is efficient (low illiquidity) and dampen or reverse signals where price moves are disproportionate to volume.\n                Concise Knowledge: If a price-volume trend is accompanied by high volatility but low liquidity (high Amihud), it is likely a mean-reverting fragility event; whereas high liquidity validates the regime's persistence.\n                concise Specification: The factor is defined as (Corr(Close, Volume, 20) * ATR(14) / Close) / (Mean(Abs(Return/Volume), 5)), where all components are z-scored cross-sectionally to ensure scale compatibility before interaction.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "62c64bb3c0a6",
      "parent_trajectory_ids": [
        "790b0c692f1a",
        "696eecf82dbb"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0074053998988955,
        "ICIR": 0.0455593270860017,
        "RankIC": 0.0255328451637223,
        "RankICIR": 0.1593400656595424,
        "annualized_return": 0.0475535713674498,
        "information_ratio": 0.5902989201047026,
        "max_drawdown": -0.1281671761192537
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:17:55.481511",
      "updated_at": "2026-01-17T03:17:55.481517"
    },
    "525b9fd9ff076a5a": {
      "factor_id": "525b9fd9ff076a5a",
      "factor_name": "Liquidity_Exhaustion_Reversion_20D",
      "factor_expression": "(($close / (($open + $high + $low + $close) / 4)) - 1) * ($volume / (TS_MEAN($volume, 20) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($close / (($open + $high + $low + $close) / 4)) - 1) * ($volume / (TS_MEAN($volume, 20) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Liquidity_Exhaustion_Reversion_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies mean reversion opportunities by calculating the product of the late-session price-VWAP divergence and the 20-day abnormal turnover ratio. A high positive value indicates a 'blow-off top' where prices are pushed significantly above the average intraday cost on high volume, suggesting liquidity exhaustion and a likely downward reversal.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Liquidity Exhaustion Reversion Factor identifies mean reversion opportunities by calculating the product of the late-session price-VWAP divergence and the 5-day abnormal turnover ratio, capturing periods where retail-driven price pushes exceed market maker liquidity capacity.\n                Concise Observation: While the parent strategy focused on overnight gaps and institutional support floors, market data often exhibits intraday 'blow-off tops' or 'selling climaxes' where high turnover at price extremes (relative to VWAP) precedes a sharp reversal in the subsequent sessions.\n                Concise Justification: The divergence between the Close and VWAP serves as a proxy for late-day price manipulation or retail FOMO, which, when coupled with abnormal turnover, indicates that the current trend has exhausted available liquidity and is prone to mean reversion.\n                Concise Knowledge: If the closing price deviates significantly from the Volume-Weighted Average Price (VWAP) under conditions of extreme relative turnover, then the price is likely to revert; when volume-weighted conviction fails to support the final price print, liquidity exhaustion triggers a trend reversal.\n                concise Specification: The factor is defined as ((Close / VWAP) - 1) * (Turnover / TS_MEAN(Turnover, 20)), where VWAP is approximated as (Open + High + Low + Close) / 4 or (Volume * Price) proxies; the expected relationship is a negative correlation with future returns over a 1-5 day horizon.\n                ",
      "initial_direction": "Volatility-Adjusted Mean Reversion: Scale the RESI5 factor by STD5 to identify price deviations that are statistically significant relative to recent realized volatility.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Volatility-Adjusted Mean Reversion: Scale the RESI5 factor by STD5 to identify price deviations that are statistically significant relative to recent realized volatility.",
      "evolution_phase": "mutation",
      "trajectory_id": "4557f861aea5",
      "parent_trajectory_ids": [
        "3c9e614ed4e3"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0078335046700758,
        "ICIR": 0.0577883219638908,
        "RankIC": 0.0247815152342388,
        "RankICIR": 0.1839845859353132,
        "annualized_return": 0.0794678135596061,
        "information_ratio": 1.195706280993639,
        "max_drawdown": -0.0804043522238998
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:37:08.768309",
      "updated_at": "2026-01-17T03:37:08.768316"
    },
    "78b1d1c3e8ceffa4": {
      "factor_id": "78b1d1c3e8ceffa4",
      "factor_name": "Ranked_Intraday_Exhaustion_10D",
      "factor_expression": "RANK(($close - ($high + $low) / 2) / (($high + $low) / 2 + 1e-8)) * RANK($volume / (TS_MEAN($volume, 10) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($close - ($high + $low) / 2) / (($high + $low) / 2 + 1e-8)) * RANK($volume / (TS_MEAN($volume, 10) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Ranked_Intraday_Exhaustion_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally ranked version of the liquidity exhaustion hypothesis. It measures the divergence of the close from the intraday mid-point, scaled by the relative volume intensity over 10 days. By using RANK, it focuses on the stocks with the most extreme exhaustion signals relative to the market universe.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Liquidity Exhaustion Reversion Factor identifies mean reversion opportunities by calculating the product of the late-session price-VWAP divergence and the 5-day abnormal turnover ratio, capturing periods where retail-driven price pushes exceed market maker liquidity capacity.\n                Concise Observation: While the parent strategy focused on overnight gaps and institutional support floors, market data often exhibits intraday 'blow-off tops' or 'selling climaxes' where high turnover at price extremes (relative to VWAP) precedes a sharp reversal in the subsequent sessions.\n                Concise Justification: The divergence between the Close and VWAP serves as a proxy for late-day price manipulation or retail FOMO, which, when coupled with abnormal turnover, indicates that the current trend has exhausted available liquidity and is prone to mean reversion.\n                Concise Knowledge: If the closing price deviates significantly from the Volume-Weighted Average Price (VWAP) under conditions of extreme relative turnover, then the price is likely to revert; when volume-weighted conviction fails to support the final price print, liquidity exhaustion triggers a trend reversal.\n                concise Specification: The factor is defined as ((Close / VWAP) - 1) * (Turnover / TS_MEAN(Turnover, 20)), where VWAP is approximated as (Open + High + Low + Close) / 4 or (Volume * Price) proxies; the expected relationship is a negative correlation with future returns over a 1-5 day horizon.\n                ",
      "initial_direction": "Volatility-Adjusted Mean Reversion: Scale the RESI5 factor by STD5 to identify price deviations that are statistically significant relative to recent realized volatility.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Volatility-Adjusted Mean Reversion: Scale the RESI5 factor by STD5 to identify price deviations that are statistically significant relative to recent realized volatility.",
      "evolution_phase": "mutation",
      "trajectory_id": "4557f861aea5",
      "parent_trajectory_ids": [
        "3c9e614ed4e3"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0078335046700758,
        "ICIR": 0.0577883219638908,
        "RankIC": 0.0247815152342388,
        "RankICIR": 0.1839845859353132,
        "annualized_return": 0.0794678135596061,
        "information_ratio": 1.195706280993639,
        "max_drawdown": -0.0804043522238998
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:37:08.787163",
      "updated_at": "2026-01-17T03:37:08.787169"
    },
    "7147211d46e7ca79": {
      "factor_id": "7147211d46e7ca79",
      "factor_name": "ZScored_Liquidity_Divergence_15D",
      "factor_expression": "TS_ZSCORE($close / (($open + $high + $low + $close) / 4), 15) + TS_ZSCORE($volume, 15)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE($close / (($open + $high + $low + $close) / 4), 15) + TS_ZSCORE($volume, 15)\" # Your output factor expression will be filled in here\n    name = \"ZScored_Liquidity_Divergence_15D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor uses the Z-score of the price-VWAP deviation and the Z-score of volume to identify statistical outliers in liquidity consumption. It captures periods where the price is at a multi-standard deviation distance from the daily average price on significantly higher-than-normal volume.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Liquidity Exhaustion Reversion Factor identifies mean reversion opportunities by calculating the product of the late-session price-VWAP divergence and the 5-day abnormal turnover ratio, capturing periods where retail-driven price pushes exceed market maker liquidity capacity.\n                Concise Observation: While the parent strategy focused on overnight gaps and institutional support floors, market data often exhibits intraday 'blow-off tops' or 'selling climaxes' where high turnover at price extremes (relative to VWAP) precedes a sharp reversal in the subsequent sessions.\n                Concise Justification: The divergence between the Close and VWAP serves as a proxy for late-day price manipulation or retail FOMO, which, when coupled with abnormal turnover, indicates that the current trend has exhausted available liquidity and is prone to mean reversion.\n                Concise Knowledge: If the closing price deviates significantly from the Volume-Weighted Average Price (VWAP) under conditions of extreme relative turnover, then the price is likely to revert; when volume-weighted conviction fails to support the final price print, liquidity exhaustion triggers a trend reversal.\n                concise Specification: The factor is defined as ((Close / VWAP) - 1) * (Turnover / TS_MEAN(Turnover, 20)), where VWAP is approximated as (Open + High + Low + Close) / 4 or (Volume * Price) proxies; the expected relationship is a negative correlation with future returns over a 1-5 day horizon.\n                ",
      "initial_direction": "Volatility-Adjusted Mean Reversion: Scale the RESI5 factor by STD5 to identify price deviations that are statistically significant relative to recent realized volatility.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Volatility-Adjusted Mean Reversion: Scale the RESI5 factor by STD5 to identify price deviations that are statistically significant relative to recent realized volatility.",
      "evolution_phase": "mutation",
      "trajectory_id": "4557f861aea5",
      "parent_trajectory_ids": [
        "3c9e614ed4e3"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0078335046700758,
        "ICIR": 0.0577883219638908,
        "RankIC": 0.0247815152342388,
        "RankICIR": 0.1839845859353132,
        "annualized_return": 0.0794678135596061,
        "information_ratio": 1.195706280993639,
        "max_drawdown": -0.0804043522238998
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:37:08.805539",
      "updated_at": "2026-01-17T03:37:08.805545"
    },
    "5223064962986e06": {
      "factor_id": "5223064962986e06",
      "factor_name": "Micro_Stability_Absorption_3D",
      "factor_expression": "RANK(TS_MEAN(($high - $low) / ($volume + 1e-8), 3)) * -1",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN(($high - $low) / ($volume + 1e-8), 3)) * -1\" # Your output factor expression will be filled in here\n    name = \"Micro_Stability_Absorption_3D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies institutional price absorption by measuring the 3-day average of the ratio between intraday price range and volume. A lower ratio indicates high volume with low price volatility, suggesting hidden liquidity is clearing orders without slippage. The factor is cross-sectionally ranked to identify stocks with the highest micro-structure stability.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Intraday Micro-Structure Stability factor, defined by the inverse ratio of intraday price range to volume intensity over a 3-day window, identifies price absorption by institutional liquidity providers, predicting trend continuation.\n                Concise Observation: While the parent strategy focused on price-volume divergence as a sign of exhaustion and reversal, market data often shows periods where high volume fails to move prices significantly, suggesting 'absorption' rather than 'exhaustion'.\n                Concise Justification: Low price variance during high-volume periods suggests market makers or large institutions are providing liquidity at specific price levels, effectively 'clearing' the order book without allowing price slippage, which typically precedes a strong directional move once the absorption phase ends.\n                Concise Knowledge: If a stock exhibits high trading volume relative to its intraday price volatility (low range-to-volume ratio), it indicates the presence of hidden liquidity (iceberg orders) absorbing market pressure; when this stability occurs near the daily high or low, a breakout continuation is likely.\n                concise Specification: The factor is calculated as the 3-day moving average of the ratio ($high - $low) / $volume; lower values represent higher micro-structure stability and absorption, which are expected to positively correlate with future returns when the current price is near the 3-day high.\n                ",
      "initial_direction": "Intraday Support Persistence: Measure the 3-day moving average of KLOW relative to the daily trading range to identify stocks with consistent structural buying pressure.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Intraday Support Persistence: Measure the 3-day moving average of KLOW relative to the daily trading range to identify stocks with consistent structural buying pressure.",
      "evolution_phase": "mutation",
      "trajectory_id": "29d3a8a615a0",
      "parent_trajectory_ids": [
        "5b9cfce9cb57"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0049750723441706,
        "ICIR": 0.0365101155632983,
        "RankIC": 0.0229019107448328,
        "RankICIR": 0.1716822284735126,
        "annualized_return": 0.0341146889735628,
        "information_ratio": 0.5229023894183041,
        "max_drawdown": -0.1058289648801805
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:39:34.416884",
      "updated_at": "2026-01-17T03:39:34.416891"
    },
    "c3c1d58825d6e03f": {
      "factor_id": "c3c1d58825d6e03f",
      "factor_name": "Absorption_Breakout_Proximity_3D",
      "factor_expression": "($close / TS_MAX($high, 3)) / (TS_MEAN(($high - $low) / ($volume + 1e-8), 3) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"($close / TS_MAX($high, 3)) / (TS_MEAN(($high - $low) / ($volume + 1e-8), 3) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Absorption_Breakout_Proximity_3D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor combines the micro-structure stability (low range-to-volume ratio) with the proximity of the current price to the 3-day high. It targets breakout continuation by identifying stocks where absorption is occurring near resistance levels. The stability component is inverted so that higher values represent more stability.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Intraday Micro-Structure Stability factor, defined by the inverse ratio of intraday price range to volume intensity over a 3-day window, identifies price absorption by institutional liquidity providers, predicting trend continuation.\n                Concise Observation: While the parent strategy focused on price-volume divergence as a sign of exhaustion and reversal, market data often shows periods where high volume fails to move prices significantly, suggesting 'absorption' rather than 'exhaustion'.\n                Concise Justification: Low price variance during high-volume periods suggests market makers or large institutions are providing liquidity at specific price levels, effectively 'clearing' the order book without allowing price slippage, which typically precedes a strong directional move once the absorption phase ends.\n                Concise Knowledge: If a stock exhibits high trading volume relative to its intraday price volatility (low range-to-volume ratio), it indicates the presence of hidden liquidity (iceberg orders) absorbing market pressure; when this stability occurs near the daily high or low, a breakout continuation is likely.\n                concise Specification: The factor is calculated as the 3-day moving average of the ratio ($high - $low) / $volume; lower values represent higher micro-structure stability and absorption, which are expected to positively correlate with future returns when the current price is near the 3-day high.\n                ",
      "initial_direction": "Intraday Support Persistence: Measure the 3-day moving average of KLOW relative to the daily trading range to identify stocks with consistent structural buying pressure.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Intraday Support Persistence: Measure the 3-day moving average of KLOW relative to the daily trading range to identify stocks with consistent structural buying pressure.",
      "evolution_phase": "mutation",
      "trajectory_id": "29d3a8a615a0",
      "parent_trajectory_ids": [
        "5b9cfce9cb57"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0049750723441706,
        "ICIR": 0.0365101155632983,
        "RankIC": 0.0229019107448328,
        "RankICIR": 0.1716822284735126,
        "annualized_return": 0.0341146889735628,
        "information_ratio": 0.5229023894183041,
        "max_drawdown": -0.1058289648801805
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:39:34.435984",
      "updated_at": "2026-01-17T03:39:34.435990"
    },
    "643d95ac0e36ae82": {
      "factor_id": "643d95ac0e36ae82",
      "factor_name": "Relative_Absorption_Intensity_5D",
      "factor_expression": "1 - TS_RANK(($high - $low) / ($volume + 1e-8), 5)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"1 - TS_RANK(($high - $low) / ($volume + 1e-8), 5)\" # Your output factor expression will be filled in here\n    name = \"Relative_Absorption_Intensity_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Measures the intensity of price absorption by comparing the current range-to-volume ratio to its 5-day historical distribution using TS_RANK. A low time-series rank of the ratio indicates a significant increase in micro-structure stability relative to the stock's own recent history, signaling institutional clearing.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Intraday Micro-Structure Stability factor, defined by the inverse ratio of intraday price range to volume intensity over a 3-day window, identifies price absorption by institutional liquidity providers, predicting trend continuation.\n                Concise Observation: While the parent strategy focused on price-volume divergence as a sign of exhaustion and reversal, market data often shows periods where high volume fails to move prices significantly, suggesting 'absorption' rather than 'exhaustion'.\n                Concise Justification: Low price variance during high-volume periods suggests market makers or large institutions are providing liquidity at specific price levels, effectively 'clearing' the order book without allowing price slippage, which typically precedes a strong directional move once the absorption phase ends.\n                Concise Knowledge: If a stock exhibits high trading volume relative to its intraday price volatility (low range-to-volume ratio), it indicates the presence of hidden liquidity (iceberg orders) absorbing market pressure; when this stability occurs near the daily high or low, a breakout continuation is likely.\n                concise Specification: The factor is calculated as the 3-day moving average of the ratio ($high - $low) / $volume; lower values represent higher micro-structure stability and absorption, which are expected to positively correlate with future returns when the current price is near the 3-day high.\n                ",
      "initial_direction": "Intraday Support Persistence: Measure the 3-day moving average of KLOW relative to the daily trading range to identify stocks with consistent structural buying pressure.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Intraday Support Persistence: Measure the 3-day moving average of KLOW relative to the daily trading range to identify stocks with consistent structural buying pressure.",
      "evolution_phase": "mutation",
      "trajectory_id": "29d3a8a615a0",
      "parent_trajectory_ids": [
        "5b9cfce9cb57"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0049750723441706,
        "ICIR": 0.0365101155632983,
        "RankIC": 0.0229019107448328,
        "RankICIR": 0.1716822284735126,
        "annualized_return": 0.0341146889735628,
        "information_ratio": 0.5229023894183041,
        "max_drawdown": -0.1058289648801805
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:39:34.454766",
      "updated_at": "2026-01-17T03:39:34.454771"
    },
    "464853529eb9b105": {
      "factor_id": "464853529eb9b105",
      "factor_name": "Delta_RESI5_Convexity",
      "factor_expression": "DELTA($close - TS_MEAN($close, 5), 5) / (TS_STD($close, 5) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"DELTA($close - TS_MEAN($close, 5), 5) / (TS_STD($close, 5) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Delta_RESI5_Convexity\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the 5-day rate of change in the price residual (current price minus its 5-day mean), normalized by the 5-day price volatility. A sharp increase in this residual velocity indicates price acceleration away from the mean, suggesting trend exhaustion and potential mean-reversion.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 5-day rate of change in the volatility-normalized price residual (Delta-RESI5) identifies the 'convexity' of price movements, where a sharp acceleration in residuals indicates trend exhaustion and an imminent mean-reversion, even before price action confirms a peak.\n                Concise Observation: Previous mean-reversion factors (RankIC=0.0199) focused on static residual levels, often entering too early during parabolic moves; observing the velocity of change in these residuals (RESI5) can differentiate between a steady trend and an overextended exhaustion point.\n                Concise Justification: By calculating the 5-day change in the residual (Delta-RESI), we capture the momentum of the error term; a high positive Delta-RESI suggests the asset is moving away from its mean at an accelerating rate, which is physically and economically unsustainable, leading to a 'snap-back' effect.\n                Concise Knowledge: If the second derivative of price residuals (convexity) increases sharply while volatility remains constant, the current trend is likely driven by speculative climax rather than sustainable flow; when this acceleration peaks, the probability of a sharp reversal increases.\n                concise Specification: The factor is defined as the difference between the current 5-day price residual (Price - 5D Mean) and its value 5 days ago, normalized by the 5-day price standard deviation to ensure cross-sectional comparability across different volatility regimes.\n                ",
      "initial_direction": "Convexity of Price Extremes: Calculate the 5-day change in RESI5 (Delta-Resi) to detect accelerating trend exhaustion before a formal reversal occurs.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Convexity of Price Extremes: Calculate the 5-day change in RESI5 (Delta-Resi) to detect accelerating trend exhaustion before a formal reversal occurs.",
      "evolution_phase": "mutation",
      "trajectory_id": "3089f0226d6b",
      "parent_trajectory_ids": [
        "f6e466a375f5"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.008855674484948,
        "ICIR": 0.0653472704154563,
        "RankIC": 0.0237151075456045,
        "RankICIR": 0.1828286912711504,
        "annualized_return": 0.0812270459717321,
        "information_ratio": 1.324605423732854,
        "max_drawdown": -0.0796451516927676
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:43:00.105605",
      "updated_at": "2026-01-17T03:43:00.105611"
    },
    "ac2e9b90c0052852": {
      "factor_id": "ac2e9b90c0052852",
      "factor_name": "ZScore_Residual_Velocity_5D",
      "factor_expression": "RANK(DELTA(TS_ZSCORE($close, 5), 5))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(DELTA(TS_ZSCORE($close, 5), 5))\" # Your output factor expression will be filled in here\n    name = \"ZScore_Residual_Velocity_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A variation of the residual convexity hypothesis that uses the 5-day change in the Z-scored price deviation. By calculating the change in how many standard deviations the price is from its mean over a 5-day window, it identifies accelerating speculative climaxes.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 5-day rate of change in the volatility-normalized price residual (Delta-RESI5) identifies the 'convexity' of price movements, where a sharp acceleration in residuals indicates trend exhaustion and an imminent mean-reversion, even before price action confirms a peak.\n                Concise Observation: Previous mean-reversion factors (RankIC=0.0199) focused on static residual levels, often entering too early during parabolic moves; observing the velocity of change in these residuals (RESI5) can differentiate between a steady trend and an overextended exhaustion point.\n                Concise Justification: By calculating the 5-day change in the residual (Delta-RESI), we capture the momentum of the error term; a high positive Delta-RESI suggests the asset is moving away from its mean at an accelerating rate, which is physically and economically unsustainable, leading to a 'snap-back' effect.\n                Concise Knowledge: If the second derivative of price residuals (convexity) increases sharply while volatility remains constant, the current trend is likely driven by speculative climax rather than sustainable flow; when this acceleration peaks, the probability of a sharp reversal increases.\n                concise Specification: The factor is defined as the difference between the current 5-day price residual (Price - 5D Mean) and its value 5 days ago, normalized by the 5-day price standard deviation to ensure cross-sectional comparability across different volatility regimes.\n                ",
      "initial_direction": "Convexity of Price Extremes: Calculate the 5-day change in RESI5 (Delta-Resi) to detect accelerating trend exhaustion before a formal reversal occurs.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Convexity of Price Extremes: Calculate the 5-day change in RESI5 (Delta-Resi) to detect accelerating trend exhaustion before a formal reversal occurs.",
      "evolution_phase": "mutation",
      "trajectory_id": "3089f0226d6b",
      "parent_trajectory_ids": [
        "f6e466a375f5"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.008855674484948,
        "ICIR": 0.0653472704154563,
        "RankIC": 0.0237151075456045,
        "RankICIR": 0.1828286912711504,
        "annualized_return": 0.0812270459717321,
        "information_ratio": 1.324605423732854,
        "max_drawdown": -0.0796451516927676
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:43:00.125338",
      "updated_at": "2026-01-17T03:43:00.125344"
    },
    "ada1d67af3c47fe6": {
      "factor_id": "ada1d67af3c47fe6",
      "factor_name": "Normalized_Exhaustion_Index_5D",
      "factor_expression": "(($close - TS_MEAN($close, 5)) - DELAY($close - TS_MEAN($close, 5), 5)) / (TS_STD($close, 20) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($close - TS_MEAN($close, 5)) - DELAY($close - TS_MEAN($close, 5), 5)) / (TS_STD($close, 20) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Normalized_Exhaustion_Index_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures the second-order momentum of price residuals. It calculates the difference between the current residual and its 5-day lag, scaled by the 20-day volatility to provide a more stable normalization against long-term regime changes.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 5-day rate of change in the volatility-normalized price residual (Delta-RESI5) identifies the 'convexity' of price movements, where a sharp acceleration in residuals indicates trend exhaustion and an imminent mean-reversion, even before price action confirms a peak.\n                Concise Observation: Previous mean-reversion factors (RankIC=0.0199) focused on static residual levels, often entering too early during parabolic moves; observing the velocity of change in these residuals (RESI5) can differentiate between a steady trend and an overextended exhaustion point.\n                Concise Justification: By calculating the 5-day change in the residual (Delta-RESI), we capture the momentum of the error term; a high positive Delta-RESI suggests the asset is moving away from its mean at an accelerating rate, which is physically and economically unsustainable, leading to a 'snap-back' effect.\n                Concise Knowledge: If the second derivative of price residuals (convexity) increases sharply while volatility remains constant, the current trend is likely driven by speculative climax rather than sustainable flow; when this acceleration peaks, the probability of a sharp reversal increases.\n                concise Specification: The factor is defined as the difference between the current 5-day price residual (Price - 5D Mean) and its value 5 days ago, normalized by the 5-day price standard deviation to ensure cross-sectional comparability across different volatility regimes.\n                ",
      "initial_direction": "Convexity of Price Extremes: Calculate the 5-day change in RESI5 (Delta-Resi) to detect accelerating trend exhaustion before a formal reversal occurs.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Convexity of Price Extremes: Calculate the 5-day change in RESI5 (Delta-Resi) to detect accelerating trend exhaustion before a formal reversal occurs.",
      "evolution_phase": "mutation",
      "trajectory_id": "3089f0226d6b",
      "parent_trajectory_ids": [
        "f6e466a375f5"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.008855674484948,
        "ICIR": 0.0653472704154563,
        "RankIC": 0.0237151075456045,
        "RankICIR": 0.1828286912711504,
        "annualized_return": 0.0812270459717321,
        "information_ratio": 1.324605423732854,
        "max_drawdown": -0.0796451516927676
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:43:00.144818",
      "updated_at": "2026-01-17T03:43:00.144824"
    },
    "ce9a3652c285e455": {
      "factor_id": "ce9a3652c285e455",
      "factor_name": "PV_Regime_Overnight_Exhaustion_Factor",
      "factor_expression": "TS_CORR($close, $volume, 20) * (($open - DELAY($close, 1)) / (MAX(DELAY($high - $low, 1), 1e-8)))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_CORR($close, $volume, 20) * (($open - DELAY($close, 1)) / (MAX(DELAY($high - $low, 1), 1e-8)))\" # Your output factor expression will be filled in here\n    name = \"PV_Regime_Overnight_Exhaustion_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies mean-reversion opportunities by combining a 20-day price-volume correlation (regime filter) with an overnight return normalized by the previous day's volatility. It targets liquidity gaps that occur during phases of trend exhaustion.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The product of a 20-day price-volume correlation scaled by the 14-day Average True Range and the ratio of overnight returns to the previous day's high-low range identifies high-conviction mean-reversion opportunities during structural liquidity gaps.\n                Concise Observation: Parent 1 (RankIC 0.029) captures regime-based alpha via price-volume correlation, while Parent 2 (RankIC 0.022) identifies overnight exhaustion; combining them addresses the noise inherent in high-frequency signals by filtering for structural regimes.\n                Concise Justification: The 20-day PV correlation acts as a regime filter that validates whether an overnight gap is occurring within a trend-exhaustion phase, while the intraday-range-normalized overnight return provides the specific execution trigger.\n                Concise Knowledge: If long-term price-volume divergence coincides with high structural volatility, then short-term overnight price shocks are more likely to represent exhaustible liquidity gaps rather than sustainable trend continuations.\n                concise Specification: Define Regime_Multiplier as CORR($close, $volume, 20) * (ATR($high, $low, $close, 14) / $close) and Liquidity_Trigger as ($open / delay($close, 1) - 1) / (($high - $low) / $close); the final factor is the product of these two components.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "f030eae56348",
      "parent_trajectory_ids": [
        "790b0c692f1a",
        "918b70d0dae2"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0102457687069676,
        "ICIR": 0.0677039951765419,
        "RankIC": 0.0313366592666852,
        "RankICIR": 0.2112574251923435,
        "annualized_return": 0.0569777081135771,
        "information_ratio": 0.8481474170356921,
        "max_drawdown": -0.0962304710287989
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:43:45.472231",
      "updated_at": "2026-01-17T03:43:45.472239"
    },
    "07dccb9ed49d527d": {
      "factor_id": "07dccb9ed49d527d",
      "factor_name": "Structural_Liquidity_Gap_V2",
      "factor_expression": "TS_CORR($close, $volume, 20) * (TS_MEAN($high - $low, 14) / $close) * (($open - DELAY($close, 1)) / DELAY($close, 1))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_CORR($close, $volume, 20) * (TS_MEAN($high - $low, 14) / $close) * (($open - DELAY($close, 1)) / DELAY($close, 1))\" # Your output factor expression will be filled in here\n    name = \"Structural_Liquidity_Gap_V2\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A variation of the liquidity gap hypothesis that uses the 14-day range-based volatility (ATR proxy) to scale the price-volume regime, multiplied by the overnight gap relative to the previous day's close. This captures high-conviction reversals in volatile regimes.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The product of a 20-day price-volume correlation scaled by the 14-day Average True Range and the ratio of overnight returns to the previous day's high-low range identifies high-conviction mean-reversion opportunities during structural liquidity gaps.\n                Concise Observation: Parent 1 (RankIC 0.029) captures regime-based alpha via price-volume correlation, while Parent 2 (RankIC 0.022) identifies overnight exhaustion; combining them addresses the noise inherent in high-frequency signals by filtering for structural regimes.\n                Concise Justification: The 20-day PV correlation acts as a regime filter that validates whether an overnight gap is occurring within a trend-exhaustion phase, while the intraday-range-normalized overnight return provides the specific execution trigger.\n                Concise Knowledge: If long-term price-volume divergence coincides with high structural volatility, then short-term overnight price shocks are more likely to represent exhaustible liquidity gaps rather than sustainable trend continuations.\n                concise Specification: Define Regime_Multiplier as CORR($close, $volume, 20) * (ATR($high, $low, $close, 14) / $close) and Liquidity_Trigger as ($open / delay($close, 1) - 1) / (($high - $low) / $close); the final factor is the product of these two components.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "f030eae56348",
      "parent_trajectory_ids": [
        "790b0c692f1a",
        "918b70d0dae2"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0102457687069676,
        "ICIR": 0.0677039951765419,
        "RankIC": 0.0313366592666852,
        "RankICIR": 0.2112574251923435,
        "annualized_return": 0.0569777081135771,
        "information_ratio": 0.8481474170356921,
        "max_drawdown": -0.0962304710287989
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:43:45.493241",
      "updated_at": "2026-01-17T03:43:45.493249"
    },
    "af53e375082d4e8b": {
      "factor_id": "af53e375082d4e8b",
      "factor_name": "Ranked_Regime_Exhaustion_Trigger",
      "factor_expression": "RANK(TS_CORR($close, $volume, 20) * TS_STD($return, 14)) * RANK(($open - DELAY($close, 1)) / DELAY($close, 1))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_CORR($close, $volume, 20) * TS_STD(TS_PCTCHANGE($close, 1), 14)) * RANK(($open - DELAY($close, 1)) / DELAY($close, 1))\" # Your output factor expression will be filled in here\n    name = \"Ranked_Regime_Exhaustion_Trigger\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor applies cross-sectional ranking to the regime multiplier (Price-Volume correlation and volatility) and the liquidity trigger (overnight gap) separately before combining them, ensuring the signal is robust across different market conditions.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The product of a 20-day price-volume correlation scaled by the 14-day Average True Range and the ratio of overnight returns to the previous day's high-low range identifies high-conviction mean-reversion opportunities during structural liquidity gaps.\n                Concise Observation: Parent 1 (RankIC 0.029) captures regime-based alpha via price-volume correlation, while Parent 2 (RankIC 0.022) identifies overnight exhaustion; combining them addresses the noise inherent in high-frequency signals by filtering for structural regimes.\n                Concise Justification: The 20-day PV correlation acts as a regime filter that validates whether an overnight gap is occurring within a trend-exhaustion phase, while the intraday-range-normalized overnight return provides the specific execution trigger.\n                Concise Knowledge: If long-term price-volume divergence coincides with high structural volatility, then short-term overnight price shocks are more likely to represent exhaustible liquidity gaps rather than sustainable trend continuations.\n                concise Specification: Define Regime_Multiplier as CORR($close, $volume, 20) * (ATR($high, $low, $close, 14) / $close) and Liquidity_Trigger as ($open / delay($close, 1) - 1) / (($high - $low) / $close); the final factor is the product of these two components.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "f030eae56348",
      "parent_trajectory_ids": [
        "790b0c692f1a",
        "918b70d0dae2"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0102457687069676,
        "ICIR": 0.0677039951765419,
        "RankIC": 0.0313366592666852,
        "RankICIR": 0.2112574251923435,
        "annualized_return": 0.0569777081135771,
        "information_ratio": 0.8481474170356921,
        "max_drawdown": -0.0962304710287989
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:43:45.522070",
      "updated_at": "2026-01-17T03:43:45.522076"
    },
    "be6b50ad31dd469e": {
      "factor_id": "be6b50ad31dd469e",
      "factor_name": "CSVD_Volatility_Convexity_Ratio",
      "factor_expression": "(TS_MEAN($high - $low, 5) / (TS_MEAN($high - $low, 20) + 1e-8)) / (STD($return) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(TS_MEAN($high - $low, 5) / TS_MEAN($high - $low, 20)) / STD($close / DELAY($close, 1) - 1)\" # Your output factor expression will be filled in here\n    name = \"CSVD_Volatility_Convexity_Ratio\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the ratio of short-term (5-day) price range to medium-term (20-day) price range, normalized by the cross-sectional standard deviation of returns. It identifies stocks where idiosyncratic price-range expansion or contraction decouples from market-wide return dispersion, signaling potential alpha from stock-specific re-pricing.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Cross-Sectional Volatility Dispersion (CSVD) factor identifies alpha by capturing the divergence between individual stock price-range volatility and market-wide return dispersion, specifically targeting periods where idiosyncratic risk expansion signals stock-specific re-pricing.\n                Concise Observation: Previous price-volume strategies (ISEC) focused on first-order momentum and support, yet failed to account for second-order volatility structures that signal whether price movement is driven by macro-beta or micro-fundamental shifts.\n                Concise Justification: Market inefficiencies often manifest as volatility clusters; by measuring the 'Volatility Convexity' (current range vs. 20-day mean) against the universe's return dispersion, we can isolate assets undergoing unique fundamental adjustments independent of broad market noise.\n                Concise Knowledge: If the cross-sectional dispersion of returns increases while the individual stock's relative price range (High-Low) contracts relative to its historical mean, it indicates a decoupling from systematic risk; such stocks often exhibit mean-reversion or alpha-generating idiosyncratic trends.\n                concise Specification: The factor is defined as the ratio of a stock's 5-day average High-Low range to its 20-day average range, divided by the cross-sectional standard deviation of returns for that day across all instruments.\n                ",
      "initial_direction": "Volume-Weighted Shadow Dynamics: Interact KLOW with relative volume (Vwap/Close) to distinguish between high-conviction intraday support and low-liquidity noise.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Volume-Weighted Shadow Dynamics: Interact KLOW with relative volume (Vwap/Close) to distinguish between high-conviction intraday support and low-liquidity noise.",
      "evolution_phase": "mutation",
      "trajectory_id": "d413dc974089",
      "parent_trajectory_ids": [
        "d75e00a65fc2"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0063977112269123,
        "ICIR": 0.0460624556438021,
        "RankIC": 0.0260142054116006,
        "RankICIR": 0.1896942274776803,
        "annualized_return": 0.0853787810855281,
        "information_ratio": 1.2626675346978145,
        "max_drawdown": -0.1204610840645767
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:46:21.169035",
      "updated_at": "2026-01-17T03:46:21.169042"
    },
    "016dc251bf05446e": {
      "factor_id": "016dc251bf05446e",
      "factor_name": "Idiosyncratic_Range_Decoupling_Rank",
      "factor_expression": "RANK(($high - $low) / (TS_MEAN($high - $low, 20) + 1e-8)) / (STD($return) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($high - $low) / (TS_MEAN($high - $low, 20) + 1e-8)) / (STD(TS_PCTCHANGE($close, 1)) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Idiosyncratic_Range_Decoupling_Rank\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures the 'Volatility Convexity' of a stock relative to the cross-sectional market dispersion. It uses RANK to normalize the ratio of current range volatility against its historical mean, then scales it by the inverse of market-wide return dispersion to isolate assets undergoing unique fundamental adjustments.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Cross-Sectional Volatility Dispersion (CSVD) factor identifies alpha by capturing the divergence between individual stock price-range volatility and market-wide return dispersion, specifically targeting periods where idiosyncratic risk expansion signals stock-specific re-pricing.\n                Concise Observation: Previous price-volume strategies (ISEC) focused on first-order momentum and support, yet failed to account for second-order volatility structures that signal whether price movement is driven by macro-beta or micro-fundamental shifts.\n                Concise Justification: Market inefficiencies often manifest as volatility clusters; by measuring the 'Volatility Convexity' (current range vs. 20-day mean) against the universe's return dispersion, we can isolate assets undergoing unique fundamental adjustments independent of broad market noise.\n                Concise Knowledge: If the cross-sectional dispersion of returns increases while the individual stock's relative price range (High-Low) contracts relative to its historical mean, it indicates a decoupling from systematic risk; such stocks often exhibit mean-reversion or alpha-generating idiosyncratic trends.\n                concise Specification: The factor is defined as the ratio of a stock's 5-day average High-Low range to its 20-day average range, divided by the cross-sectional standard deviation of returns for that day across all instruments.\n                ",
      "initial_direction": "Volume-Weighted Shadow Dynamics: Interact KLOW with relative volume (Vwap/Close) to distinguish between high-conviction intraday support and low-liquidity noise.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Volume-Weighted Shadow Dynamics: Interact KLOW with relative volume (Vwap/Close) to distinguish between high-conviction intraday support and low-liquidity noise.",
      "evolution_phase": "mutation",
      "trajectory_id": "d413dc974089",
      "parent_trajectory_ids": [
        "d75e00a65fc2"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0063977112269123,
        "ICIR": 0.0460624556438021,
        "RankIC": 0.0260142054116006,
        "RankICIR": 0.1896942274776803,
        "annualized_return": 0.0853787810855281,
        "information_ratio": 1.2626675346978145,
        "max_drawdown": -0.1204610840645767
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:46:21.188725",
      "updated_at": "2026-01-17T03:46:21.188731"
    },
    "6cf31eb6d71efdc1": {
      "factor_id": "6cf31eb6d71efdc1",
      "factor_name": "ZScore_Range_Dispersion_Alpha",
      "factor_expression": "ZSCORE(TS_MEAN($high - $low, 5) / (TS_MEAN($high - $low, 20) + 1e-8)) / (STD($return) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(TS_MEAN($high - $low, 5) / TS_MEAN($high - $low, 20)) / (STD(TS_PCTCHANGE($close, 1)) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"ZScore_Range_Dispersion_Alpha\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally standardized version of the CSVD hypothesis. It calculates the Z-score of the 5-day range relative to its 20-day baseline and divides it by the cross-sectional volatility of returns. This highlights stocks with extreme idiosyncratic volatility shifts relative to the broader market noise.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Cross-Sectional Volatility Dispersion (CSVD) factor identifies alpha by capturing the divergence between individual stock price-range volatility and market-wide return dispersion, specifically targeting periods where idiosyncratic risk expansion signals stock-specific re-pricing.\n                Concise Observation: Previous price-volume strategies (ISEC) focused on first-order momentum and support, yet failed to account for second-order volatility structures that signal whether price movement is driven by macro-beta or micro-fundamental shifts.\n                Concise Justification: Market inefficiencies often manifest as volatility clusters; by measuring the 'Volatility Convexity' (current range vs. 20-day mean) against the universe's return dispersion, we can isolate assets undergoing unique fundamental adjustments independent of broad market noise.\n                Concise Knowledge: If the cross-sectional dispersion of returns increases while the individual stock's relative price range (High-Low) contracts relative to its historical mean, it indicates a decoupling from systematic risk; such stocks often exhibit mean-reversion or alpha-generating idiosyncratic trends.\n                concise Specification: The factor is defined as the ratio of a stock's 5-day average High-Low range to its 20-day average range, divided by the cross-sectional standard deviation of returns for that day across all instruments.\n                ",
      "initial_direction": "Volume-Weighted Shadow Dynamics: Interact KLOW with relative volume (Vwap/Close) to distinguish between high-conviction intraday support and low-liquidity noise.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Volume-Weighted Shadow Dynamics: Interact KLOW with relative volume (Vwap/Close) to distinguish between high-conviction intraday support and low-liquidity noise.",
      "evolution_phase": "mutation",
      "trajectory_id": "d413dc974089",
      "parent_trajectory_ids": [
        "d75e00a65fc2"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0063977112269123,
        "ICIR": 0.0460624556438021,
        "RankIC": 0.0260142054116006,
        "RankICIR": 0.1896942274776803,
        "annualized_return": 0.0853787810855281,
        "information_ratio": 1.2626675346978145,
        "max_drawdown": -0.1204610840645767
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:46:21.207951",
      "updated_at": "2026-01-17T03:46:21.207957"
    },
    "9724358e7953d565": {
      "factor_id": "9724358e7953d565",
      "factor_name": "Overnight_Sentiment_Volatility_Ratio_20D",
      "factor_expression": "($open / (DELAY($close, 1) + 1e-8) - 1) / (TS_STD($return, 20) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($open / (DELAY($close, 1) + 1e-8)) - 1) / (TS_STD(($close / (DELAY($close, 1) + 1e-8)) - 1, 20) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Overnight_Sentiment_Volatility_Ratio_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies mean-reversion opportunities by measuring the overnight price gap relative to historical volatility. A large gap compared to the 20-day standard deviation of returns suggests a potential emotional overreaction that is likely to revert.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Overnight Sentiment Divergence (OSD) factor identifies mean-reversion opportunities by measuring the ratio of the overnight price gap to the previous 20-day volatility, specifically targeting 'hollow' gaps where the opening price jump is unsupported by historical volume trends.\n                Concise Observation: The parent strategy focused on 5-day intraday support persistence; however, market gaps often represent discrete sentiment shifts that occur outside of continuous trading hours, creating a distinct opportunity for short-term reversal signals.\n                Concise Justification: Price discovery during non-trading hours is often less efficient than intraday trading; a large gap-up on low relative volume suggests an emotional overreaction that lacks the structural capital commitment needed to sustain the new price level.\n                Concise Knowledge: If an asset experiences a significant overnight price gap relative to its historical volatility without a corresponding surge in liquidity, the gap is likely driven by retail sentiment and tends to mean-revert as institutional liquidity providers stabilize the price.\n                concise Specification: The factor is defined as the overnight return (Open/PrevClose - 1) divided by the 20-day standard deviation of returns, further scaled by the ratio of the current day's opening volume (approximated by daily volume if intraday is unavailable) to its 20-day average.\n                ",
      "initial_direction": "Multi-Horizon Volatility Regime: Compare STD5 against STD20 to filter RESI5 signals, focusing on mean reversion only when short-term volatility is lower than long-term volatility.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Multi-Horizon Volatility Regime: Compare STD5 against STD20 to filter RESI5 signals, focusing on mean reversion only when short-term volatility is lower than long-term volatility.",
      "evolution_phase": "mutation",
      "trajectory_id": "198b1aef2d24",
      "parent_trajectory_ids": [
        "32b05dcb6838"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0079347319357676,
        "ICIR": 0.05939449869332,
        "RankIC": 0.0253551794556677,
        "RankICIR": 0.1915386522742667,
        "annualized_return": 0.0926328382340116,
        "information_ratio": 1.4402579537569864,
        "max_drawdown": -0.1106618049443328
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:49:20.407397",
      "updated_at": "2026-01-17T03:49:20.407403"
    },
    "181ee1d93dac7aac": {
      "factor_id": "181ee1d93dac7aac",
      "factor_name": "Hollow_Gap_Liquidity_Divergence_20D",
      "factor_expression": "(($open - DELAY($close, 1)) / (DELAY($close, 1) + 1e-8)) * ($volume / (TS_MEAN($volume, 20) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($open - DELAY($close, 1)) / (DELAY($close, 1) + 1e-8)) * ($volume / (TS_MEAN($volume, 20) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Hollow_Gap_Liquidity_Divergence_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor targets 'hollow' gaps where the overnight price jump is unsupported by volume trends. It scales the overnight return by the ratio of current volume to its 20-day average, identifying gaps that lack structural capital commitment.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Overnight Sentiment Divergence (OSD) factor identifies mean-reversion opportunities by measuring the ratio of the overnight price gap to the previous 20-day volatility, specifically targeting 'hollow' gaps where the opening price jump is unsupported by historical volume trends.\n                Concise Observation: The parent strategy focused on 5-day intraday support persistence; however, market gaps often represent discrete sentiment shifts that occur outside of continuous trading hours, creating a distinct opportunity for short-term reversal signals.\n                Concise Justification: Price discovery during non-trading hours is often less efficient than intraday trading; a large gap-up on low relative volume suggests an emotional overreaction that lacks the structural capital commitment needed to sustain the new price level.\n                Concise Knowledge: If an asset experiences a significant overnight price gap relative to its historical volatility without a corresponding surge in liquidity, the gap is likely driven by retail sentiment and tends to mean-revert as institutional liquidity providers stabilize the price.\n                concise Specification: The factor is defined as the overnight return (Open/PrevClose - 1) divided by the 20-day standard deviation of returns, further scaled by the ratio of the current day's opening volume (approximated by daily volume if intraday is unavailable) to its 20-day average.\n                ",
      "initial_direction": "Multi-Horizon Volatility Regime: Compare STD5 against STD20 to filter RESI5 signals, focusing on mean reversion only when short-term volatility is lower than long-term volatility.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Multi-Horizon Volatility Regime: Compare STD5 against STD20 to filter RESI5 signals, focusing on mean reversion only when short-term volatility is lower than long-term volatility.",
      "evolution_phase": "mutation",
      "trajectory_id": "198b1aef2d24",
      "parent_trajectory_ids": [
        "32b05dcb6838"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0079347319357676,
        "ICIR": 0.05939449869332,
        "RankIC": 0.0253551794556677,
        "RankICIR": 0.1915386522742667,
        "annualized_return": 0.0926328382340116,
        "information_ratio": 1.4402579537569864,
        "max_drawdown": -0.1106618049443328
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:49:20.427009",
      "updated_at": "2026-01-17T03:49:20.427015"
    },
    "22af8b8c6538acb9": {
      "factor_id": "22af8b8c6538acb9",
      "factor_name": "Ranked_Overnight_Mean_Reversion_Signal",
      "factor_expression": "RANK(($open / (DELAY($close, 1) + 1e-8) - 1) / (TS_STD($return, 20) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK((($open / (DELAY($close, 1) + 1e-8)) - 1) / (TS_STD(($close / (DELAY($close, 1) + 1e-8)) - 1, 20) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Ranked_Overnight_Mean_Reversion_Signal\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally ranked version of the overnight sentiment divergence. It measures the intensity of the overnight gap relative to the 20-day return volatility, normalized across the universe to identify the most extreme sentiment shifts.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Overnight Sentiment Divergence (OSD) factor identifies mean-reversion opportunities by measuring the ratio of the overnight price gap to the previous 20-day volatility, specifically targeting 'hollow' gaps where the opening price jump is unsupported by historical volume trends.\n                Concise Observation: The parent strategy focused on 5-day intraday support persistence; however, market gaps often represent discrete sentiment shifts that occur outside of continuous trading hours, creating a distinct opportunity for short-term reversal signals.\n                Concise Justification: Price discovery during non-trading hours is often less efficient than intraday trading; a large gap-up on low relative volume suggests an emotional overreaction that lacks the structural capital commitment needed to sustain the new price level.\n                Concise Knowledge: If an asset experiences a significant overnight price gap relative to its historical volatility without a corresponding surge in liquidity, the gap is likely driven by retail sentiment and tends to mean-revert as institutional liquidity providers stabilize the price.\n                concise Specification: The factor is defined as the overnight return (Open/PrevClose - 1) divided by the 20-day standard deviation of returns, further scaled by the ratio of the current day's opening volume (approximated by daily volume if intraday is unavailable) to its 20-day average.\n                ",
      "initial_direction": "Multi-Horizon Volatility Regime: Compare STD5 against STD20 to filter RESI5 signals, focusing on mean reversion only when short-term volatility is lower than long-term volatility.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Multi-Horizon Volatility Regime: Compare STD5 against STD20 to filter RESI5 signals, focusing on mean reversion only when short-term volatility is lower than long-term volatility.",
      "evolution_phase": "mutation",
      "trajectory_id": "198b1aef2d24",
      "parent_trajectory_ids": [
        "32b05dcb6838"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0079347319357676,
        "ICIR": 0.05939449869332,
        "RankIC": 0.0253551794556677,
        "RankICIR": 0.1915386522742667,
        "annualized_return": 0.0926328382340116,
        "information_ratio": 1.4402579537569864,
        "max_drawdown": -0.1106618049443328
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:49:20.446277",
      "updated_at": "2026-01-17T03:49:20.446283"
    },
    "d8f036d6e6b62e0a": {
      "factor_id": "d8f036d6e6b62e0a",
      "factor_name": "Mean_Reversion_Efficiency_Factor",
      "factor_expression": "TS_CORR($close, $volume, 20) * TS_PCTCHANGE($close, 60) * TS_MEAN(ABS($close - $open) / ($high - $low + 1e-8), 5)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_CORR($close, $volume, 20) * TS_PCTCHANGE($close, 60) * TS_MEAN(ABS($close - $open) / ($high - $low + 1e-8), 5)\" # Your output factor expression will be filled in here\n    name = \"Mean_Reversion_Efficiency_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies potential mean-reversion entries by combining negative price-volume correlation (indicating selling exhaustion) with medium-term price momentum and a short-term intraday efficiency ratio. High values suggest that a downward trend is losing steam and showing signs of high-conviction intraday buying.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between a 20-day negative price-volume correlation and a 60-day price momentum, when filtered by a 5-day average intraday price efficiency ratio (Close-Open)/(High-Low), identifies high-conviction mean-reversion entries by distinguishing institutional accumulation from retail noise.\n                Concise Observation: Parent 1 identifies mean-reversion regimes but suffers from 'falling knives' due to lack of timing; Parent 2 identifies intraday conviction but lacks trend context; combining them targets assets where price drift has exhausted and new directional conviction is emerging.\n                Concise Justification: Negative price-volume correlation indicates a lack of selling pressure at lower prices (exhaustion), while a high ratio of (Close-Open) to (High-Low) indicates that intraday price movement is efficient and dominated by directional flow rather than random noise.\n                Concise Knowledge: If a medium-term price decline is accompanied by decoupling volume (exhaustion) and high intraday displacement efficiency (conviction), then the probability of a persistent trend reversal is higher than in cases with high intraday volatility but low net displacement.\n                concise Specification: Define Factor as the product of: (1) 20-day Spearman correlation of $close and $volume, (2) 60-day price return, and (3) 5-day moving average of abs($close - $open) / ($high - $low + epsilon), focusing on the intersection of low momentum and high efficiency.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "a765057e4a75",
      "parent_trajectory_ids": [
        "602b97b242f8",
        "677bfa9f37b3"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0059444334061954,
        "ICIR": 0.0415344081304131,
        "RankIC": 0.0231783460341772,
        "RankICIR": 0.1675708044085009,
        "annualized_return": 0.0496824335896681,
        "information_ratio": 0.7773368973755901,
        "max_drawdown": -0.0585744017921535
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:49:41.513713",
      "updated_at": "2026-01-17T03:49:41.513720"
    },
    "d63fa301338b8c8f": {
      "factor_id": "d63fa301338b8c8f",
      "factor_name": "Ranked_Exhaustion_Conviction_Factor",
      "factor_expression": "RANK(TS_CORR($close, $volume, 20)) * RANK(TS_PCTCHANGE($close, 60)) * RANK(TS_MEAN(ABS($close - $open) / ($high - $low + 1e-8), 5))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_CORR($close, $volume, 20)) * RANK(TS_PCTCHANGE($close, 60)) * RANK(TS_MEAN(ABS($close - $open) / ($high - $low + 1e-8), 5))\" # Your output factor expression will be filled in here\n    name = \"Ranked_Exhaustion_Conviction_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally ranked version of the exhaustion-momentum hypothesis. It ranks the interaction between price-volume decoupling and price efficiency to identify stocks where the downward momentum is most likely to reverse due to institutional absorption.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between a 20-day negative price-volume correlation and a 60-day price momentum, when filtered by a 5-day average intraday price efficiency ratio (Close-Open)/(High-Low), identifies high-conviction mean-reversion entries by distinguishing institutional accumulation from retail noise.\n                Concise Observation: Parent 1 identifies mean-reversion regimes but suffers from 'falling knives' due to lack of timing; Parent 2 identifies intraday conviction but lacks trend context; combining them targets assets where price drift has exhausted and new directional conviction is emerging.\n                Concise Justification: Negative price-volume correlation indicates a lack of selling pressure at lower prices (exhaustion), while a high ratio of (Close-Open) to (High-Low) indicates that intraday price movement is efficient and dominated by directional flow rather than random noise.\n                Concise Knowledge: If a medium-term price decline is accompanied by decoupling volume (exhaustion) and high intraday displacement efficiency (conviction), then the probability of a persistent trend reversal is higher than in cases with high intraday volatility but low net displacement.\n                concise Specification: Define Factor as the product of: (1) 20-day Spearman correlation of $close and $volume, (2) 60-day price return, and (3) 5-day moving average of abs($close - $open) / ($high - $low + epsilon), focusing on the intersection of low momentum and high efficiency.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "a765057e4a75",
      "parent_trajectory_ids": [
        "602b97b242f8",
        "677bfa9f37b3"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0059444334061954,
        "ICIR": 0.0415344081304131,
        "RankIC": 0.0231783460341772,
        "RankICIR": 0.1675708044085009,
        "annualized_return": 0.0496824335896681,
        "information_ratio": 0.7773368973755901,
        "max_drawdown": -0.0585744017921535
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:49:41.534401",
      "updated_at": "2026-01-17T03:49:41.534408"
    },
    "11b79651f6ff40ad": {
      "factor_id": "11b79651f6ff40ad",
      "factor_name": "ZScored_Reversal_Conviction_Index",
      "factor_expression": "TS_ZSCORE(TS_CORR($close, $volume, 20), 20) + TS_ZSCORE(TS_PCTCHANGE($close, 60), 60) + TS_ZSCORE(TS_MEAN(ABS($close - $open) / ($high - $low + 1e-8), 5), 20)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE(TS_CORR($close, $volume, 20), 20) + TS_ZSCORE(TS_PCTCHANGE($close, 60), 60) + TS_ZSCORE(TS_MEAN(ABS($close - $open) / ($high - $low + 1e-8), 5), 20)\" # Your output factor expression will be filled in here\n    name = \"ZScored_Reversal_Conviction_Index\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor standardizes the components of the reversal hypothesis using Z-scores to ensure each signal (exhaustion, momentum, and efficiency) contributes equally to the final score, reducing the impact of outliers in raw price/volume data.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between a 20-day negative price-volume correlation and a 60-day price momentum, when filtered by a 5-day average intraday price efficiency ratio (Close-Open)/(High-Low), identifies high-conviction mean-reversion entries by distinguishing institutional accumulation from retail noise.\n                Concise Observation: Parent 1 identifies mean-reversion regimes but suffers from 'falling knives' due to lack of timing; Parent 2 identifies intraday conviction but lacks trend context; combining them targets assets where price drift has exhausted and new directional conviction is emerging.\n                Concise Justification: Negative price-volume correlation indicates a lack of selling pressure at lower prices (exhaustion), while a high ratio of (Close-Open) to (High-Low) indicates that intraday price movement is efficient and dominated by directional flow rather than random noise.\n                Concise Knowledge: If a medium-term price decline is accompanied by decoupling volume (exhaustion) and high intraday displacement efficiency (conviction), then the probability of a persistent trend reversal is higher than in cases with high intraday volatility but low net displacement.\n                concise Specification: Define Factor as the product of: (1) 20-day Spearman correlation of $close and $volume, (2) 60-day price return, and (3) 5-day moving average of abs($close - $open) / ($high - $low + epsilon), focusing on the intersection of low momentum and high efficiency.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "a765057e4a75",
      "parent_trajectory_ids": [
        "602b97b242f8",
        "677bfa9f37b3"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0059444334061954,
        "ICIR": 0.0415344081304131,
        "RankIC": 0.0231783460341772,
        "RankICIR": 0.1675708044085009,
        "annualized_return": 0.0496824335896681,
        "information_ratio": 0.7773368973755901,
        "max_drawdown": -0.0585744017921535
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:49:41.554102",
      "updated_at": "2026-01-17T03:49:41.554109"
    },
    "ffa41311903d2f78": {
      "factor_id": "ffa41311903d2f78",
      "factor_name": "ICD_Factor_20D_5D",
      "factor_expression": "TS_MEAN(TS_CORR($close, $volume, 20) * (($high - $low) / ($volume + 1e-5)), 5)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN(TS_CORR($close, $volume, 20) * (($high - $low) / ($volume + 1e-5)), 5)\" # Your output factor expression will be filled in here\n    name = \"ICD_Factor_20D_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "The Institutional Conviction Divergence (ICD) factor identifies high-conviction institutional trends in low-impact accumulation phases. It combines price-volume correlation (conviction) with a range-to-volume efficiency ratio (stealth), smoothed to reduce noise.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Conviction Divergence (ICD) factor, defined as the product of the 20-day price-volume correlation and the 5-day range-to-volume efficiency ratio, identifies high-conviction institutional trends that are currently in a low-impact accumulation phase.\n                Concise Observation: Parent 1 showed that price-volume synchrony (RankIC 0.025) captures momentum conviction, while Parent 2 showed that decoupling price range from volume intensity (RankIC 0.026) identifies stealth institutional activity.\n                Concise Justification: By multiplying the conviction metric (CORR) with the efficiency metric (Range/Volume), we amplify signals where the market agrees on direction but the execution remains 'stealthy' and efficient, filtering out high-friction retail exhaustion phases.\n                Concise Knowledge: If a strong positive correlation between price and volume is accompanied by a high price-range-to-volume ratio, it indicates efficient institutional accumulation; when these two signals converge, the resulting momentum is more sustainable than volume-heavy retail-driven moves.\n                concise Specification: The factor is calculated as CORR($close, $volume, 20) * (($high - $low) / ($volume + 1e-5)), smoothed by a 5-day moving average to ensure signal stability and reduce noise from daily liquidity fluctuations.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "27a5787f65fc",
      "parent_trajectory_ids": [
        "c4016b5d2dfb",
        "29291150beba"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0058738787037622,
        "ICIR": 0.0409147214264877,
        "RankIC": 0.0237358595926097,
        "RankICIR": 0.1682903117923777,
        "annualized_return": 0.0450439052909164,
        "information_ratio": 0.6313711650225228,
        "max_drawdown": -0.1046087378096799
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:55:10.915099",
      "updated_at": "2026-01-17T03:55:10.915106"
    },
    "716991e7c705be64": {
      "factor_id": "716991e7c705be64",
      "factor_name": "Ranked_ICD_Efficiency",
      "factor_expression": "RANK(TS_CORR($close, $volume, 20)) * RANK(TS_MEAN($high - $low, 5) / (TS_MEAN($volume, 5) + 1e-5))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_CORR($close, $volume, 20)) * RANK(TS_MEAN($high - $low, 5) / (TS_MEAN($volume, 5) + 1e-5))\" # Your output factor expression will be filled in here\n    name = \"Ranked_ICD_Efficiency\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally ranked version of the Institutional Conviction Divergence hypothesis. It ranks the product of the 20-day price-volume synchrony and the 5-day price range efficiency to identify stocks with the highest institutional accumulation conviction relative to the market.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Conviction Divergence (ICD) factor, defined as the product of the 20-day price-volume correlation and the 5-day range-to-volume efficiency ratio, identifies high-conviction institutional trends that are currently in a low-impact accumulation phase.\n                Concise Observation: Parent 1 showed that price-volume synchrony (RankIC 0.025) captures momentum conviction, while Parent 2 showed that decoupling price range from volume intensity (RankIC 0.026) identifies stealth institutional activity.\n                Concise Justification: By multiplying the conviction metric (CORR) with the efficiency metric (Range/Volume), we amplify signals where the market agrees on direction but the execution remains 'stealthy' and efficient, filtering out high-friction retail exhaustion phases.\n                Concise Knowledge: If a strong positive correlation between price and volume is accompanied by a high price-range-to-volume ratio, it indicates efficient institutional accumulation; when these two signals converge, the resulting momentum is more sustainable than volume-heavy retail-driven moves.\n                concise Specification: The factor is calculated as CORR($close, $volume, 20) * (($high - $low) / ($volume + 1e-5)), smoothed by a 5-day moving average to ensure signal stability and reduce noise from daily liquidity fluctuations.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "27a5787f65fc",
      "parent_trajectory_ids": [
        "c4016b5d2dfb",
        "29291150beba"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0058738787037622,
        "ICIR": 0.0409147214264877,
        "RankIC": 0.0237358595926097,
        "RankICIR": 0.1682903117923777,
        "annualized_return": 0.0450439052909164,
        "information_ratio": 0.6313711650225228,
        "max_drawdown": -0.1046087378096799
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:55:10.936712",
      "updated_at": "2026-01-17T03:55:10.936718"
    },
    "76335bf894fdf686": {
      "factor_id": "76335bf894fdf686",
      "factor_name": "ICD_ZScore_Stability",
      "factor_expression": "SIGN(TS_CORR($close, $volume, 20)) * TS_ZSCORE(($high - $low) / ($volume + 1e-5), 10)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"SIGN(TS_CORR($close, $volume, 20)) * TS_ZSCORE(($high - $low) / ($volume + 1e-5), 10)\" # Your output factor expression will be filled in here\n    name = \"ICD_ZScore_Stability\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the institutional conviction by calculating the Z-score of the efficiency ratio (Range/Volume) multiplied by the sign of the price-volume correlation, ensuring that only positive synchrony (accumulation) drives the signal.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Conviction Divergence (ICD) factor, defined as the product of the 20-day price-volume correlation and the 5-day range-to-volume efficiency ratio, identifies high-conviction institutional trends that are currently in a low-impact accumulation phase.\n                Concise Observation: Parent 1 showed that price-volume synchrony (RankIC 0.025) captures momentum conviction, while Parent 2 showed that decoupling price range from volume intensity (RankIC 0.026) identifies stealth institutional activity.\n                Concise Justification: By multiplying the conviction metric (CORR) with the efficiency metric (Range/Volume), we amplify signals where the market agrees on direction but the execution remains 'stealthy' and efficient, filtering out high-friction retail exhaustion phases.\n                Concise Knowledge: If a strong positive correlation between price and volume is accompanied by a high price-range-to-volume ratio, it indicates efficient institutional accumulation; when these two signals converge, the resulting momentum is more sustainable than volume-heavy retail-driven moves.\n                concise Specification: The factor is calculated as CORR($close, $volume, 20) * (($high - $low) / ($volume + 1e-5)), smoothed by a 5-day moving average to ensure signal stability and reduce noise from daily liquidity fluctuations.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "27a5787f65fc",
      "parent_trajectory_ids": [
        "c4016b5d2dfb",
        "29291150beba"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0058738787037622,
        "ICIR": 0.0409147214264877,
        "RankIC": 0.0237358595926097,
        "RankICIR": 0.1682903117923777,
        "annualized_return": 0.0450439052909164,
        "information_ratio": 0.6313711650225228,
        "max_drawdown": -0.1046087378096799
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:55:10.956980",
      "updated_at": "2026-01-17T03:55:10.956986"
    },
    "b1435518c0e34cff": {
      "factor_id": "b1435518c0e34cff",
      "factor_name": "Liquidity_Exhaustion_Ratio_1D",
      "factor_expression": "RANK((($high - $low) / ($volume + 1e-8)) * ABS(($close - 0.5 * ($high + $low)) / ($high - $low + 1e-8)))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK((($high - $low) / ($volume + 1e-8)) * ABS(($close - 0.5 * ($high + $low)) / ($high - $low + 1e-8)))\" # Your output factor expression will be filled in here\n    name = \"Liquidity_Exhaustion_Ratio_1D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies potential price exhaustion by measuring the ratio of the daily price range to the trading volume, normalized by the relative position of the close. High values indicate 'thin' price moves where price discovery occurs on low volume intensity, signaling a likely mean reversion.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Intraday Liquidity Exhaustion Factor (ILEF) predicts short-term mean reversion by identifying assets where price reaches daily extremes (high/low) on diminishing volume intensity relative to the price range, signaling a structural liquidity void.\n                Concise Observation: Parent strategies focusing on 5-day momentum often fail at turning points because they assume volume confirms trend persistence, ignoring that extreme price moves on low relative volume often signal exhaustion rather than conviction.\n                Concise Justification: Market makers and informed traders often withdraw liquidity at overextended price levels, causing 'thin' price moves that lack the volume support necessary to maintain the new price level, leading to mean reversion.\n                Concise Knowledge: If price discovery occurs with decreasing volume-per-unit-of-range at daily extremes, the trend is likely unsustainable; when the daily close is far from the high despite a large range, it indicates liquidity traps and imminent reversal.\n                concise Specification: The factor measures the ratio of the daily price range (High-Low) to volume, scaled by the relative position of the close within that range, focusing on the 1-day 'exhaustion' signature to ensure orthogonality to 5-day trend factors.\n                ",
      "initial_direction": "Apply a non-linear transformation to WVMA5 using a regime-switching model (Hidden Markov Model) to distinguish between high-volatility accumulation and high-volatility distribution phases.",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "Apply a non-linear transformation to WVMA5 using a regime-switching model (Hidden Markov Model) to distinguish between high-volatility accumulation and high-volatility distribution phases.",
      "evolution_phase": "mutation",
      "trajectory_id": "27a980b96a39",
      "parent_trajectory_ids": [
        "56527829d459"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0059160471719719,
        "ICIR": 0.044616018064394,
        "RankIC": 0.0269585042651749,
        "RankICIR": 0.205847460568864,
        "annualized_return": 0.0472382632626234,
        "information_ratio": 0.7744172356327634,
        "max_drawdown": -0.0874532222830994
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:57:08.927814",
      "updated_at": "2026-01-17T03:57:08.927821"
    },
    "65d79c435508c9e4": {
      "factor_id": "65d79c435508c9e4",
      "factor_name": "Relative_Volume_Intensity_Reversal_5D",
      "factor_expression": "RANK((($high - $low) / ($volume + 1e-8)) / (TS_MEAN(($high - $low) / ($volume + 1e-8), 5) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK((($high - $low) / ($volume + 1e-8)) / (TS_MEAN(($high - $low) / ($volume + 1e-8), 5) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Relative_Volume_Intensity_Reversal_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures the exhaustion of momentum by comparing the current day's price range per unit of volume against its 5-day historical average. It highlights days where price moves are disproportionately large relative to the liquidity provided, suggesting a structural void.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Intraday Liquidity Exhaustion Factor (ILEF) predicts short-term mean reversion by identifying assets where price reaches daily extremes (high/low) on diminishing volume intensity relative to the price range, signaling a structural liquidity void.\n                Concise Observation: Parent strategies focusing on 5-day momentum often fail at turning points because they assume volume confirms trend persistence, ignoring that extreme price moves on low relative volume often signal exhaustion rather than conviction.\n                Concise Justification: Market makers and informed traders often withdraw liquidity at overextended price levels, causing 'thin' price moves that lack the volume support necessary to maintain the new price level, leading to mean reversion.\n                Concise Knowledge: If price discovery occurs with decreasing volume-per-unit-of-range at daily extremes, the trend is likely unsustainable; when the daily close is far from the high despite a large range, it indicates liquidity traps and imminent reversal.\n                concise Specification: The factor measures the ratio of the daily price range (High-Low) to volume, scaled by the relative position of the close within that range, focusing on the 1-day 'exhaustion' signature to ensure orthogonality to 5-day trend factors.\n                ",
      "initial_direction": "Apply a non-linear transformation to WVMA5 using a regime-switching model (Hidden Markov Model) to distinguish between high-volatility accumulation and high-volatility distribution phases.",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "Apply a non-linear transformation to WVMA5 using a regime-switching model (Hidden Markov Model) to distinguish between high-volatility accumulation and high-volatility distribution phases.",
      "evolution_phase": "mutation",
      "trajectory_id": "27a980b96a39",
      "parent_trajectory_ids": [
        "56527829d459"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0059160471719719,
        "ICIR": 0.044616018064394,
        "RankIC": 0.0269585042651749,
        "RankICIR": 0.205847460568864,
        "annualized_return": 0.0472382632626234,
        "information_ratio": 0.7744172356327634,
        "max_drawdown": -0.0874532222830994
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:57:08.948630",
      "updated_at": "2026-01-17T03:57:08.948636"
    },
    "e6aa23f628500dca": {
      "factor_id": "e6aa23f628500dca",
      "factor_name": "Extreme_Price_Liquidity_Trap",
      "factor_expression": "RANK(TS_ZSCORE($high - $low, 10)) - RANK(TS_ZSCORE($volume, 10))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_ZSCORE($high - $low, 10)) - RANK(TS_ZSCORE($volume, 10))\" # Your output factor expression will be filled in here\n    name = \"Extreme_Price_Liquidity_Trap\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies liquidity traps by detecting daily price extremes (high or low) that occur on significantly lower volume than the recent average. It uses the inverse of volume intensity to signal that the trend is unsustainable.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Intraday Liquidity Exhaustion Factor (ILEF) predicts short-term mean reversion by identifying assets where price reaches daily extremes (high/low) on diminishing volume intensity relative to the price range, signaling a structural liquidity void.\n                Concise Observation: Parent strategies focusing on 5-day momentum often fail at turning points because they assume volume confirms trend persistence, ignoring that extreme price moves on low relative volume often signal exhaustion rather than conviction.\n                Concise Justification: Market makers and informed traders often withdraw liquidity at overextended price levels, causing 'thin' price moves that lack the volume support necessary to maintain the new price level, leading to mean reversion.\n                Concise Knowledge: If price discovery occurs with decreasing volume-per-unit-of-range at daily extremes, the trend is likely unsustainable; when the daily close is far from the high despite a large range, it indicates liquidity traps and imminent reversal.\n                concise Specification: The factor measures the ratio of the daily price range (High-Low) to volume, scaled by the relative position of the close within that range, focusing on the 1-day 'exhaustion' signature to ensure orthogonality to 5-day trend factors.\n                ",
      "initial_direction": "Apply a non-linear transformation to WVMA5 using a regime-switching model (Hidden Markov Model) to distinguish between high-volatility accumulation and high-volatility distribution phases.",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "Apply a non-linear transformation to WVMA5 using a regime-switching model (Hidden Markov Model) to distinguish between high-volatility accumulation and high-volatility distribution phases.",
      "evolution_phase": "mutation",
      "trajectory_id": "27a980b96a39",
      "parent_trajectory_ids": [
        "56527829d459"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0059160471719719,
        "ICIR": 0.044616018064394,
        "RankIC": 0.0269585042651749,
        "RankICIR": 0.205847460568864,
        "annualized_return": 0.0472382632626234,
        "information_ratio": 0.7744172356327634,
        "max_drawdown": -0.0874532222830994
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:57:08.968980",
      "updated_at": "2026-01-17T03:57:08.968986"
    },
    "d31b51f2cd614148": {
      "factor_id": "d31b51f2cd614148",
      "factor_name": "Volume_Vol_Overnight_Gap_Reversion_5D",
      "factor_expression": "-1 * RANK(TS_STD($volume, 5) * ($open / (DELAY($close, 1) + 1e-8) - 1))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"-1 * RANK(TS_STD($volume, 5) * ($open / (DELAY($close, 1) + 1e-8) - 1))\" # Your output factor expression will be filled in here\n    name = \"Volume_Vol_Overnight_Gap_Reversion_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures the mean-reversion effect of overnight price gaps when accompanied by high volume volatility at the previous day's close. High volume volatility suggests dealer inventory stress, making the opening gap likely to revert. The factor is negated to align with a long-short prediction of the reversal.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The interaction between high-frequency volume volatility and the overnight price gap predicts a mean-reversion effect, where assets with extreme volume dispersion during the previous day's close tend to reverse their opening gap due to the resolution of liquidity-driven inventory imbalances.\n                Concise Observation: While trend-based factors use multi-day price linearity, intraday volume patterns often show that price gaps accompanied by high volume variance at the prior close are frequently overextended and subject to immediate correction.\n                Concise Justification: Market micro-structure theory suggests that dealers charging high risk-premia for liquidity at the close create temporary price distortions; these distortions are amplified in the overnight gap but dissipate once the market opens and broader liquidity returns.\n                Concise Knowledge: If a stock exhibits high volume volatility during the market close, it indicates dealer inventory stress; when this is followed by a significant overnight gap, the opening price likely reflects a liquidity premium that will mean-revert as inventory rebalances.\n                concise Specification: The factor measures the product of the 5-day standard deviation of closing volume and the overnight gap (Open/PrevClose - 1), specifically targeting the mean-reversion of the gap when volume instability is high.\n                ",
      "initial_direction": "Evaluate the decay rate of RSQR10 by measuring the time-series distance between 5-day and 20-day R-squared values to identify late-stage trend acceleration.",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "Evaluate the decay rate of RSQR10 by measuring the time-series distance between 5-day and 20-day R-squared values to identify late-stage trend acceleration.",
      "evolution_phase": "mutation",
      "trajectory_id": "d8f2e2396727",
      "parent_trajectory_ids": [
        "b9dbda212269"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0046840604617433,
        "ICIR": 0.0349310132696017,
        "RankIC": 0.0228022131126801,
        "RankICIR": 0.1749975776212974,
        "annualized_return": 0.0383216109530597,
        "information_ratio": 0.6103326711159421,
        "max_drawdown": -0.0794239792730248
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T03:59:50.080482",
      "updated_at": "2026-01-17T03:59:50.080490"
    },
    "667c8534e6e3442b": {
      "factor_id": "667c8534e6e3442b",
      "factor_name": "Informed_Liquidity_Accumulation_10D",
      "factor_expression": "TS_MEAN($volume / ($high - $low + 1e-8), 10) / (TS_STD($close, 10) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN($volume / ($high - $low + 1e-8), 10) / (TS_STD($close, 10) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Informed_Liquidity_Accumulation_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies potential trend breakouts by detecting periods of high volume density within narrow price ranges. It calculates the 10-day average of the ratio between volume and the high-low range, scaled by the inverse of price volatility to isolate 'quiet' institutional accumulation.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Informed Liquidity Accumulation (ILA) factor identifies forthcoming trend breakouts by measuring the concentration of volume within low-volatility price windows, specifically where the 10-day average of intraday range-normalized volume is high and price dispersion is at a cyclical minimum.\n                Concise Observation: The parent strategy focuses on high-volatility exhaustion and price-volume divergence (reversals), whereas market data shows significant predictive power in periods of extreme price compression where volume density increases without moving the price.\n                Concise Justification: Institutional investors often use execution algorithms to minimize market impact, leading to high volume clusters within narrow price ranges; measuring this 'quiet' accumulation captures the preparation phase of a new trend, ensuring orthogonality to exhaustion-based signals.\n                Concise Knowledge: If price volatility reaches a local minimum while volume remains steady or increasing, it indicates institutional absorption; when this 'coiled' state is identified via low high-low spreads relative to volume, it precedes a breakout rather than a reversal.\n                concise Specification: The factor is defined as the 10-day moving average of the ratio between daily volume and the daily high-low price range, scaled by the inverse of the 10-day price standard deviation, to isolate high-intensity trading within tight consolidation zones.\n                ",
      "initial_direction": "Cross-Sectional Residual Ranking: Rank RESI5 within specific industry sectors to remove systematic beta noise and isolate idiosyncratic price dislocations.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Cross-Sectional Residual Ranking: Rank RESI5 within specific industry sectors to remove systematic beta noise and isolate idiosyncratic price dislocations.",
      "evolution_phase": "mutation",
      "trajectory_id": "90908703b5db",
      "parent_trajectory_ids": [
        "3e076fd5d13b"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0049547169744411,
        "ICIR": 0.0366780726765981,
        "RankIC": 0.0234390965631809,
        "RankICIR": 0.1747659247618395,
        "annualized_return": 0.036668284881419,
        "information_ratio": 0.581836575922925,
        "max_drawdown": -0.0824714638689562
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:00:06.815968",
      "updated_at": "2026-01-17T04:00:06.815975"
    },
    "2aba12657a8d146a": {
      "factor_id": "2aba12657a8d146a",
      "factor_name": "Volume_Density_Compression_ZScore_10D",
      "factor_expression": "TS_ZSCORE($volume / ($high - $low + 1e-8), 10)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE($volume / (($high - $low) > 0.0001 ? ($high - $low) : 0.0001), 10)\" # Your output factor expression will be filled in here\n    name = \"Volume_Density_Compression_ZScore_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Measures the intensity of volume relative to price movement, standardized against its 10-day history. A high value suggests that volume is clustering within a tight price range, indicating institutional absorption before a volatility expansion.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Informed Liquidity Accumulation (ILA) factor identifies forthcoming trend breakouts by measuring the concentration of volume within low-volatility price windows, specifically where the 10-day average of intraday range-normalized volume is high and price dispersion is at a cyclical minimum.\n                Concise Observation: The parent strategy focuses on high-volatility exhaustion and price-volume divergence (reversals), whereas market data shows significant predictive power in periods of extreme price compression where volume density increases without moving the price.\n                Concise Justification: Institutional investors often use execution algorithms to minimize market impact, leading to high volume clusters within narrow price ranges; measuring this 'quiet' accumulation captures the preparation phase of a new trend, ensuring orthogonality to exhaustion-based signals.\n                Concise Knowledge: If price volatility reaches a local minimum while volume remains steady or increasing, it indicates institutional absorption; when this 'coiled' state is identified via low high-low spreads relative to volume, it precedes a breakout rather than a reversal.\n                concise Specification: The factor is defined as the 10-day moving average of the ratio between daily volume and the daily high-low price range, scaled by the inverse of the 10-day price standard deviation, to isolate high-intensity trading within tight consolidation zones.\n                ",
      "initial_direction": "Cross-Sectional Residual Ranking: Rank RESI5 within specific industry sectors to remove systematic beta noise and isolate idiosyncratic price dislocations.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Cross-Sectional Residual Ranking: Rank RESI5 within specific industry sectors to remove systematic beta noise and isolate idiosyncratic price dislocations.",
      "evolution_phase": "mutation",
      "trajectory_id": "90908703b5db",
      "parent_trajectory_ids": [
        "3e076fd5d13b"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0049547169744411,
        "ICIR": 0.0366780726765981,
        "RankIC": 0.0234390965631809,
        "RankICIR": 0.1747659247618395,
        "annualized_return": 0.036668284881419,
        "information_ratio": 0.581836575922925,
        "max_drawdown": -0.0824714638689562
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:00:06.837299",
      "updated_at": "2026-01-17T04:00:06.837305"
    },
    "9ff730c073fc8d6a": {
      "factor_id": "9ff730c073fc8d6a",
      "factor_name": "Accumulation_Coil_Factor_15D",
      "factor_expression": "RANK(TS_MEAN($volume, 15) / (TS_MAX($high, 15) - TS_MIN($low, 15) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN($volume, 15) / (TS_MAX($high, 15) - TS_MIN($low, 15) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Accumulation_Coil_Factor_15D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Identifies a 'coiled' market state where price dispersion is at a minimum relative to volume intensity. It uses the ratio of the 15-day average volume to the 15-day price range, cross-sectionally ranked to find the most compressed instruments.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Informed Liquidity Accumulation (ILA) factor identifies forthcoming trend breakouts by measuring the concentration of volume within low-volatility price windows, specifically where the 10-day average of intraday range-normalized volume is high and price dispersion is at a cyclical minimum.\n                Concise Observation: The parent strategy focuses on high-volatility exhaustion and price-volume divergence (reversals), whereas market data shows significant predictive power in periods of extreme price compression where volume density increases without moving the price.\n                Concise Justification: Institutional investors often use execution algorithms to minimize market impact, leading to high volume clusters within narrow price ranges; measuring this 'quiet' accumulation captures the preparation phase of a new trend, ensuring orthogonality to exhaustion-based signals.\n                Concise Knowledge: If price volatility reaches a local minimum while volume remains steady or increasing, it indicates institutional absorption; when this 'coiled' state is identified via low high-low spreads relative to volume, it precedes a breakout rather than a reversal.\n                concise Specification: The factor is defined as the 10-day moving average of the ratio between daily volume and the daily high-low price range, scaled by the inverse of the 10-day price standard deviation, to isolate high-intensity trading within tight consolidation zones.\n                ",
      "initial_direction": "Cross-Sectional Residual Ranking: Rank RESI5 within specific industry sectors to remove systematic beta noise and isolate idiosyncratic price dislocations.",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "Cross-Sectional Residual Ranking: Rank RESI5 within specific industry sectors to remove systematic beta noise and isolate idiosyncratic price dislocations.",
      "evolution_phase": "mutation",
      "trajectory_id": "90908703b5db",
      "parent_trajectory_ids": [
        "3e076fd5d13b"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0049547169744411,
        "ICIR": 0.0366780726765981,
        "RankIC": 0.0234390965631809,
        "RankICIR": 0.1747659247618395,
        "annualized_return": 0.036668284881419,
        "information_ratio": 0.581836575922925,
        "max_drawdown": -0.0824714638689562
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:00:06.858139",
      "updated_at": "2026-01-17T04:00:06.858145"
    },
    "2eb4cc9253e7aff3": {
      "factor_id": "2eb4cc9253e7aff3",
      "factor_name": "Liquidity_Exhaustion_Reversal_10D",
      "factor_expression": "TS_ZSCORE($high - $low, 10) - TS_ZSCORE($volume, 10)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE($high - $low, 10) - TS_ZSCORE($volume, 10)\" # Your output factor expression will be filled in here\n    name = \"Liquidity_Exhaustion_Reversal_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Identifies mean-reversion opportunities by detecting extreme intraday price dispersion (High-Low range) coupled with a sharp decline in volume. It calculates the difference between the time-series Z-score of the intraday range and the time-series Z-score of volume over a 10-day window.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Liquidity Exhaustion Reversal Factor (LERF) identifies mean-reversion opportunities by detecting extreme intraday price dispersion (High-Low range) coupled with a sharp decline in turnover, signaling a 'liquidity vacuum' where price moves are unsustainable.\n                Concise Observation: Previous trend-following factors based on price-volume correlation (RankIC 0.0286) struggle during market turning points where liquidity gaps cause price 'overshooting' on low participation.\n                Concise Justification: Market microstructure theory suggests that large price swings on low turnover indicate a thinning order book (liquidity vacuum), which typically precedes a reversal as liquidity providers return to capture the spread.\n                Concise Knowledge: If price volatility increases while turnover decreases, the price movement is likely driven by a lack of liquidity rather than informed conviction; When high price dispersion occurs without volume support, the asset is prone to a mean-reverting correction.\n                concise Specification: The factor is defined as the ratio of the 10-day Z-score of the intraday range ($high - $low) to the 10-day Z-score of volume, specifically targeting periods where range expansion exceeds volume growth.\n                ",
      "initial_direction": "Price-Volume divergence in distressed assets: Analyze if a negative CORR20 combined with a ROC60 > 1.2 identifies 'exhaustion selling' where price drops on decreasing volume, signaling a bottom.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Price-Volume divergence in distressed assets: Analyze if a negative CORR20 combined with a ROC60 > 1.2 identifies 'exhaustion selling' where price drops on decreasing volume, signaling a bottom.",
      "evolution_phase": "mutation",
      "trajectory_id": "16e029c7d1d1",
      "parent_trajectory_ids": [
        "27bd4849a020"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0063784432146131,
        "ICIR": 0.0464444348688443,
        "RankIC": 0.0267802323944021,
        "RankICIR": 0.1973365754409312,
        "annualized_return": 0.0299092083157557,
        "information_ratio": 0.4728457882647971,
        "max_drawdown": -0.1029066736013134
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:01:01.759885",
      "updated_at": "2026-01-17T04:01:01.759892"
    },
    "10a3628cfd4ea100": {
      "factor_id": "10a3628cfd4ea100",
      "factor_name": "Cross_Sectional_Liquidity_Vacuum_20D",
      "factor_expression": "RANK(TS_MEAN($high - $low, 20) / (TS_MEAN($volume, 20) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN($high - $low, 20) / (TS_MEAN($volume, 20) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Cross_Sectional_Liquidity_Vacuum_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Captures the relative liquidity exhaustion across the market. It ranks the ratio of a smoothed price range to smoothed volume, highlighting stocks where price volatility is disproportionately high compared to trading activity, adjusted for a 20-day lookback.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Liquidity Exhaustion Reversal Factor (LERF) identifies mean-reversion opportunities by detecting extreme intraday price dispersion (High-Low range) coupled with a sharp decline in turnover, signaling a 'liquidity vacuum' where price moves are unsustainable.\n                Concise Observation: Previous trend-following factors based on price-volume correlation (RankIC 0.0286) struggle during market turning points where liquidity gaps cause price 'overshooting' on low participation.\n                Concise Justification: Market microstructure theory suggests that large price swings on low turnover indicate a thinning order book (liquidity vacuum), which typically precedes a reversal as liquidity providers return to capture the spread.\n                Concise Knowledge: If price volatility increases while turnover decreases, the price movement is likely driven by a lack of liquidity rather than informed conviction; When high price dispersion occurs without volume support, the asset is prone to a mean-reverting correction.\n                concise Specification: The factor is defined as the ratio of the 10-day Z-score of the intraday range ($high - $low) to the 10-day Z-score of volume, specifically targeting periods where range expansion exceeds volume growth.\n                ",
      "initial_direction": "Price-Volume divergence in distressed assets: Analyze if a negative CORR20 combined with a ROC60 > 1.2 identifies 'exhaustion selling' where price drops on decreasing volume, signaling a bottom.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Price-Volume divergence in distressed assets: Analyze if a negative CORR20 combined with a ROC60 > 1.2 identifies 'exhaustion selling' where price drops on decreasing volume, signaling a bottom.",
      "evolution_phase": "mutation",
      "trajectory_id": "16e029c7d1d1",
      "parent_trajectory_ids": [
        "27bd4849a020"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0063784432146131,
        "ICIR": 0.0464444348688443,
        "RankIC": 0.0267802323944021,
        "RankICIR": 0.1973365754409312,
        "annualized_return": 0.0299092083157557,
        "information_ratio": 0.4728457882647971,
        "max_drawdown": -0.1029066736013134
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:01:01.781726",
      "updated_at": "2026-01-17T04:01:01.781732"
    },
    "cd30d6c8ccbc13e8": {
      "factor_id": "cd30d6c8ccbc13e8",
      "factor_name": "Range_Volume_Divergence_ZScore_5D",
      "factor_expression": "ZSCORE(TS_ZSCORE($high - $low, 5) / (TS_ZSCORE($volume, 5) + 3))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(TS_ZSCORE($high - $low, 5) / (TS_ZSCORE($volume, 5) + 3))\" # Your output factor expression will be filled in here\n    name = \"Range_Volume_Divergence_ZScore_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Focuses on short-term liquidity gaps by measuring the divergence between price range and volume growth. It uses a 5-day window to capture rapid 'overshooting' events where the range expands while volume stays low or decreases.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Liquidity Exhaustion Reversal Factor (LERF) identifies mean-reversion opportunities by detecting extreme intraday price dispersion (High-Low range) coupled with a sharp decline in turnover, signaling a 'liquidity vacuum' where price moves are unsustainable.\n                Concise Observation: Previous trend-following factors based on price-volume correlation (RankIC 0.0286) struggle during market turning points where liquidity gaps cause price 'overshooting' on low participation.\n                Concise Justification: Market microstructure theory suggests that large price swings on low turnover indicate a thinning order book (liquidity vacuum), which typically precedes a reversal as liquidity providers return to capture the spread.\n                Concise Knowledge: If price volatility increases while turnover decreases, the price movement is likely driven by a lack of liquidity rather than informed conviction; When high price dispersion occurs without volume support, the asset is prone to a mean-reverting correction.\n                concise Specification: The factor is defined as the ratio of the 10-day Z-score of the intraday range ($high - $low) to the 10-day Z-score of volume, specifically targeting periods where range expansion exceeds volume growth.\n                ",
      "initial_direction": "Price-Volume divergence in distressed assets: Analyze if a negative CORR20 combined with a ROC60 > 1.2 identifies 'exhaustion selling' where price drops on decreasing volume, signaling a bottom.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Price-Volume divergence in distressed assets: Analyze if a negative CORR20 combined with a ROC60 > 1.2 identifies 'exhaustion selling' where price drops on decreasing volume, signaling a bottom.",
      "evolution_phase": "mutation",
      "trajectory_id": "16e029c7d1d1",
      "parent_trajectory_ids": [
        "27bd4849a020"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0063784432146131,
        "ICIR": 0.0464444348688443,
        "RankIC": 0.0267802323944021,
        "RankICIR": 0.1973365754409312,
        "annualized_return": 0.0299092083157557,
        "information_ratio": 0.4728457882647971,
        "max_drawdown": -0.1029066736013134
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:01:01.802827",
      "updated_at": "2026-01-17T04:01:01.802833"
    },
    "ee5011636f3af683": {
      "factor_id": "ee5011636f3af683",
      "factor_name": "Stealth_Liquidity_Absorption_20D",
      "factor_expression": "($volume / POW($high - $low + 1e-8, 2)) / (TS_MEAN($volume / POW($high - $low + 1e-8, 2), 20) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"($volume / POW($high - $low + 1e-8, 2)) / (TS_MEAN($volume / POW($high - $low + 1e-8, 2), 20) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Stealth_Liquidity_Absorption_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies institutional accumulation by measuring the ratio of trading volume to the squared intraday price range. A high ratio indicates high turnover within a narrow price band, suggesting 'stealth' liquidity absorption. The value is normalized by its 20-day moving average to identify abnormal accumulation phases.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Stealth Liquidity Drain' factor, calculated as the ratio of daily volume to the squared daily price range, identifies institutional accumulation phases where high volume occurs within a narrow price band, predicting positive future returns when this ratio exceeds its 20-day historical mean.\n                Concise Observation: The parent strategy successfully captured high-volatility shocks using ATR-normalized ranges, but it fails to identify 'quiet' accumulation periods where price movement is suppressed despite significant turnover.\n                Concise Justification: Institutional investors often use execution algorithms to minimize market impact, leading to high volume with low price dispersion. Measuring the density of volume per unit of price range (Volume / (High - Low)^2) reveals conviction that price-only volatility metrics miss.\n                Concise Knowledge: If high trading volume is concentrated within a narrow intraday price range, it indicates high liquidity absorption by institutional players; when this volume-to-range ratio is abnormally high relative to its history, it suggests a forthcoming price breakout due to inventory exhaustion.\n                concise Specification: The factor is defined as (Volume / (High - Low + epsilon)^2) normalized by its 20-day moving average. It specifically targets instruments with low price volatility but high turnover, expecting a positive correlation with next-period returns during the accumulation phase.\n                ",
      "initial_direction": "Normalize KLEN by the 20-day Average True Range (ATR) to create a 'Relative Intraday Intensity' factor that is cross-sectionally comparable across different liquidity tiers.",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "Normalize KLEN by the 20-day Average True Range (ATR) to create a 'Relative Intraday Intensity' factor that is cross-sectionally comparable across different liquidity tiers.",
      "evolution_phase": "mutation",
      "trajectory_id": "5ec06367644d",
      "parent_trajectory_ids": [
        "493f083fc9f4"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0085583084684651,
        "ICIR": 0.0595476659580015,
        "RankIC": 0.0303410838064745,
        "RankICIR": 0.2113441650937267,
        "annualized_return": 0.0807439656809508,
        "information_ratio": 1.2016865585959693,
        "max_drawdown": -0.099785165016142
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:02:51.920019",
      "updated_at": "2026-01-17T04:02:51.920027"
    },
    "f31a3d208db11e89": {
      "factor_id": "f31a3d208db11e89",
      "factor_name": "Relative_Volume_Density_Rank_10D",
      "factor_expression": "RANK(TS_RANK($volume / ($high - $low + 1e-8), 10))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_RANK($volume / ($high - $low + 1e-8), 10))\" # Your output factor expression will be filled in here\n    name = \"Relative_Volume_Density_Rank_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Measures the cross-sectional rank of volume density (volume per unit of price range) relative to its recent time-series distribution. It targets stocks where the current volume-to-range ratio is at a historical peak, signaling potential exhaustion of sellers and a forthcoming breakout.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Stealth Liquidity Drain' factor, calculated as the ratio of daily volume to the squared daily price range, identifies institutional accumulation phases where high volume occurs within a narrow price band, predicting positive future returns when this ratio exceeds its 20-day historical mean.\n                Concise Observation: The parent strategy successfully captured high-volatility shocks using ATR-normalized ranges, but it fails to identify 'quiet' accumulation periods where price movement is suppressed despite significant turnover.\n                Concise Justification: Institutional investors often use execution algorithms to minimize market impact, leading to high volume with low price dispersion. Measuring the density of volume per unit of price range (Volume / (High - Low)^2) reveals conviction that price-only volatility metrics miss.\n                Concise Knowledge: If high trading volume is concentrated within a narrow intraday price range, it indicates high liquidity absorption by institutional players; when this volume-to-range ratio is abnormally high relative to its history, it suggests a forthcoming price breakout due to inventory exhaustion.\n                concise Specification: The factor is defined as (Volume / (High - Low + epsilon)^2) normalized by its 20-day moving average. It specifically targets instruments with low price volatility but high turnover, expecting a positive correlation with next-period returns during the accumulation phase.\n                ",
      "initial_direction": "Normalize KLEN by the 20-day Average True Range (ATR) to create a 'Relative Intraday Intensity' factor that is cross-sectionally comparable across different liquidity tiers.",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "Normalize KLEN by the 20-day Average True Range (ATR) to create a 'Relative Intraday Intensity' factor that is cross-sectionally comparable across different liquidity tiers.",
      "evolution_phase": "mutation",
      "trajectory_id": "5ec06367644d",
      "parent_trajectory_ids": [
        "493f083fc9f4"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0085583084684651,
        "ICIR": 0.0595476659580015,
        "RankIC": 0.0303410838064745,
        "RankICIR": 0.2113441650937267,
        "annualized_return": 0.0807439656809508,
        "information_ratio": 1.2016865585959693,
        "max_drawdown": -0.099785165016142
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:02:51.950367",
      "updated_at": "2026-01-17T04:02:51.950373"
    },
    "64b2836e01ce5097": {
      "factor_id": "64b2836e01ce5097",
      "factor_name": "ZScore_Accumulation_Density_15D",
      "factor_expression": "TS_ZSCORE($volume / (ABS($high - $low) + 1e-8), 15)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE($volume / (($high - $low) > 0.0001 ? ($high - $low) : 0.0001), 15)\" # Your output factor expression will be filled in here\n    name = \"ZScore_Accumulation_Density_15D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Calculates the time-series Z-score of the volume-to-range ratio over a 15-day window. By using Z-score, it identifies statistically significant 'quiet' accumulation periods where volume density exceeds the normal distribution of the specific instrument's trading activity.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Stealth Liquidity Drain' factor, calculated as the ratio of daily volume to the squared daily price range, identifies institutional accumulation phases where high volume occurs within a narrow price band, predicting positive future returns when this ratio exceeds its 20-day historical mean.\n                Concise Observation: The parent strategy successfully captured high-volatility shocks using ATR-normalized ranges, but it fails to identify 'quiet' accumulation periods where price movement is suppressed despite significant turnover.\n                Concise Justification: Institutional investors often use execution algorithms to minimize market impact, leading to high volume with low price dispersion. Measuring the density of volume per unit of price range (Volume / (High - Low)^2) reveals conviction that price-only volatility metrics miss.\n                Concise Knowledge: If high trading volume is concentrated within a narrow intraday price range, it indicates high liquidity absorption by institutional players; when this volume-to-range ratio is abnormally high relative to its history, it suggests a forthcoming price breakout due to inventory exhaustion.\n                concise Specification: The factor is defined as (Volume / (High - Low + epsilon)^2) normalized by its 20-day moving average. It specifically targets instruments with low price volatility but high turnover, expecting a positive correlation with next-period returns during the accumulation phase.\n                ",
      "initial_direction": "Normalize KLEN by the 20-day Average True Range (ATR) to create a 'Relative Intraday Intensity' factor that is cross-sectionally comparable across different liquidity tiers.",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "Normalize KLEN by the 20-day Average True Range (ATR) to create a 'Relative Intraday Intensity' factor that is cross-sectionally comparable across different liquidity tiers.",
      "evolution_phase": "mutation",
      "trajectory_id": "5ec06367644d",
      "parent_trajectory_ids": [
        "493f083fc9f4"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0085583084684651,
        "ICIR": 0.0595476659580015,
        "RankIC": 0.0303410838064745,
        "RankICIR": 0.2113441650937267,
        "annualized_return": 0.0807439656809508,
        "information_ratio": 1.2016865585959693,
        "max_drawdown": -0.099785165016142
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:02:51.971394",
      "updated_at": "2026-01-17T04:02:51.971400"
    },
    "c092235ba2e172e2": {
      "factor_id": "c092235ba2e172e2",
      "factor_name": "Overnight_Intraday_Asymmetry_Ratio",
      "factor_expression": "RANK((ABS($open / DELAY($close, 1) - 1) / (($high - $low) / $open + 1e-8)) * ($volume / (TS_MEAN($volume, 5) + 1e-8)))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK((ABS($open / DELAY($close, 1) - 1) / (($high - $low) / $open + 1e-8)) * ($volume / (TS_MEAN($volume, 5) + 1e-8)))\" # Your output factor expression will be filled in here\n    name = \"Overnight_Intraday_Asymmetry_Ratio\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures the ratio of the overnight gap return to the intraday price range, weighted by the current volume relative to its 5-day average. High values indicate a significant overnight gap followed by low-volatility intraday consolidation, suggesting institutional positioning.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Overnight-Intraday Information Asymmetry' factor, defined as the ratio of the overnight gap return to the intraday price range normalized by volume, predicts positive future returns when a significant gap is followed by low-volatility intraday consolidation.\n                Concise Observation: Parent strategies focusing on 5-day path efficiency fail to capture the alpha generated by the temporal decoupling of price discovery between the market close and the next day's open.\n                Concise Justification: Overnight gaps represent the market's reaction to non-trading hour information, while the subsequent intraday behavior (range/volume) distinguishes between retail exhaustion and institutional accumulation or distribution.\n                Concise Knowledge: If a significant overnight price gap occurs without subsequent intraday volatility expansion, it indicates institutional 'stealth' positioning; when high volume supports a narrow intraday range after a gap, the price discovery is likely informed and persistent.\n                concise Specification: Calculate the ratio of the absolute overnight return (Open_t / Close_{t-1} - 1) to the intraday volatility (High_t - Low_t), weighted by the 1-day volume relative to its 5-day average, focusing on the current day's structure.\n                ",
      "initial_direction": "Construct a 'Volume-Weighted Efficiency Ratio' by dividing the 5-day price displacement by the sum of KLEN over the same period, adjusted by WVMA5.",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "Construct a 'Volume-Weighted Efficiency Ratio' by dividing the 5-day price displacement by the sum of KLEN over the same period, adjusted by WVMA5.",
      "evolution_phase": "mutation",
      "trajectory_id": "90858acbb827",
      "parent_trajectory_ids": [
        "1b6967fb12b2"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0067199626943525,
        "ICIR": 0.048838675363754,
        "RankIC": 0.024328700001654,
        "RankICIR": 0.1831696836310786,
        "annualized_return": 0.0502456403226744,
        "information_ratio": 0.7414288438353506,
        "max_drawdown": -0.1088293446149705
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:05:47.785370",
      "updated_at": "2026-01-17T04:05:47.785376"
    },
    "b829d8b82d07f289": {
      "factor_id": "b829d8b82d07f289",
      "factor_name": "Gap_Consolidation_Efficiency_5D",
      "factor_expression": "TS_ZSCORE(ABS($open - DELAY($close, 1)) / ($high - $low + 1e-8), 5)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE(ABS($open - DELAY($close, 1)) / (($high - $low) + 0.0001), 5)\" # Your output factor expression will be filled in here\n    name = \"Gap_Consolidation_Efficiency_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Measures the efficiency of price discovery by comparing the magnitude of overnight gaps to the intraday volatility over a 5-day period. It uses Z-scores to normalize the gap-to-range ratio, identifying days where the gap dominates the daily price action.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Overnight-Intraday Information Asymmetry' factor, defined as the ratio of the overnight gap return to the intraday price range normalized by volume, predicts positive future returns when a significant gap is followed by low-volatility intraday consolidation.\n                Concise Observation: Parent strategies focusing on 5-day path efficiency fail to capture the alpha generated by the temporal decoupling of price discovery between the market close and the next day's open.\n                Concise Justification: Overnight gaps represent the market's reaction to non-trading hour information, while the subsequent intraday behavior (range/volume) distinguishes between retail exhaustion and institutional accumulation or distribution.\n                Concise Knowledge: If a significant overnight price gap occurs without subsequent intraday volatility expansion, it indicates institutional 'stealth' positioning; when high volume supports a narrow intraday range after a gap, the price discovery is likely informed and persistent.\n                concise Specification: Calculate the ratio of the absolute overnight return (Open_t / Close_{t-1} - 1) to the intraday volatility (High_t - Low_t), weighted by the 1-day volume relative to its 5-day average, focusing on the current day's structure.\n                ",
      "initial_direction": "Construct a 'Volume-Weighted Efficiency Ratio' by dividing the 5-day price displacement by the sum of KLEN over the same period, adjusted by WVMA5.",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "Construct a 'Volume-Weighted Efficiency Ratio' by dividing the 5-day price displacement by the sum of KLEN over the same period, adjusted by WVMA5.",
      "evolution_phase": "mutation",
      "trajectory_id": "90858acbb827",
      "parent_trajectory_ids": [
        "1b6967fb12b2"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0067199626943525,
        "ICIR": 0.048838675363754,
        "RankIC": 0.024328700001654,
        "RankICIR": 0.1831696836310786,
        "annualized_return": 0.0502456403226744,
        "information_ratio": 0.7414288438353506,
        "max_drawdown": -0.1088293446149705
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:05:47.807039",
      "updated_at": "2026-01-17T04:05:47.807045"
    },
    "13a0cd3f1b427b42": {
      "factor_id": "13a0cd3f1b427b42",
      "factor_name": "Institutional_Stealth_Accumulation",
      "factor_expression": "RANK(($open / DELAY($close, 1) - 1) / (TS_MEAN($high - $low, 10) / $close + 1e-8)) * RANK($volume / (TS_MEAN($volume, 10) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($open / DELAY($close, 1) - 1) / (TS_MEAN($high - $low, 10) / $close + 1e-8)) * RANK($volume / (TS_MEAN($volume, 10) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Institutional_Stealth_Accumulation\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Identifies potential institutional accumulation by looking for days with a positive overnight gap but a narrow intraday range relative to the 10-day average range, further filtered by volume strength.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Overnight-Intraday Information Asymmetry' factor, defined as the ratio of the overnight gap return to the intraday price range normalized by volume, predicts positive future returns when a significant gap is followed by low-volatility intraday consolidation.\n                Concise Observation: Parent strategies focusing on 5-day path efficiency fail to capture the alpha generated by the temporal decoupling of price discovery between the market close and the next day's open.\n                Concise Justification: Overnight gaps represent the market's reaction to non-trading hour information, while the subsequent intraday behavior (range/volume) distinguishes between retail exhaustion and institutional accumulation or distribution.\n                Concise Knowledge: If a significant overnight price gap occurs without subsequent intraday volatility expansion, it indicates institutional 'stealth' positioning; when high volume supports a narrow intraday range after a gap, the price discovery is likely informed and persistent.\n                concise Specification: Calculate the ratio of the absolute overnight return (Open_t / Close_{t-1} - 1) to the intraday volatility (High_t - Low_t), weighted by the 1-day volume relative to its 5-day average, focusing on the current day's structure.\n                ",
      "initial_direction": "Construct a 'Volume-Weighted Efficiency Ratio' by dividing the 5-day price displacement by the sum of KLEN over the same period, adjusted by WVMA5.",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "Construct a 'Volume-Weighted Efficiency Ratio' by dividing the 5-day price displacement by the sum of KLEN over the same period, adjusted by WVMA5.",
      "evolution_phase": "mutation",
      "trajectory_id": "90858acbb827",
      "parent_trajectory_ids": [
        "1b6967fb12b2"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0067199626943525,
        "ICIR": 0.048838675363754,
        "RankIC": 0.024328700001654,
        "RankICIR": 0.1831696836310786,
        "annualized_return": 0.0502456403226744,
        "information_ratio": 0.7414288438353506,
        "max_drawdown": -0.1088293446149705
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:05:47.828509",
      "updated_at": "2026-01-17T04:05:47.828514"
    },
    "1dc38a227b730b92": {
      "factor_id": "1dc38a227b730b92",
      "factor_name": "Idiosyncratic_Conviction_Divergence_10D",
      "factor_expression": "($open / DELAY($close, 1) - 1) / (TS_MEAN(STD($return), 10) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"($open / DELAY($close, 1) - 1) / TS_MEAN(STD($close / DELAY($close, 1) - 1) + $close * 0, 10)\" # Your output factor expression will be filled in here\n    name = \"Idiosyncratic_Conviction_Divergence_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies alpha by isolating high-conviction institutional re-pricing. It calculates the ratio of the overnight gap (Open/Previous Close - 1) to the 10-day moving average of cross-sectional return volatility. A high ratio suggests that the stock-specific move is significantly stronger than the prevailing market noise/dispersion.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Idiosyncratic Conviction Divergence' factor, calculated as the ratio of the overnight gap to the 10-day cross-sectional volatility dispersion, identifies alpha by isolating high-conviction institutional re-pricing that occurs independently of systemic market noise.\n                Concise Observation: Parent strategies show that both intraday volatility dispersion (RankIC 0.026) and institutional gap signals (RankIC 0.025) provide predictive power, but they often struggle to distinguish between broad market beta spikes and stock-specific information events.\n                Concise Justification: By normalizing the overnight gap (a proxy for institutional conviction) by the cross-sectional volatility dispersion (a proxy for market noise), we create a signal-to-noise ratio that highlights 'clean' price discoveries likely to persist.\n                Concise Knowledge: If an overnight price gap is large relative to the current cross-sectional dispersion of returns, it indicates idiosyncratic institutional conviction; when such moves occur during periods of low market-wide dispersion, they are more likely to represent sustainable momentum rather than systemic noise.\n                concise Specification: The factor is defined as (Open_t / Close_{t-1} - 1) divided by the standard deviation of all stock returns in the cross-section over the previous 10 days, capturing the purity of the price move relative to the market environment.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "a981c8bd8bfe",
      "parent_trajectory_ids": [
        "7513729d3145",
        "77bb890cab72"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0063446725914684,
        "ICIR": 0.0473629018593917,
        "RankIC": 0.0238336727388599,
        "RankICIR": 0.1805527973251633,
        "annualized_return": 0.0883968772409901,
        "information_ratio": 1.3528728247110378,
        "max_drawdown": -0.0963561551508521
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:18:29.796015",
      "updated_at": "2026-01-17T04:18:29.796022"
    },
    "6676834534de5750": {
      "factor_id": "6676834534de5750",
      "factor_name": "Z_Conviction_Gap_Dispersion_10D",
      "factor_expression": "ZSCORE(($open - DELAY($close, 1)) / (DELAY($close, 1) * (TS_MEAN(STD($return), 10) + 1e-8)))",
      "factor_implementation_code": "",
      "factor_description": "A cross-sectionally standardized version of the conviction divergence. It measures the overnight gap relative to the recent cross-sectional dispersion of returns, then applies a Z-score to ensure the signal is comparable across different market regimes. This highlights idiosyncratic moves that deviate most from the current market noise level.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Idiosyncratic Conviction Divergence' factor, calculated as the ratio of the overnight gap to the 10-day cross-sectional volatility dispersion, identifies alpha by isolating high-conviction institutional re-pricing that occurs independently of systemic market noise.\n                Concise Observation: Parent strategies show that both intraday volatility dispersion (RankIC 0.026) and institutional gap signals (RankIC 0.025) provide predictive power, but they often struggle to distinguish between broad market beta spikes and stock-specific information events.\n                Concise Justification: By normalizing the overnight gap (a proxy for institutional conviction) by the cross-sectional volatility dispersion (a proxy for market noise), we create a signal-to-noise ratio that highlights 'clean' price discoveries likely to persist.\n                Concise Knowledge: If an overnight price gap is large relative to the current cross-sectional dispersion of returns, it indicates idiosyncratic institutional conviction; when such moves occur during periods of low market-wide dispersion, they are more likely to represent sustainable momentum rather than systemic noise.\n                concise Specification: The factor is defined as (Open_t / Close_{t-1} - 1) divided by the standard deviation of all stock returns in the cross-section over the previous 10 days, capturing the purity of the price move relative to the market environment.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "a981c8bd8bfe",
      "parent_trajectory_ids": [
        "7513729d3145",
        "77bb890cab72"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0063446725914684,
        "ICIR": 0.0473629018593917,
        "RankIC": 0.0238336727388599,
        "RankICIR": 0.1805527973251633,
        "annualized_return": 0.0883968772409901,
        "information_ratio": 1.3528728247110378,
        "max_drawdown": -0.0963561551508521
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:18:29.819030",
      "updated_at": "2026-01-17T04:18:29.819036"
    },
    "35fe80011a9596bf": {
      "factor_id": "35fe80011a9596bf",
      "factor_name": "Ranked_Idiosyncratic_Momentum_Signal",
      "factor_expression": "RANK(($open - DELAY($close, 1)) / (DELAY($close, 1) * TS_MEAN(STD($return), 10) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($open / DELAY($close, 1) - 1) / TS_MEAN(STD($open / DELAY($close, 1) - 1) + $close * 0, 10))\" # Your output factor expression will be filled in here\n    name = \"Ranked_Idiosyncratic_Momentum_Signal\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor combines the conviction gap concept with cross-sectional ranking. It divides the current overnight return by the 10-day average of cross-sectional return standard deviation, then ranks the result to identify the top idiosyncratic movers relative to market-wide volatility.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Idiosyncratic Conviction Divergence' factor, calculated as the ratio of the overnight gap to the 10-day cross-sectional volatility dispersion, identifies alpha by isolating high-conviction institutional re-pricing that occurs independently of systemic market noise.\n                Concise Observation: Parent strategies show that both intraday volatility dispersion (RankIC 0.026) and institutional gap signals (RankIC 0.025) provide predictive power, but they often struggle to distinguish between broad market beta spikes and stock-specific information events.\n                Concise Justification: By normalizing the overnight gap (a proxy for institutional conviction) by the cross-sectional volatility dispersion (a proxy for market noise), we create a signal-to-noise ratio that highlights 'clean' price discoveries likely to persist.\n                Concise Knowledge: If an overnight price gap is large relative to the current cross-sectional dispersion of returns, it indicates idiosyncratic institutional conviction; when such moves occur during periods of low market-wide dispersion, they are more likely to represent sustainable momentum rather than systemic noise.\n                concise Specification: The factor is defined as (Open_t / Close_{t-1} - 1) divided by the standard deviation of all stock returns in the cross-section over the previous 10 days, capturing the purity of the price move relative to the market environment.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "a981c8bd8bfe",
      "parent_trajectory_ids": [
        "7513729d3145",
        "77bb890cab72"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0063446725914684,
        "ICIR": 0.0473629018593917,
        "RankIC": 0.0238336727388599,
        "RankICIR": 0.1805527973251633,
        "annualized_return": 0.0883968772409901,
        "information_ratio": 1.3528728247110378,
        "max_drawdown": -0.0963561551508521
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:18:29.841621",
      "updated_at": "2026-01-17T04:18:29.841627"
    },
    "d13e8e08d6ee9dce": {
      "factor_id": "d13e8e08d6ee9dce",
      "factor_name": "LVIG_Institutional_Conviction_10D",
      "factor_expression": "(($open - DELAY($close, 1)) / (TS_STD($close, 20) + 1e-8)) * (($open - DELAY($close, 1)) / ($high - $low + 1e-8)) * ($volume / (TS_MEAN($volume, 10) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($open - DELAY($close, 1)) / (TS_STD($close, 20) + 1e-8)) * (($open - DELAY($close, 1)) / ($high - $low + 1e-8)) * ($volume / (TS_MEAN($volume, 10) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"LVIG_Institutional_Conviction_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "The Liquidity-Validated Institutional Gap (LVIG) factor. It scales the overnight gap by 20-day volatility to normalize size, multiplies by the ratio of gap to intraday range to measure 'solidness' (conviction), and applies a volume multiplier to ensure liquidity support. High values suggest institutional momentum, while low values suggest noise or exhaustion.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Liquidity-Validated Institutional Gap (LVIG) factor predicts returns by multiplying the overnight gap (normalized by 20-day volatility) with an 'Institutional Conviction' ratio (gap size relative to intraday range), further scaled by a volume-based liquidity multiplier to distinguish between sustainable breakaway moves and mean-reverting exhaustion.\n                Concise Observation: Parent strategies showed that overnight gaps have predictive power (RankIC ~0.025), but their effectiveness is limited by failing to distinguish between high-conviction institutional moves and low-liquidity noise that tends to mean-revert.\n                Concise Justification: Combining the overnight gap with intraday price structure (shadows and range) and volume validation creates a regime-switching mechanism that captures momentum when price action is 'solid' and mean-reversion when price action is 'hollow'.\n                Concise Knowledge: If an overnight price gap is accompanied by a small intraday range (high conviction) and high relative volume, it indicates institutional trend continuation; conversely, if the gap is large but followed by high intraday volatility or low volume, it signals a mean-reverting exhaustion gap.\n                concise Specification: The factor is calculated as (Gap / 20-day Volatility) * (Gap / (High - Low + 1e-6)) * (Volume / 10-day Moving Average Volume), where Gap is (Open - Previous Close).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "758c1d6f5792",
      "parent_trajectory_ids": [
        "b8240cacc900",
        "77bb890cab72"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0056646558545069,
        "ICIR": 0.0409743114100333,
        "RankIC": 0.0231878175384502,
        "RankICIR": 0.1667542903070123,
        "annualized_return": 0.0974907403790993,
        "information_ratio": 1.4980137589442482,
        "max_drawdown": -0.0892909265930361
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:21:36.495953",
      "updated_at": "2026-01-17T04:21:36.495959"
    },
    "bcd1c01af077b394": {
      "factor_id": "bcd1c01af077b394",
      "factor_name": "Z_LVIG_Momentum_Refined",
      "factor_expression": "ZSCORE((($open - DELAY($close, 1)) / (TS_STD($close, 20) + 1e-8)) * (($open - DELAY($close, 1)) / ($high - $low + 1e-8)) * ($volume / (TS_MEAN($volume, 10) + 1e-8)))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE((($open - DELAY($close, 1)) / (TS_STD($close, 20) + 1e-8)) * (($open - DELAY($close, 1)) / ($high - $low + 1e-8)) * ($volume / (TS_MEAN($volume, 10) + 1e-8)))\" # Your output factor expression will be filled in here\n    name = \"Z_LVIG_Momentum_Refined\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally standardized version of the LVIG factor. It captures the relative strength of institutional gap conviction across the market. By using ZSCORE, it identifies stocks with the most significant liquidity-validated breakaway moves relative to the universe.",
      "experiment_id": "2026-01-16_17-24-42-691566",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Liquidity-Validated Institutional Gap (LVIG) factor predicts returns by multiplying the overnight gap (normalized by 20-day volatility) with an 'Institutional Conviction' ratio (gap size relative to intraday range), further scaled by a volume-based liquidity multiplier to distinguish between sustainable breakaway moves and mean-reverting exhaustion.\n                Concise Observation: Parent strategies showed that overnight gaps have predictive power (RankIC ~0.025), but their effectiveness is limited by failing to distinguish between high-conviction institutional moves and low-liquidity noise that tends to mean-revert.\n                Concise Justification: Combining the overnight gap with intraday price structure (shadows and range) and volume validation creates a regime-switching mechanism that captures momentum when price action is 'solid' and mean-reversion when price action is 'hollow'.\n                Concise Knowledge: If an overnight price gap is accompanied by a small intraday range (high conviction) and high relative volume, it indicates institutional trend continuation; conversely, if the gap is large but followed by high intraday volatility or low volume, it signals a mean-reverting exhaustion gap.\n                concise Specification: The factor is calculated as (Gap / 20-day Volatility) * (Gap / (High - Low + 1e-6)) * (Volume / 10-day Moving Average Volume), where Gap is (Open - Previous Close).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合3包含RESI5（表达式：Resi(, 5)/，含义：5日线性回归残差，反映价格偏离趋势程度）、KLOW（表达式：(Less(, )-)/，含义：K线下影线长度，反映盘中支撑力度）、STD5（表达式：Std(, 5)/，含义：5日收盘价标准差，衡量纯价格波动幅度）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "758c1d6f5792",
      "parent_trajectory_ids": [
        "b8240cacc900",
        "77bb890cab72"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0056646558545069,
        "ICIR": 0.0409743114100333,
        "RankIC": 0.0231878175384502,
        "RankICIR": 0.1667542903070123,
        "annualized_return": 0.0974907403790993,
        "information_ratio": 1.4980137589442482,
        "max_drawdown": -0.0892909265930361
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:21:36.519526",
      "updated_at": "2026-01-17T04:21:36.519532"
    },
    "831e8e4246d13178": {
      "factor_id": "831e8e4246d13178",
      "factor_name": "VVDE_Hollow_Expansion_5D",
      "factor_expression": "(($high - $low) / (TS_MEAN(MAX(MAX($high - $low, ABS($high - DELAY($close, 1))), ABS($low - DELAY($close, 1))), 20) + 1e-8)) / ($volume / (TS_MEAN($volume, 5) + 1e-8) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($high - $low) / (TS_MEAN(MAX(MAX($high - $low, ABS($high - DELAY($close, 1))), ABS($low - DELAY($close, 1))), 20) + 1e-8)) / ($volume / (TS_MEAN($volume, 5) + 1e-8) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"VVDE_Hollow_Expansion_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "The Volatility-Volume Divergence Efficiency (VVDE) factor identifies 'hollow' price moves by calculating the ratio of the ATR-normalized intraday range to the 5-day relative volume intensity. High values suggest price expansion on low relative volume, indicating potential mean reversion due to a lack of liquidity depth.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Volatility-Volume Divergence Efficiency (VVDE) factor, calculated as the ratio of the ATR-normalized intraday price range to the 5-day relative volume intensity, predicts future returns by identifying 'hollow' price expansions prone to mean reversion.\n                Concise Observation: Parent strategies showed that while ATR-normalized ranges (RankIC 0.029) and volume exhaustion (RankIC 0.027) are individually predictive, price shocks without volume support often represent unsustainable 'hollow' moves.\n                Concise Justification: By dividing the Relative Intraday Intensity by Relative Volume Intensity, we isolate stocks where the 'cost' of moving price in terms of volume is abnormally high, signaling a lack of liquidity depth and impending trend exhaustion.\n                Concise Knowledge: If intraday price volatility expands significantly while volume remains low relative to its recent average, the price move is likely driven by liquidity voids rather than institutional conviction, leading to a higher probability of reversal.\n                concise Specification: Define VVDE as [(High - Low) / ATR(20)] / [Volume / Mean(Volume, 5)]; high values indicate volatility-volume divergence; expect a negative correlation with next-day returns as these 'hollow' moves mean-revert.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "02ca504bc6bd",
      "parent_trajectory_ids": [
        "493f083fc9f4",
        "3806921571eb"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0078726148102835,
        "ICIR": 0.0524784406475679,
        "RankIC": 0.0298113390161144,
        "RankICIR": 0.1971814056117819,
        "annualized_return": 0.1149124625429248,
        "information_ratio": 1.6386987543596918,
        "max_drawdown": -0.116216639948346
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:23:23.015490",
      "updated_at": "2026-01-17T04:23:23.015497"
    },
    "baba2b3086bea1bd": {
      "factor_id": "baba2b3086bea1bd",
      "factor_name": "Hollow_Move_ZScore_10D",
      "factor_expression": "RANK((($high - $low) / (TS_MEAN($high - $low, 10) + 1e-8)) / ($volume / (TS_MEAN($volume, 10) + 1e-8) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK((($high - $low) / (TS_MEAN($high - $low, 10) + 1e-8)) / ($volume / (TS_MEAN($volume, 10) + 1e-8) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Hollow_Move_ZScore_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the VVDE hypothesis focusing on the cross-sectional rank of the ratio between price volatility and volume. It identifies stocks where the intraday range is disproportionately large compared to the recent volume trend, signaling exhaustion.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Volatility-Volume Divergence Efficiency (VVDE) factor, calculated as the ratio of the ATR-normalized intraday price range to the 5-day relative volume intensity, predicts future returns by identifying 'hollow' price expansions prone to mean reversion.\n                Concise Observation: Parent strategies showed that while ATR-normalized ranges (RankIC 0.029) and volume exhaustion (RankIC 0.027) are individually predictive, price shocks without volume support often represent unsustainable 'hollow' moves.\n                Concise Justification: By dividing the Relative Intraday Intensity by Relative Volume Intensity, we isolate stocks where the 'cost' of moving price in terms of volume is abnormally high, signaling a lack of liquidity depth and impending trend exhaustion.\n                Concise Knowledge: If intraday price volatility expands significantly while volume remains low relative to its recent average, the price move is likely driven by liquidity voids rather than institutional conviction, leading to a higher probability of reversal.\n                concise Specification: Define VVDE as [(High - Low) / ATR(20)] / [Volume / Mean(Volume, 5)]; high values indicate volatility-volume divergence; expect a negative correlation with next-day returns as these 'hollow' moves mean-revert.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "02ca504bc6bd",
      "parent_trajectory_ids": [
        "493f083fc9f4",
        "3806921571eb"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0078726148102835,
        "ICIR": 0.0524784406475679,
        "RankIC": 0.0298113390161144,
        "RankICIR": 0.1971814056117819,
        "annualized_return": 0.1149124625429248,
        "information_ratio": 1.6386987543596918,
        "max_drawdown": -0.116216639948346
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:23:23.038627",
      "updated_at": "2026-01-17T04:23:23.038634"
    },
    "e8e0aece3bacf7f6": {
      "factor_id": "e8e0aece3bacf7f6",
      "factor_name": "Relative_Cost_of_Price_Movement",
      "factor_expression": "(ABS($return) / (TS_STD($return, 20) + 1e-8)) / ($volume / (TS_MEAN($volume, 20) + 1e-8) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(ABS(TS_PCTCHANGE($close, 1)) / TS_STD(TS_PCTCHANGE($close, 1), 20)) / ($volume / TS_MEAN($volume, 20))\" # Your output factor expression will be filled in here\n    name = \"Relative_Cost_of_Price_Movement\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the 'cost' of price movement by looking at the ratio of the absolute return to the relative volume. It targets the hypothesis that high price movement on low relative volume is unsustainable. We use a 20-day window for volume normalization to capture structural divergence.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Volatility-Volume Divergence Efficiency (VVDE) factor, calculated as the ratio of the ATR-normalized intraday price range to the 5-day relative volume intensity, predicts future returns by identifying 'hollow' price expansions prone to mean reversion.\n                Concise Observation: Parent strategies showed that while ATR-normalized ranges (RankIC 0.029) and volume exhaustion (RankIC 0.027) are individually predictive, price shocks without volume support often represent unsustainable 'hollow' moves.\n                Concise Justification: By dividing the Relative Intraday Intensity by Relative Volume Intensity, we isolate stocks where the 'cost' of moving price in terms of volume is abnormally high, signaling a lack of liquidity depth and impending trend exhaustion.\n                Concise Knowledge: If intraday price volatility expands significantly while volume remains low relative to its recent average, the price move is likely driven by liquidity voids rather than institutional conviction, leading to a higher probability of reversal.\n                concise Specification: Define VVDE as [(High - Low) / ATR(20)] / [Volume / Mean(Volume, 5)]; high values indicate volatility-volume divergence; expect a negative correlation with next-day returns as these 'hollow' moves mean-revert.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "02ca504bc6bd",
      "parent_trajectory_ids": [
        "493f083fc9f4",
        "3806921571eb"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0078726148102835,
        "ICIR": 0.0524784406475679,
        "RankIC": 0.0298113390161144,
        "RankICIR": 0.1971814056117819,
        "annualized_return": 0.1149124625429248,
        "information_ratio": 1.6386987543596918,
        "max_drawdown": -0.116216639948346
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T04:23:23.061329",
      "updated_at": "2026-01-17T04:23:23.061335"
    },
    "242b9288cdf59fa0": {
      "factor_id": "242b9288cdf59fa0",
      "factor_name": "Gap_Intraday_Intensity_Reversal_20D",
      "factor_expression": "(($open - DELAY($close, 1)) / (DELAY($close, 1) + 1e-8)) * TS_ZSCORE(($high - $low) / (TS_MEAN(MAX($high, DELAY($close, 1)) - MIN($low, DELAY($close, 1)), 20) + 1e-8), 20)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($open - DELAY($close, 1)) / (DELAY($close, 1) + 1e-8)) * TS_ZSCORE(($high - $low) / (TS_MEAN(MAX(MAX($high - $low, ABS($high - DELAY($close, 1))), ABS($low - DELAY($close, 1))), 20) + 1e-8), 20)\" # Your output factor expression will be filled in here\n    name = \"Gap_Intraday_Intensity_Reversal_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies mean-reversion signals by multiplying the overnight gap with the 20-day Z-score of the intraday range normalized by ATR. High values indicate exhaustion after a gap-up, while low values indicate exhaustion after a gap-down.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Intraday Intensity-Adjusted Gap Reversal' factor, calculated as the product of the overnight price gap and the 20-day Z-score of the (High-Low)/ATR20 ratio, identifies high-conviction mean-reversion signals by isolating liquidity-driven exhaustion points.\n                Concise Observation: Parent 1 showed that normalized intraday intensity (Range/ATR) captures price exhaustion (RankIC 0.029), while Parent 2 demonstrated that overnight gaps coupled with volume dispersion signal reversals (RankIC 0.022); combining these filters out 'noisy' gaps that lack the volatility confirmation needed for high-conviction trades.\n                Concise Justification: By scaling the overnight gap by the relative intraday intensity, we weight the signal toward 'over-extended' states where the price has moved significantly beyond its typical volatility envelope, suggesting a higher likelihood of inventory-driven correction.\n                Concise Knowledge: If an overnight price gap occurs in conjunction with extreme intraday price range expansion relative to its historical ATR, the price movement is more likely driven by temporary liquidity imbalances rather than fundamental shifts; when volume volatility is also high, the probability of a mean-reversion reversal increases.\n                concise Specification: The factor is defined as: Gap * TS_ZScore((High - Low) / ATR(20), 20), where Gap is (Open - Prev_Close) / Prev_Close and ATR(20) is the 20-day Average True Range; a high positive value suggests a gap-up with extreme intensity (sell signal), and a low negative value suggests a gap-down with extreme intensity (buy signal).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "67a65f59ba9a",
      "parent_trajectory_ids": [
        "493f083fc9f4",
        "ccbd1a1bc892"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0074614630650547,
        "ICIR": 0.0552835729971314,
        "RankIC": 0.0252842146188579,
        "RankICIR": 0.1900184381652116,
        "annualized_return": 0.070876744457745,
        "information_ratio": 1.0589173674031032,
        "max_drawdown": -0.0948577377005152
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T05:17:13.624532",
      "updated_at": "2026-01-17T05:17:13.624539"
    },
    "17dc6ce14c0fa34f": {
      "factor_id": "17dc6ce14c0fa34f",
      "factor_name": "Liquidity_Exhaustion_Gap_Factor",
      "factor_expression": "RANK(($open - DELAY($close, 1)) / (DELAY($close, 1) + 1e-8)) * TS_RANK(($high - $low) / (TS_STD($close, 20) + 1e-8), 20)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($open - DELAY($close, 1)) / (DELAY($close, 1) + 1e-8)) * TS_RANK(($high - $low) / (TS_STD($close, 20) + 1e-8), 20)\" # Your output factor expression will be filled in here\n    name = \"Liquidity_Exhaustion_Gap_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the intensity-adjusted gap reversal. It uses the cross-sectional rank of the overnight gap and the time-series rank of the intraday range relative to volume-weighted volatility to find high-conviction reversal points.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Intraday Intensity-Adjusted Gap Reversal' factor, calculated as the product of the overnight price gap and the 20-day Z-score of the (High-Low)/ATR20 ratio, identifies high-conviction mean-reversion signals by isolating liquidity-driven exhaustion points.\n                Concise Observation: Parent 1 showed that normalized intraday intensity (Range/ATR) captures price exhaustion (RankIC 0.029), while Parent 2 demonstrated that overnight gaps coupled with volume dispersion signal reversals (RankIC 0.022); combining these filters out 'noisy' gaps that lack the volatility confirmation needed for high-conviction trades.\n                Concise Justification: By scaling the overnight gap by the relative intraday intensity, we weight the signal toward 'over-extended' states where the price has moved significantly beyond its typical volatility envelope, suggesting a higher likelihood of inventory-driven correction.\n                Concise Knowledge: If an overnight price gap occurs in conjunction with extreme intraday price range expansion relative to its historical ATR, the price movement is more likely driven by temporary liquidity imbalances rather than fundamental shifts; when volume volatility is also high, the probability of a mean-reversion reversal increases.\n                concise Specification: The factor is defined as: Gap * TS_ZScore((High - Low) / ATR(20), 20), where Gap is (Open - Prev_Close) / Prev_Close and ATR(20) is the 20-day Average True Range; a high positive value suggests a gap-up with extreme intensity (sell signal), and a low negative value suggests a gap-down with extreme intensity (buy signal).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "67a65f59ba9a",
      "parent_trajectory_ids": [
        "493f083fc9f4",
        "ccbd1a1bc892"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0074614630650547,
        "ICIR": 0.0552835729971314,
        "RankIC": 0.0252842146188579,
        "RankICIR": 0.1900184381652116,
        "annualized_return": 0.070876744457745,
        "information_ratio": 1.0589173674031032,
        "max_drawdown": -0.0948577377005152
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T05:17:13.649487",
      "updated_at": "2026-01-17T05:17:13.649493"
    },
    "c8fca406cf44ce2a": {
      "factor_id": "c8fca406cf44ce2a",
      "factor_name": "Volatility_Confirmed_Gap_Reversal",
      "factor_expression": "ZSCORE((($open - DELAY($close, 1)) / (DELAY($close, 1) + 1e-8)) * (($high - $low) / (TS_MEAN($high - $low, 10) + 1e-8)))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE((($open - DELAY($close, 1)) / (DELAY($close, 1) + 1e-8)) * (($high - $low) / (TS_MEAN($high - $low, 10) + 1e-8)))\" # Your output factor expression will be filled in here\n    name = \"Volatility_Confirmed_Gap_Reversal\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures price exhaustion by checking if the overnight gap is accompanied by an extreme intraday range relative to its 10-day historical mean, then applying a cross-sectional Z-score for comparability.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Intraday Intensity-Adjusted Gap Reversal' factor, calculated as the product of the overnight price gap and the 20-day Z-score of the (High-Low)/ATR20 ratio, identifies high-conviction mean-reversion signals by isolating liquidity-driven exhaustion points.\n                Concise Observation: Parent 1 showed that normalized intraday intensity (Range/ATR) captures price exhaustion (RankIC 0.029), while Parent 2 demonstrated that overnight gaps coupled with volume dispersion signal reversals (RankIC 0.022); combining these filters out 'noisy' gaps that lack the volatility confirmation needed for high-conviction trades.\n                Concise Justification: By scaling the overnight gap by the relative intraday intensity, we weight the signal toward 'over-extended' states where the price has moved significantly beyond its typical volatility envelope, suggesting a higher likelihood of inventory-driven correction.\n                Concise Knowledge: If an overnight price gap occurs in conjunction with extreme intraday price range expansion relative to its historical ATR, the price movement is more likely driven by temporary liquidity imbalances rather than fundamental shifts; when volume volatility is also high, the probability of a mean-reversion reversal increases.\n                concise Specification: The factor is defined as: Gap * TS_ZScore((High - Low) / ATR(20), 20), where Gap is (Open - Prev_Close) / Prev_Close and ATR(20) is the 20-day Average True Range; a high positive value suggests a gap-up with extreme intensity (sell signal), and a low negative value suggests a gap-down with extreme intensity (buy signal).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "67a65f59ba9a",
      "parent_trajectory_ids": [
        "493f083fc9f4",
        "ccbd1a1bc892"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0074614630650547,
        "ICIR": 0.0552835729971314,
        "RankIC": 0.0252842146188579,
        "RankICIR": 0.1900184381652116,
        "annualized_return": 0.070876744457745,
        "information_ratio": 1.0589173674031032,
        "max_drawdown": -0.0948577377005152
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T05:17:13.674106",
      "updated_at": "2026-01-17T05:17:13.674112"
    },
    "3aa5d8e96e906741": {
      "factor_id": "3aa5d8e96e906741",
      "factor_name": "ILVG_Base_5D",
      "factor_expression": "($open / DELAY($close, 1) - 1) / (($high - $low) / ($close + 1e-8) / ($volume / (TS_MEAN(DELAY($volume, 1), 5) + 1e-8) + 1e-8) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"($open / DELAY($close, 1) - 1) / (($high - $low) / ($close + 1e-8) / ($volume / (TS_MEAN(DELAY($volume, 1), 5) + 1e-8) + 1e-8) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"ILVG_Base_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "The Informed Liquidity-Validation Gap (ILVG) factor. It scales the overnight return (sentiment) by the inverse of the price movement cost (intraday range relative to volume intensity). High volume supporting a narrow range after a gap indicates efficient price discovery, while low volume with high volatility suggests a 'hollow' gap prone to reversal.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Informed Liquidity-Validation Gap (ILVG) factor, defined as the overnight return divided by the ratio of intraday price range (High-Low) to relative volume intensity over a 5-day window, predicts positive returns when gaps are efficiently supported by volume and negative returns when gaps are 'hollow' expansions.\n                Concise Observation: Parent 1 showed that overnight gaps carry sentiment (RankIC 0.0216), while Parent 2 demonstrated that the ratio of price range to volume intensity (VVDE) identifies price efficiency (RankIC 0.0298).\n                Concise Justification: By scaling the overnight sentiment signal by the inverse of the 'cost of price movement' (VVDE), we filter out gaps that lack liquidity validation, thereby isolating high-conviction institutional flows from retail-driven exhaustion gaps.\n                Concise Knowledge: If an overnight price gap is accompanied by high intraday volatility but low relative volume, the price move is likely noise-driven and prone to mean reversion; conversely, when high volume supports a narrow intraday range following a gap, the price discovery is efficient and momentum-persistent.\n                concise Specification: The ILVG factor is calculated as (Open_t / Close_{t-1} - 1) / ((High_t - Low_t) / Close_t / (Volume_t / Mean(Volume_{t-1...t-5}))). The look-back period for volume normalization is 5 days, and the intraday range is normalized by the current close price.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "21809a7d6aca",
      "parent_trajectory_ids": [
        "c45ed08a92fb",
        "7fb27aabe9cd"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0065254216645761,
        "ICIR": 0.0472355092847189,
        "RankIC": 0.0270520258483099,
        "RankICIR": 0.2024824929100111,
        "annualized_return": 0.0821097882309767,
        "information_ratio": 1.2176888122530412,
        "max_drawdown": -0.098122127271157
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:12:54.311467",
      "updated_at": "2026-01-17T07:12:54.311474"
    },
    "fd532a0a4a268e0d": {
      "factor_id": "fd532a0a4a268e0d",
      "factor_name": "Ranked_ILVG_Efficiency_5D",
      "factor_expression": "RANK($open / DELAY($close, 1) - 1) * RANK(($volume / (TS_MEAN(DELAY($volume, 1), 5) + 1e-8)) / (($high - $low) / ($close + 1e-8) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN(RANK($open / DELAY($close, 1) - 1) * RANK(($volume / (TS_MEAN(DELAY($volume, 1), 5) + 1e-8)) / (($high - $low) / ($close + 1e-8) + 1e-8)), 5)\" # Your output factor expression will be filled in here\n    name = \"Ranked_ILVG_Efficiency_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally robust version of the ILVG factor. It uses RANK to normalize the overnight gap and the volume-validated intraday range (VVDE) before combining them. This reduces the impact of outliers in price range and volume spikes, focusing on the relative conviction of the gap across the universe.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Informed Liquidity-Validation Gap (ILVG) factor, defined as the overnight return divided by the ratio of intraday price range (High-Low) to relative volume intensity over a 5-day window, predicts positive returns when gaps are efficiently supported by volume and negative returns when gaps are 'hollow' expansions.\n                Concise Observation: Parent 1 showed that overnight gaps carry sentiment (RankIC 0.0216), while Parent 2 demonstrated that the ratio of price range to volume intensity (VVDE) identifies price efficiency (RankIC 0.0298).\n                Concise Justification: By scaling the overnight sentiment signal by the inverse of the 'cost of price movement' (VVDE), we filter out gaps that lack liquidity validation, thereby isolating high-conviction institutional flows from retail-driven exhaustion gaps.\n                Concise Knowledge: If an overnight price gap is accompanied by high intraday volatility but low relative volume, the price move is likely noise-driven and prone to mean reversion; conversely, when high volume supports a narrow intraday range following a gap, the price discovery is efficient and momentum-persistent.\n                concise Specification: The ILVG factor is calculated as (Open_t / Close_{t-1} - 1) / ((High_t - Low_t) / Close_t / (Volume_t / Mean(Volume_{t-1...t-5}))). The look-back period for volume normalization is 5 days, and the intraday range is normalized by the current close price.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "21809a7d6aca",
      "parent_trajectory_ids": [
        "c45ed08a92fb",
        "7fb27aabe9cd"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0065254216645761,
        "ICIR": 0.0472355092847189,
        "RankIC": 0.0270520258483099,
        "RankICIR": 0.2024824929100111,
        "annualized_return": 0.0821097882309767,
        "information_ratio": 1.2176888122530412,
        "max_drawdown": -0.098122127271157
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:12:54.339426",
      "updated_at": "2026-01-17T07:12:54.339432"
    },
    "c077f13bd7bec6f8": {
      "factor_id": "c077f13bd7bec6f8",
      "factor_name": "Smoothed_ILVG_Validation_10D",
      "factor_expression": "($open / DELAY($close, 1) - 1) * TS_MEAN(($volume / (TS_MEAN(DELAY($volume, 1), 5) + 1e-8)) / (($high - $low) / ($close + 1e-8) + 1e-8), 10)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"($open / DELAY($close, 1) - 1) * TS_MEAN(($volume / (TS_MEAN(DELAY($volume, 1), 5) + 1e-8)) / (($high - $low) / ($close + 1e-8) + 1e-8), 10)\" # Your output factor expression will be filled in here\n    name = \"Smoothed_ILVG_Validation_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A smoothed version of the Informed Liquidity-Validation Gap that uses a 10-day moving average of the validation component (Volume/Range) to identify persistent institutional support for overnight moves rather than single-day noise.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Informed Liquidity-Validation Gap (ILVG) factor, defined as the overnight return divided by the ratio of intraday price range (High-Low) to relative volume intensity over a 5-day window, predicts positive returns when gaps are efficiently supported by volume and negative returns when gaps are 'hollow' expansions.\n                Concise Observation: Parent 1 showed that overnight gaps carry sentiment (RankIC 0.0216), while Parent 2 demonstrated that the ratio of price range to volume intensity (VVDE) identifies price efficiency (RankIC 0.0298).\n                Concise Justification: By scaling the overnight sentiment signal by the inverse of the 'cost of price movement' (VVDE), we filter out gaps that lack liquidity validation, thereby isolating high-conviction institutional flows from retail-driven exhaustion gaps.\n                Concise Knowledge: If an overnight price gap is accompanied by high intraday volatility but low relative volume, the price move is likely noise-driven and prone to mean reversion; conversely, when high volume supports a narrow intraday range following a gap, the price discovery is efficient and momentum-persistent.\n                concise Specification: The ILVG factor is calculated as (Open_t / Close_{t-1} - 1) / ((High_t - Low_t) / Close_t / (Volume_t / Mean(Volume_{t-1...t-5}))). The look-back period for volume normalization is 5 days, and the intraday range is normalized by the current close price.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "21809a7d6aca",
      "parent_trajectory_ids": [
        "c45ed08a92fb",
        "7fb27aabe9cd"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0065254216645761,
        "ICIR": 0.0472355092847189,
        "RankIC": 0.0270520258483099,
        "RankICIR": 0.2024824929100111,
        "annualized_return": 0.0821097882309767,
        "information_ratio": 1.2176888122530412,
        "max_drawdown": -0.098122127271157
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:12:54.366828",
      "updated_at": "2026-01-17T07:12:54.366834"
    },
    "beceb91b44bbc95e": {
      "factor_id": "beceb91b44bbc95e",
      "factor_name": "MRLV_Liquidity_Vacuum_5D_20D",
      "factor_expression": "TS_STD($high - $low, 5) / (TS_MEAN($volume, 20) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_STD($high - $low, 5) / (TS_MEAN($volume, 20) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"MRLV_Liquidity_Vacuum_5D_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "The Mean-Reverting Liquidity Vacuum (MRLV) factor identifies price exhaustion by calculating the ratio of short-term price range volatility to long-term average volume. High values indicate 'hollow' price movements driven by liquidity gaps rather than institutional conviction, signaling a likely reversal.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Mean-Reverting Liquidity Vacuum (MRLV) factor, defined as the ratio of price range volatility to volume-weighted price stability, identifies short-term price exhaustion points where retail-driven noise lacks institutional support, signaling an imminent reversal.\n                Concise Observation: The parent strategy successfully captured institutional accumulation through high price-volume synchrony, but it failed to account for 'noisy' price spikes where high range-to-volume ratios actually signaled trend exhaustion rather than efficiency.\n                Concise Justification: High price ranges on low relative volume indicate a 'liquidity vacuum' where small trades move prices disproportionately; such movements are fragile and tend to reverse once the temporary supply-demand imbalance is exhausted.\n                Concise Knowledge: If price volatility increases while volume intensity remains stagnant or decreases, the price movement is likely driven by liquidity gaps rather than fundamental conviction; When such 'hollow' volatility peaks, the probability of a mean-reversion to the previous 20-day value area increases.\n                concise Specification: The factor is calculated as the 5-day standard deviation of daily ranges ($high-$low) divided by the 20-day average volume, specifically targeting assets where the current price-volume correlation is negative or near zero to ensure orthogonality to trend-following signals.\n                ",
      "initial_direction": "Macro-regime sensitivity: Evaluate if the CORR20 signal's effectiveness shifts during high-volatility regimes (measured by VIX or ATR) compared to low-volatility consolidation phases.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Macro-regime sensitivity: Evaluate if the CORR20 signal's effectiveness shifts during high-volatility regimes (measured by VIX or ATR) compared to low-volatility consolidation phases.",
      "evolution_phase": "mutation",
      "trajectory_id": "ca595afd8043",
      "parent_trajectory_ids": [
        "569bf5cd5eb9"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0057672492670453,
        "ICIR": 0.0408660672545633,
        "RankIC": 0.0261975093804158,
        "RankICIR": 0.1882589995380309,
        "annualized_return": 0.0558446811463958,
        "information_ratio": 0.8596891429568351,
        "max_drawdown": -0.0632254502068216
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:15:34.831791",
      "updated_at": "2026-01-17T07:15:34.831797"
    },
    "ab092a4ed20eeabf": {
      "factor_id": "ab092a4ed20eeabf",
      "factor_name": "Hollow_Volatility_Reversal_Factor",
      "factor_expression": "RANK(TS_STD($high - $low, 5) / (TS_MEAN($volume, 20) + 1e-8)) * (TS_CORR($return, $volume, 10) < 0 ? 1 : 0.5)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_STD($high - $low, 5) / (TS_MEAN($volume, 20) + 1e-8)) * (TS_CORR($close / DELAY($close, 1) - 1, $volume, 10) < 0 ? 1 : 0.5)\" # Your output factor expression will be filled in here\n    name = \"Hollow_Volatility_Reversal_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor targets assets where price range expansion is decoupled from volume support. It uses the ratio of the 5-day range standard deviation to the 20-day volume mean, cross-sectionally ranked and filtered for low price-volume correlation to isolate non-institutional noise.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Mean-Reverting Liquidity Vacuum (MRLV) factor, defined as the ratio of price range volatility to volume-weighted price stability, identifies short-term price exhaustion points where retail-driven noise lacks institutional support, signaling an imminent reversal.\n                Concise Observation: The parent strategy successfully captured institutional accumulation through high price-volume synchrony, but it failed to account for 'noisy' price spikes where high range-to-volume ratios actually signaled trend exhaustion rather than efficiency.\n                Concise Justification: High price ranges on low relative volume indicate a 'liquidity vacuum' where small trades move prices disproportionately; such movements are fragile and tend to reverse once the temporary supply-demand imbalance is exhausted.\n                Concise Knowledge: If price volatility increases while volume intensity remains stagnant or decreases, the price movement is likely driven by liquidity gaps rather than fundamental conviction; When such 'hollow' volatility peaks, the probability of a mean-reversion to the previous 20-day value area increases.\n                concise Specification: The factor is calculated as the 5-day standard deviation of daily ranges ($high-$low) divided by the 20-day average volume, specifically targeting assets where the current price-volume correlation is negative or near zero to ensure orthogonality to trend-following signals.\n                ",
      "initial_direction": "Macro-regime sensitivity: Evaluate if the CORR20 signal's effectiveness shifts during high-volatility regimes (measured by VIX or ATR) compared to low-volatility consolidation phases.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Macro-regime sensitivity: Evaluate if the CORR20 signal's effectiveness shifts during high-volatility regimes (measured by VIX or ATR) compared to low-volatility consolidation phases.",
      "evolution_phase": "mutation",
      "trajectory_id": "ca595afd8043",
      "parent_trajectory_ids": [
        "569bf5cd5eb9"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0057672492670453,
        "ICIR": 0.0408660672545633,
        "RankIC": 0.0261975093804158,
        "RankICIR": 0.1882589995380309,
        "annualized_return": 0.0558446811463958,
        "information_ratio": 0.8596891429568351,
        "max_drawdown": -0.0632254502068216
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:15:34.861060",
      "updated_at": "2026-01-17T07:15:34.861066"
    },
    "b9875be6ef7bd575": {
      "factor_id": "b9875be6ef7bd575",
      "factor_name": "ZScore_Range_Volume_Imbalance",
      "factor_expression": "TS_ZSCORE(($high - $low) / ($volume + 1e-8), 20)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE(($high - $low) / ($volume + 1e-8), 20)\" # Your output factor expression will be filled in here\n    name = \"ZScore_Range_Volume_Imbalance\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Measures the standardized imbalance between price range volatility and volume. By using TS_ZSCORE, it identifies extreme 'liquidity vacuum' events relative to the asset's own history, which are historically prone to mean reversion.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Mean-Reverting Liquidity Vacuum (MRLV) factor, defined as the ratio of price range volatility to volume-weighted price stability, identifies short-term price exhaustion points where retail-driven noise lacks institutional support, signaling an imminent reversal.\n                Concise Observation: The parent strategy successfully captured institutional accumulation through high price-volume synchrony, but it failed to account for 'noisy' price spikes where high range-to-volume ratios actually signaled trend exhaustion rather than efficiency.\n                Concise Justification: High price ranges on low relative volume indicate a 'liquidity vacuum' where small trades move prices disproportionately; such movements are fragile and tend to reverse once the temporary supply-demand imbalance is exhausted.\n                Concise Knowledge: If price volatility increases while volume intensity remains stagnant or decreases, the price movement is likely driven by liquidity gaps rather than fundamental conviction; When such 'hollow' volatility peaks, the probability of a mean-reversion to the previous 20-day value area increases.\n                concise Specification: The factor is calculated as the 5-day standard deviation of daily ranges ($high-$low) divided by the 20-day average volume, specifically targeting assets where the current price-volume correlation is negative or near zero to ensure orthogonality to trend-following signals.\n                ",
      "initial_direction": "Macro-regime sensitivity: Evaluate if the CORR20 signal's effectiveness shifts during high-volatility regimes (measured by VIX or ATR) compared to low-volatility consolidation phases.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Macro-regime sensitivity: Evaluate if the CORR20 signal's effectiveness shifts during high-volatility regimes (measured by VIX or ATR) compared to low-volatility consolidation phases.",
      "evolution_phase": "mutation",
      "trajectory_id": "ca595afd8043",
      "parent_trajectory_ids": [
        "569bf5cd5eb9"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0057672492670453,
        "ICIR": 0.0408660672545633,
        "RankIC": 0.0261975093804158,
        "RankICIR": 0.1882589995380309,
        "annualized_return": 0.0558446811463958,
        "information_ratio": 0.8596891429568351,
        "max_drawdown": -0.0632254502068216
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:15:34.889105",
      "updated_at": "2026-01-17T07:15:34.889111"
    },
    "388b5b4490903e26": {
      "factor_id": "388b5b4490903e26",
      "factor_name": "ISA_Factor_10D",
      "factor_expression": "TS_CORR($close, $volume, 10) / (($high - $low) / ($volume + 1e-8) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_CORR($close, $volume, 10) / (($high - $low) / ($volume + 1e-8) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"ISA_Factor_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Institutional Stealth Absorption (ISA) factor: It identifies high-conviction directional moves with minimal price dispersion by calculating the 10-day correlation between price and volume, normalized by the range-to-volume ratio. High values suggest institutional accumulation with low market impact.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Stealth Absorption (ISA) factor, calculated as the 10-day correlation between price and volume divided by the 10-day ratio of high-low range to volume, identifies superior returns by isolating high-conviction directional moves that occur with minimal price dispersion.\n                Concise Observation: Parent strategies showed that while price-volume correlation (RankIC 0.028) and liquidity vacuum ratios (RankIC 0.026) are independently predictive, their intersection captures 'efficient' price discovery that avoids the mean-reversion traps of high-volatility exhaustion.\n                Concise Justification: Institutional buyers seek to minimize market impact, leading to high directional conviction (correlation) with compressed intra-day ranges relative to the volume traded (absorption), whereas retail-driven moves typically exhibit high range volatility and 'hollow' liquidity.\n                Concise Knowledge: If price-volume correlation is high while price-range volatility per unit of volume is low, then the asset is likely undergoing institutional accumulation; when these conditions diverge, price moves are often driven by retail noise or liquidity exhaustion.\n                concise Specification: The factor is defined as TS_CORR($close, $volume, 10) / (($high - $low) / $volume). It expects a positive relationship with future returns, where higher values indicate 'stealth' accumulation and lower values indicate either lack of conviction or volatile price exhaustion.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "b0acffbb7c07",
      "parent_trajectory_ids": [
        "e929c80ee882",
        "27bd4849a020"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0068294348773451,
        "ICIR": 0.0468938169997795,
        "RankIC": 0.0234412453878346,
        "RankICIR": 0.1634847987247056,
        "annualized_return": 0.0335898031429351,
        "information_ratio": 0.4671604333292865,
        "max_drawdown": -0.1349401268889269
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:30:01.084851",
      "updated_at": "2026-01-17T07:30:01.084858"
    },
    "2231f6a60e698a66": {
      "factor_id": "2231f6a60e698a66",
      "factor_name": "Ranked_ISA_Efficiency_15D",
      "factor_expression": "RANK(TS_CORR($close, $volume, 15)) * RANK($volume / ($high - $low + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_CORR($close, $volume, 15)) * RANK($volume / ($high - $low + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Ranked_ISA_Efficiency_15D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally ranked version of the ISA hypothesis using a 15-day window to capture more stable institutional trends. It measures the efficiency of price discovery by comparing price-volume synchronicity against the standardized price range per unit of volume.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Stealth Absorption (ISA) factor, calculated as the 10-day correlation between price and volume divided by the 10-day ratio of high-low range to volume, identifies superior returns by isolating high-conviction directional moves that occur with minimal price dispersion.\n                Concise Observation: Parent strategies showed that while price-volume correlation (RankIC 0.028) and liquidity vacuum ratios (RankIC 0.026) are independently predictive, their intersection captures 'efficient' price discovery that avoids the mean-reversion traps of high-volatility exhaustion.\n                Concise Justification: Institutional buyers seek to minimize market impact, leading to high directional conviction (correlation) with compressed intra-day ranges relative to the volume traded (absorption), whereas retail-driven moves typically exhibit high range volatility and 'hollow' liquidity.\n                Concise Knowledge: If price-volume correlation is high while price-range volatility per unit of volume is low, then the asset is likely undergoing institutional accumulation; when these conditions diverge, price moves are often driven by retail noise or liquidity exhaustion.\n                concise Specification: The factor is defined as TS_CORR($close, $volume, 10) / (($high - $low) / $volume). It expects a positive relationship with future returns, where higher values indicate 'stealth' accumulation and lower values indicate either lack of conviction or volatile price exhaustion.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "b0acffbb7c07",
      "parent_trajectory_ids": [
        "e929c80ee882",
        "27bd4849a020"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0068294348773451,
        "ICIR": 0.0468938169997795,
        "RankIC": 0.0234412453878346,
        "RankICIR": 0.1634847987247056,
        "annualized_return": 0.0335898031429351,
        "information_ratio": 0.4671604333292865,
        "max_drawdown": -0.1349401268889269
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:30:01.114625",
      "updated_at": "2026-01-17T07:30:01.114632"
    },
    "fcc42d3aade820ce": {
      "factor_id": "fcc42d3aade820ce",
      "factor_name": "Smoothed_Stealth_Accumulation_20D",
      "factor_expression": "TS_CORR($close, $volume, 20) / (TS_MEAN(($high - $low) / ($volume + 1e-8), 20) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_CORR($close, $volume, 20) / (TS_MEAN(($high - $low) / ($volume + 1e-8), 20) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Smoothed_Stealth_Accumulation_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor refines the ISA hypothesis by applying a 20-day moving average to the absorption ratio, focusing on sustained institutional activity rather than daily noise. It isolates assets where price-volume correlation is rising while the relative range remains compressed.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Stealth Absorption (ISA) factor, calculated as the 10-day correlation between price and volume divided by the 10-day ratio of high-low range to volume, identifies superior returns by isolating high-conviction directional moves that occur with minimal price dispersion.\n                Concise Observation: Parent strategies showed that while price-volume correlation (RankIC 0.028) and liquidity vacuum ratios (RankIC 0.026) are independently predictive, their intersection captures 'efficient' price discovery that avoids the mean-reversion traps of high-volatility exhaustion.\n                Concise Justification: Institutional buyers seek to minimize market impact, leading to high directional conviction (correlation) with compressed intra-day ranges relative to the volume traded (absorption), whereas retail-driven moves typically exhibit high range volatility and 'hollow' liquidity.\n                Concise Knowledge: If price-volume correlation is high while price-range volatility per unit of volume is low, then the asset is likely undergoing institutional accumulation; when these conditions diverge, price moves are often driven by retail noise or liquidity exhaustion.\n                concise Specification: The factor is defined as TS_CORR($close, $volume, 10) / (($high - $low) / $volume). It expects a positive relationship with future returns, where higher values indicate 'stealth' accumulation and lower values indicate either lack of conviction or volatile price exhaustion.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "b0acffbb7c07",
      "parent_trajectory_ids": [
        "e929c80ee882",
        "27bd4849a020"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0068294348773451,
        "ICIR": 0.0468938169997795,
        "RankIC": 0.0234412453878346,
        "RankICIR": 0.1634847987247056,
        "annualized_return": 0.0335898031429351,
        "information_ratio": 0.4671604333292865,
        "max_drawdown": -0.1349401268889269
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:30:01.144529",
      "updated_at": "2026-01-17T07:30:01.144537"
    },
    "8f1ace708a0c8bb4": {
      "factor_id": "8f1ace708a0c8bb4",
      "factor_name": "ILCF_Conviction_Exhaustion_20D",
      "factor_expression": "(($close - $open) / ($high - $low + 1e-8)) * (1 / (TS_CORR($close, $volume, 20) * (TS_STD($close, 14) / ($close + 1e-8)) + 1e-8)) * ($open / ($DELAY($close, 1) + 1e-8) - 1)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($close - $open) / ($high - $low + 1e-8)) * (1 / (TS_CORR($close, $volume, 20) * (TS_STD($close, 14) / ($close + 1e-8)) + 1e-8)) * ($open / (DELAY($close, 1) + 1e-8) - 1)\" # Your output factor expression will be filled in here\n    name = \"ILCF_Conviction_Exhaustion_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor implements the Institutional Liquidity-Conviction Framework by multiplying intraday price conviction (body-to-range ratio) by the inverse of price-volume exhaustion, scaled by the overnight liquidity gap. It identifies high-conviction institutional moves that are not yet exhausted by volume-price divergence.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Liquidity-Conviction Framework' (ILCF) generates alpha by multiplying the intraday conviction (daily price body relative to total range) by the inverse of price-volume exhaustion, scaled by overnight liquidity gaps and volatility.\n                Concise Observation: Parent 1 showed that intraday conviction (RankIC 0.022) captures institutional flow, while Parent 2's use of overnight gaps and ATR-scaled correlation (RankIC 0.031) identifies regime exhaustion and liquidity shifts.\n                Concise Justification: Fusing these identifies 'clean' institutional moves by filtering out exhausted trends, using the overnight gap as a liquidity catalyst and the ATR-scaled body-to-range ratio as a measure of directional intensity.\n                Concise Knowledge: If intraday price conviction is high but volume-price exhaustion is low, the trend is more likely to persist; when high conviction occurs alongside high exhaustion and significant overnight gaps, it signals a potential liquidity trap or reversal.\n                concise Specification: Factor = ((Close - Open) / (High - Low + 1e-6)) * (1 / (Rolling_Corr(Price, Volume, 20) * (ATR_14 / Close) + 1e-6)) * (Open / Close_prev - 1); using 20-day correlation and 14-day ATR.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "e913fda48832",
      "parent_trajectory_ids": [
        "adb31bc9b7cc",
        "c42ef4440166"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0078853278799918,
        "ICIR": 0.0553941332374025,
        "RankIC": 0.0244174710904535,
        "RankICIR": 0.1772463916351617,
        "annualized_return": 0.025702904391085,
        "information_ratio": 0.3521897160107543,
        "max_drawdown": -0.1178038015788236
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:35:18.290141",
      "updated_at": "2026-01-17T07:35:18.290148"
    },
    "c8a012389b01c1d7": {
      "factor_id": "c8a012389b01c1d7",
      "factor_name": "Ranked_ILCF_Simplified_15D",
      "factor_expression": "RANK(($close - $open) / ($high - $low + 1e-8)) * RANK(($open / ($DELAY($close, 1) + 1e-8)) - 1) * (1 - TS_CORR($close, $volume, 15))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($close - $open) / ($high - $low + 1e-8)) * RANK(($open / (DELAY($close, 1) + 1e-8)) - 1) * (1 - TS_CORR($close, $volume, 15))\" # Your output factor expression will be filled in here\n    name = \"Ranked_ILCF_Simplified_15D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally ranked version of the ILCF hypothesis, focusing on the interaction between intraday conviction and the overnight gap, normalized by price-volume correlation to filter out exhausted trends. It uses a 15-day window for stability.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Liquidity-Conviction Framework' (ILCF) generates alpha by multiplying the intraday conviction (daily price body relative to total range) by the inverse of price-volume exhaustion, scaled by overnight liquidity gaps and volatility.\n                Concise Observation: Parent 1 showed that intraday conviction (RankIC 0.022) captures institutional flow, while Parent 2's use of overnight gaps and ATR-scaled correlation (RankIC 0.031) identifies regime exhaustion and liquidity shifts.\n                Concise Justification: Fusing these identifies 'clean' institutional moves by filtering out exhausted trends, using the overnight gap as a liquidity catalyst and the ATR-scaled body-to-range ratio as a measure of directional intensity.\n                Concise Knowledge: If intraday price conviction is high but volume-price exhaustion is low, the trend is more likely to persist; when high conviction occurs alongside high exhaustion and significant overnight gaps, it signals a potential liquidity trap or reversal.\n                concise Specification: Factor = ((Close - Open) / (High - Low + 1e-6)) * (1 / (Rolling_Corr(Price, Volume, 20) * (ATR_14 / Close) + 1e-6)) * (Open / Close_prev - 1); using 20-day correlation and 14-day ATR.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "e913fda48832",
      "parent_trajectory_ids": [
        "adb31bc9b7cc",
        "c42ef4440166"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0078853278799918,
        "ICIR": 0.0553941332374025,
        "RankIC": 0.0244174710904535,
        "RankICIR": 0.1772463916351617,
        "annualized_return": 0.025702904391085,
        "information_ratio": 0.3521897160107543,
        "max_drawdown": -0.1178038015788236
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:35:18.318750",
      "updated_at": "2026-01-17T07:35:18.318756"
    },
    "0ee50e4633690b13": {
      "factor_id": "0ee50e4633690b13",
      "factor_name": "Institutional_Intensity_Index_20D",
      "factor_expression": "ZSCORE(($close - $open) / ($high - $low + 1e-8)) * (1 - TS_CORR($close, $volume, 20))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(($close - $open) / ($high - $low + 1e-8)) * (1 - TS_CORR($close, $volume, 20))\" # Your output factor expression will be filled in here\n    name = \"Institutional_Intensity_Index_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures directional intensity by scaling the intraday body-to-range ratio with the inverse of the rolling price-volume correlation. It targets 'clean' institutional flows where price movement is not accompanied by the volume exhaustion typically seen at trend peaks.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional Liquidity-Conviction Framework' (ILCF) generates alpha by multiplying the intraday conviction (daily price body relative to total range) by the inverse of price-volume exhaustion, scaled by overnight liquidity gaps and volatility.\n                Concise Observation: Parent 1 showed that intraday conviction (RankIC 0.022) captures institutional flow, while Parent 2's use of overnight gaps and ATR-scaled correlation (RankIC 0.031) identifies regime exhaustion and liquidity shifts.\n                Concise Justification: Fusing these identifies 'clean' institutional moves by filtering out exhausted trends, using the overnight gap as a liquidity catalyst and the ATR-scaled body-to-range ratio as a measure of directional intensity.\n                Concise Knowledge: If intraday price conviction is high but volume-price exhaustion is low, the trend is more likely to persist; when high conviction occurs alongside high exhaustion and significant overnight gaps, it signals a potential liquidity trap or reversal.\n                concise Specification: Factor = ((Close - Open) / (High - Low + 1e-6)) * (1 / (Rolling_Corr(Price, Volume, 20) * (ATR_14 / Close) + 1e-6)) * (Open / Close_prev - 1); using 20-day correlation and 14-day ATR.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "e913fda48832",
      "parent_trajectory_ids": [
        "adb31bc9b7cc",
        "c42ef4440166"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0078853278799918,
        "ICIR": 0.0553941332374025,
        "RankIC": 0.0244174710904535,
        "RankICIR": 0.1772463916351617,
        "annualized_return": 0.025702904391085,
        "information_ratio": 0.3521897160107543,
        "max_drawdown": -0.1178038015788236
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T07:35:18.349186",
      "updated_at": "2026-01-17T07:35:18.349192"
    },
    "2053467206340414": {
      "factor_id": "2053467206340414",
      "factor_name": "Institutional_Gap_Exhaustion_20D",
      "factor_expression": "(($open / DELAY($close, 1)) - 1) / (((TS_STD($volume, 20) / (TS_MEAN($volume, 20) + 1e-8)) / ((TS_STD($high - $low, 20) / (TS_MEAN($high - $low, 20) + 1e-8)) + 1e-8)) + 1e-8)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($open / DELAY($close, 1)) - 1) / (((TS_STD($volume, 20) / (TS_MEAN($volume, 20) + 1e-8)) / ((TS_STD($high - $low, 20) / (TS_MEAN($high - $low, 20) + 1e-8)) + 1e-8)) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Institutional_Gap_Exhaustion_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies mean-reversion opportunities by weighting the overnight gap with the inverse of the Institutional Commitment Persistence (ICP). ICP is defined as the ratio of volume volatility (CV) to price range volatility (CV). A high gap with low institutional commitment (high ICP inverse) suggests a retail-driven exhaustion gap likely to reverse.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional-Anchored Gap Exhaustion factor identifies mean-reversion opportunities by multiplying the overnight gap by the inverse of the Institutional Commitment Persistence (ICP) ratio, where ICP is the 20-day ratio of volume coefficient of variation to price range coefficient of variation.\n                Concise Observation: Parent strategies show that volume-price stability ratios (RankIC 0.022) and intraday-adjusted gaps (RankIC 0.025) both capture market conviction, but gaps often fail when they align with strong institutional trends.\n                Concise Justification: By weighting the overnight gap with the inverse of the ICP ratio, we suppress signals where institutional support is high (trend continuation) and amplify signals where gaps occur amidst speculative noise (mean reversion).\n                Concise Knowledge: If a price gap is accompanied by low institutional commitment (high price volatility relative to volume stability), it is likely a retail-driven exhaustion gap prone to reversal; conversely, high institutional commitment suggests a breakaway gap that persists.\n                concise Specification: Calculate the overnight gap (Open/Close_prev - 1), the ICP ratio (std(volume)/mean(volume) divided by std(high-low)/mean(high-low) over 20 days), and define the factor as Gap / ICP_20d.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "dc81b9f456d5",
      "parent_trajectory_ids": [
        "7a86a1bcdb62",
        "db4bb8b2509e"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0064552567567684,
        "ICIR": 0.0489313919474272,
        "RankIC": 0.0243504580851714,
        "RankICIR": 0.1871340713676423,
        "annualized_return": 0.0702566002458133,
        "information_ratio": 1.074291924942996,
        "max_drawdown": -0.0971841268829109
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:11:30.903168",
      "updated_at": "2026-01-17T08:11:30.903175"
    },
    "31c17d6a34d909b4": {
      "factor_id": "31c17d6a34d909b4",
      "factor_name": "Ranked_Gap_Institutional_Reversion_20D",
      "factor_expression": "RANK(($open / DELAY($close, 1)) - 1) * RANK((TS_STD($high - $low, 20) / (TS_MEAN($high - $low, 20) + 1e-8)) / ((TS_STD($volume, 20) / (TS_MEAN($volume, 20) + 1e-8)) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($open / DELAY($close, 1)) - 1) * RANK((TS_STD($high - $low, 20) / (TS_MEAN($high - $low, 20) + 1e-8)) / ((TS_STD($volume, 20) / (TS_MEAN($volume, 20) + 1e-8)) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Ranked_Gap_Institutional_Reversion_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally robust version of the Institutional Gap Exhaustion factor. It compares the overnight gap against the relative stability of volume versus price range. By using RANK, it normalizes the gap and the institutional commitment ratio to identify the most significant mean-reversion candidates across the universe.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional-Anchored Gap Exhaustion factor identifies mean-reversion opportunities by multiplying the overnight gap by the inverse of the Institutional Commitment Persistence (ICP) ratio, where ICP is the 20-day ratio of volume coefficient of variation to price range coefficient of variation.\n                Concise Observation: Parent strategies show that volume-price stability ratios (RankIC 0.022) and intraday-adjusted gaps (RankIC 0.025) both capture market conviction, but gaps often fail when they align with strong institutional trends.\n                Concise Justification: By weighting the overnight gap with the inverse of the ICP ratio, we suppress signals where institutional support is high (trend continuation) and amplify signals where gaps occur amidst speculative noise (mean reversion).\n                Concise Knowledge: If a price gap is accompanied by low institutional commitment (high price volatility relative to volume stability), it is likely a retail-driven exhaustion gap prone to reversal; conversely, high institutional commitment suggests a breakaway gap that persists.\n                concise Specification: Calculate the overnight gap (Open/Close_prev - 1), the ICP ratio (std(volume)/mean(volume) divided by std(high-low)/mean(high-low) over 20 days), and define the factor as Gap / ICP_20d.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "dc81b9f456d5",
      "parent_trajectory_ids": [
        "7a86a1bcdb62",
        "db4bb8b2509e"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0064552567567684,
        "ICIR": 0.0489313919474272,
        "RankIC": 0.0243504580851714,
        "RankICIR": 0.1871340713676423,
        "annualized_return": 0.0702566002458133,
        "information_ratio": 1.074291924942996,
        "max_drawdown": -0.0971841268829109
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:11:30.933185",
      "updated_at": "2026-01-17T08:11:30.933191"
    },
    "3bb4752cea3296f5": {
      "factor_id": "3bb4752cea3296f5",
      "factor_name": "Smoothed_Institutional_Gap_Exhaustion_10D",
      "factor_expression": "(($open / DELAY($close, 1)) - 1) / SMA((TS_STD($volume, 20) / (TS_MEAN($volume, 20) + 1e-8)) / ((TS_STD($high - $low, 20) / (TS_MEAN($high - $low, 20) + 1e-8)) + 1e-8), 10, 1)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($open / DELAY($close, 1)) - 1) / SMA((TS_STD($volume, 20) / (TS_MEAN($volume, 20) + 1e-8)) / ((TS_STD($high - $low, 20) / (TS_MEAN($high - $low, 20) + 1e-8)) + 1e-8), 10, 1)\" # Your output factor expression will be filled in here\n    name = \"Smoothed_Institutional_Gap_Exhaustion_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor applies a 10-day simple moving average to the Institutional Commitment Persistence ratio to provide a more stable signal of institutional anchoring, reducing noise in the gap exhaustion identification.",
      "experiment_id": "2026-01-16_17-22-57-898541",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional-Anchored Gap Exhaustion factor identifies mean-reversion opportunities by multiplying the overnight gap by the inverse of the Institutional Commitment Persistence (ICP) ratio, where ICP is the 20-day ratio of volume coefficient of variation to price range coefficient of variation.\n                Concise Observation: Parent strategies show that volume-price stability ratios (RankIC 0.022) and intraday-adjusted gaps (RankIC 0.025) both capture market conviction, but gaps often fail when they align with strong institutional trends.\n                Concise Justification: By weighting the overnight gap with the inverse of the ICP ratio, we suppress signals where institutional support is high (trend continuation) and amplify signals where gaps occur amidst speculative noise (mean reversion).\n                Concise Knowledge: If a price gap is accompanied by low institutional commitment (high price volatility relative to volume stability), it is likely a retail-driven exhaustion gap prone to reversal; conversely, high institutional commitment suggests a breakaway gap that persists.\n                concise Specification: Calculate the overnight gap (Open/Close_prev - 1), the ICP ratio (std(volume)/mean(volume) divided by std(high-low)/mean(high-low) over 20 days), and define the factor as Gap / ICP_20d.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合1包含RSQR10（表达式：Rsquare(, 10)，含义：10日价格线性回归R²，反映中期趋势稳定性）、KLEN（表达式：(-)/，含义：日内K线总长度，衡量价格波动幅度）、WVMA5（表达式：Std(Abs(/Ref(, 1)-1)*, 5)/(Mean(Abs(/Ref(, 1)-1)*, 5)+1e-12)，含义：5日成交量加权价格波动率，反映量价共振）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "dc81b9f456d5",
      "parent_trajectory_ids": [
        "7a86a1bcdb62",
        "db4bb8b2509e"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0064552567567684,
        "ICIR": 0.0489313919474272,
        "RankIC": 0.0243504580851714,
        "RankICIR": 0.1871340713676423,
        "annualized_return": 0.0702566002458133,
        "information_ratio": 1.074291924942996,
        "max_drawdown": -0.0971841268829109
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:11:30.963158",
      "updated_at": "2026-01-17T08:11:30.963164"
    },
    "b9a08347802a4c0a": {
      "factor_id": "b9a08347802a4c0a",
      "factor_name": "SLVR_Structural_Exhaustion_5D",
      "factor_expression": "RANK(($high - $low) / ($volume + 1e-5)) * RANK(TS_CORR($close, $volume, 20)) * ZSCORE(ABS($return) / ($volume + 1e-5))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN(($high - $low) / ($volume + 1e-9), 5)) * RANK(TS_CORR($close, $volume, 20)) * ZSCORE(TS_MEAN(ABS(TS_PCTCHANGE($close, 1)) / ($volume + 1e-9), 5))\" # Your output factor expression will be filled in here\n    name = \"SLVR_Structural_Exhaustion_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "The Structural Liquidity Vacuum Reversal (SLVR) factor identifies mean-reversion signals by combining intraday price dispersion, price-volume correlation decay, and illiquidity. This version focuses on the 5-day interaction between range-to-volume and Amihud illiquidity, moderated by the 20-day price-volume correlation to identify unsustainable exhaustion.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Structural Liquidity Vacuum Reversal (SLVR) factor identifies mean-reversion signals by multiplying the 5-day intraday price dispersion (High-Low range normalized by Volume) with the 20-day negative price-volume correlation, further scaled by a 5-day Amihud Illiquidity Z-score.\n                Concise Observation: Parent 1 successfully captured intraday exhaustion (RankIC 0.0268) and Parent 2 captured structural decay (RankIC 0.0266), but both suffer from false positives during high-volume trend breakouts where price-volume synergy remains intact.\n                Concise Justification: Fusing these metrics ensures that high volatility is only traded as a reversal if it lacks structural support (negative correlation) and occurs in a high-impact environment (Amihud), filtering out healthy trend continuations.\n                Concise Knowledge: If extreme intraday price volatility occurs while price-volume synergy is decaying and illiquidity is peaking, then the price movement is likely a 'liquidity vacuum' spike prone to reversal; When high range-to-volume ratios coincide with negative price-volume correlation, market participants are exhausted.\n                concise Specification: The factor is defined as: Rank((High-Low)/(Volume+1e-5), 5) * Rank(Correlation(Close, Volume, 20), 20) * ZScore((Abs(Return)/Volume), 5). It expects a negative relationship with future returns as high values indicate unsustainable exhaustion.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "38ef9400abf2",
      "parent_trajectory_ids": [
        "0b251d2e379b",
        "8b31cd9afab3"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0067035766755135,
        "ICIR": 0.0465146591916888,
        "RankIC": 0.0229687226052108,
        "RankICIR": 0.1598980304505583,
        "annualized_return": 0.006762518040761,
        "information_ratio": 0.0919589333845521,
        "max_drawdown": -0.1258508606308615
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:15:46.032114",
      "updated_at": "2026-01-17T08:15:46.032121"
    },
    "344815c17b246ca5": {
      "factor_id": "344815c17b246ca5",
      "factor_name": "Liquidity_Vacuum_Intensity_10D",
      "factor_expression": "RANK(TS_MEAN(($high - $low) / ($volume + 1e-5), 5)) * RANK(TS_CORR($close, $volume, 10))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(RANK(TS_MEAN(($high - $low) / ($volume + 1e-5), 5)) * RANK(1 - TS_CORR($close, $volume, 10)))\" # Your output factor expression will be filled in here\n    name = \"Liquidity_Vacuum_Intensity_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the SLVR hypothesis that measures the intensity of a liquidity vacuum. It captures the divergence between price volatility and volume support, specifically looking for high range/volume ratios when price-volume correlation is low (exhaustion), standardized cross-sectionally.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Structural Liquidity Vacuum Reversal (SLVR) factor identifies mean-reversion signals by multiplying the 5-day intraday price dispersion (High-Low range normalized by Volume) with the 20-day negative price-volume correlation, further scaled by a 5-day Amihud Illiquidity Z-score.\n                Concise Observation: Parent 1 successfully captured intraday exhaustion (RankIC 0.0268) and Parent 2 captured structural decay (RankIC 0.0266), but both suffer from false positives during high-volume trend breakouts where price-volume synergy remains intact.\n                Concise Justification: Fusing these metrics ensures that high volatility is only traded as a reversal if it lacks structural support (negative correlation) and occurs in a high-impact environment (Amihud), filtering out healthy trend continuations.\n                Concise Knowledge: If extreme intraday price volatility occurs while price-volume synergy is decaying and illiquidity is peaking, then the price movement is likely a 'liquidity vacuum' spike prone to reversal; When high range-to-volume ratios coincide with negative price-volume correlation, market participants are exhausted.\n                concise Specification: The factor is defined as: Rank((High-Low)/(Volume+1e-5), 5) * Rank(Correlation(Close, Volume, 20), 20) * ZScore((Abs(Return)/Volume), 5). It expects a negative relationship with future returns as high values indicate unsustainable exhaustion.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "38ef9400abf2",
      "parent_trajectory_ids": [
        "0b251d2e379b",
        "8b31cd9afab3"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0067035766755135,
        "ICIR": 0.0465146591916888,
        "RankIC": 0.0229687226052108,
        "RankICIR": 0.1598980304505583,
        "annualized_return": 0.006762518040761,
        "information_ratio": 0.0919589333845521,
        "max_drawdown": -0.1258508606308615
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:15:46.061947",
      "updated_at": "2026-01-17T08:15:46.061953"
    },
    "adb04d205aaddcce": {
      "factor_id": "adb04d205aaddcce",
      "factor_name": "Amihud_Exhaustion_Reversal_20D",
      "factor_expression": "RANK(TS_ZSCORE(ABS($return) / ($volume + 1e-5), 5)) * RANK(TS_CORR($close, $volume, 20))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_ZSCORE(ABS(TS_PCTCHANGE($close, 1)) / ($volume + 1e-5), 5)) * RANK(TS_CORR($close, $volume, 20))\" # Your output factor expression will be filled in here\n    name = \"Amihud_Exhaustion_Reversal_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor targets the 'Illiquidity Z-score' component of the SLVR hypothesis. It identifies stocks where the current return-to-volume ratio (Amihud Illiquidity) is an outlier relative to its own history, filtered by the 20-day price-volume trend to catch reversal points.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Structural Liquidity Vacuum Reversal (SLVR) factor identifies mean-reversion signals by multiplying the 5-day intraday price dispersion (High-Low range normalized by Volume) with the 20-day negative price-volume correlation, further scaled by a 5-day Amihud Illiquidity Z-score.\n                Concise Observation: Parent 1 successfully captured intraday exhaustion (RankIC 0.0268) and Parent 2 captured structural decay (RankIC 0.0266), but both suffer from false positives during high-volume trend breakouts where price-volume synergy remains intact.\n                Concise Justification: Fusing these metrics ensures that high volatility is only traded as a reversal if it lacks structural support (negative correlation) and occurs in a high-impact environment (Amihud), filtering out healthy trend continuations.\n                Concise Knowledge: If extreme intraday price volatility occurs while price-volume synergy is decaying and illiquidity is peaking, then the price movement is likely a 'liquidity vacuum' spike prone to reversal; When high range-to-volume ratios coincide with negative price-volume correlation, market participants are exhausted.\n                concise Specification: The factor is defined as: Rank((High-Low)/(Volume+1e-5), 5) * Rank(Correlation(Close, Volume, 20), 20) * ZScore((Abs(Return)/Volume), 5). It expects a negative relationship with future returns as high values indicate unsustainable exhaustion.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "38ef9400abf2",
      "parent_trajectory_ids": [
        "0b251d2e379b",
        "8b31cd9afab3"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0067035766755135,
        "ICIR": 0.0465146591916888,
        "RankIC": 0.0229687226052108,
        "RankICIR": 0.1598980304505583,
        "annualized_return": 0.006762518040761,
        "information_ratio": 0.0919589333845521,
        "max_drawdown": -0.1258508606308615
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:15:46.091344",
      "updated_at": "2026-01-17T08:15:46.091350"
    },
    "2271e15798e03902": {
      "factor_id": "2271e15798e03902",
      "factor_name": "IRSF_Structural_Friction_5D",
      "factor_expression": "ZSCORE((($high - $low) / $close) / ($volume / (TS_MEAN($volume, 20) + 1e-8))) * (-1 * TS_CORR($return, DELTA($volume, 1), 20)) * ZSCORE(ABS($return) / ($volume + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(($high - $low) / ($volume / TS_MEAN($volume, 20))) * (-1 * TS_CORR(TS_PCTCHANGE($close, 1), DELTA($volume, 1), 20)) * ZSCORE(ABS(TS_PCTCHANGE($close, 1)) / $volume)\" # Your output factor expression will be filled in here\n    name = \"IRSF_Structural_Friction_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "The Institutional-Retail Structural Friction (IRSF) factor identifies high-probability reversals by combining a 5-day Mean-Reverting Liquidity Vacuum (MRLV) with 20-day price-volume divergence, scaled by the Amihud Illiquidity Z-score. It targets 'hollow' volatility spikes in thin markets where price moves lack institutional support.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional-Retail Structural Friction' (IRSF) factor identifies high-probability reversals by multiplying the 5-day Mean-Reverting Liquidity Vacuum (MRLV) with the 20-day negative price-volume correlation, weighted by the 5-day Amihud Illiquidity Z-score.\n                Concise Observation: Parent 1's MRLV (RankIC 0.0262) captures micro-exhaustion, while Parent 2's divergence (RankIC 0.0266) captures structural decay; combining them targets 'hollow' volatility spikes in thin markets where price discovery is inefficient.\n                Concise Justification: The MRLV identifies the 'exhaustion' trigger, while the negative price-volume correlation ensures the move is a 'divergence' from fundamental accumulation, and the Amihud Z-score scales the signal by the difficulty of price maintenance in low-liquidity environments.\n                Concise Knowledge: If short-term price range expansion occurs on declining relative volume (Liquidity Vacuum) while the medium-term trend shows negative price-volume correlation, the price move is likely retail-driven and prone to reversal; when these conditions coincide with high illiquidity, the mean-reversion effect is amplified due to the lack of institutional support.\n                concise Specification: Define MRLV as (High-Low)/Close divided by (Volume/SMA(Volume,20)) over 5 days; calculate the 20-day correlation between daily returns and volume changes; multiply the Z-scored MRLV by the negative correlation and the 5-day Amihud Illiquidity ratio (abs(return)/volume).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "b7098cdae6bc",
      "parent_trajectory_ids": [
        "e929c80ee882",
        "8b31cd9afab3"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0073375787075466,
        "ICIR": 0.0532128482617706,
        "RankIC": 0.024067797281387,
        "RankICIR": 0.1764820283550209,
        "annualized_return": 0.078373715075335,
        "information_ratio": 1.099977462153051,
        "max_drawdown": -0.1230286729484408
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:22:28.165735",
      "updated_at": "2026-01-17T08:22:28.165742"
    },
    "348629c09066e01e": {
      "factor_id": "348629c09066e01e",
      "factor_name": "MRLV_Exhaustion_Trigger",
      "factor_expression": "RANK(($high - $low) / $close) * RANK(TS_MEAN($volume, 20) / ($volume + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($high - $low) / $close) * RANK(TS_MEAN($volume, 20) / ($volume + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"MRLV_Exhaustion_Trigger\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A simplified version of the Mean-Reverting Liquidity Vacuum (MRLV) focusing on micro-exhaustion. It measures price range expansion relative to normalized volume, identifying instances where price moves are 'thin' and likely to reverse due to lack of liquidity depth.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional-Retail Structural Friction' (IRSF) factor identifies high-probability reversals by multiplying the 5-day Mean-Reverting Liquidity Vacuum (MRLV) with the 20-day negative price-volume correlation, weighted by the 5-day Amihud Illiquidity Z-score.\n                Concise Observation: Parent 1's MRLV (RankIC 0.0262) captures micro-exhaustion, while Parent 2's divergence (RankIC 0.0266) captures structural decay; combining them targets 'hollow' volatility spikes in thin markets where price discovery is inefficient.\n                Concise Justification: The MRLV identifies the 'exhaustion' trigger, while the negative price-volume correlation ensures the move is a 'divergence' from fundamental accumulation, and the Amihud Z-score scales the signal by the difficulty of price maintenance in low-liquidity environments.\n                Concise Knowledge: If short-term price range expansion occurs on declining relative volume (Liquidity Vacuum) while the medium-term trend shows negative price-volume correlation, the price move is likely retail-driven and prone to reversal; when these conditions coincide with high illiquidity, the mean-reversion effect is amplified due to the lack of institutional support.\n                concise Specification: Define MRLV as (High-Low)/Close divided by (Volume/SMA(Volume,20)) over 5 days; calculate the 20-day correlation between daily returns and volume changes; multiply the Z-scored MRLV by the negative correlation and the 5-day Amihud Illiquidity ratio (abs(return)/volume).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "b7098cdae6bc",
      "parent_trajectory_ids": [
        "e929c80ee882",
        "8b31cd9afab3"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0073375787075466,
        "ICIR": 0.0532128482617706,
        "RankIC": 0.024067797281387,
        "RankICIR": 0.1764820283550209,
        "annualized_return": 0.078373715075335,
        "information_ratio": 1.099977462153051,
        "max_drawdown": -0.1230286729484408
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:22:28.195795",
      "updated_at": "2026-01-17T08:22:28.195801"
    },
    "935737e4c24adabd": {
      "factor_id": "935737e4c24adabd",
      "factor_name": "Amihud_Divergence_Reversal",
      "factor_expression": "(-1 * TS_CORR($return, DELTA($volume, 1), 20)) * RANK(ABS($return) / ($volume + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(-1 * TS_CORR(TS_PCTCHANGE($close, 1), DELTA($volume, 1), 20)) * RANK(ABS(TS_PCTCHANGE($close, 1)) / ($volume + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Amihud_Divergence_Reversal\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures structural decay by multiplying the negative correlation between returns and volume changes with the cross-sectional rank of the Amihud illiquidity ratio. It highlights assets where price trends are diverging from volume support in illiquid conditions.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Institutional-Retail Structural Friction' (IRSF) factor identifies high-probability reversals by multiplying the 5-day Mean-Reverting Liquidity Vacuum (MRLV) with the 20-day negative price-volume correlation, weighted by the 5-day Amihud Illiquidity Z-score.\n                Concise Observation: Parent 1's MRLV (RankIC 0.0262) captures micro-exhaustion, while Parent 2's divergence (RankIC 0.0266) captures structural decay; combining them targets 'hollow' volatility spikes in thin markets where price discovery is inefficient.\n                Concise Justification: The MRLV identifies the 'exhaustion' trigger, while the negative price-volume correlation ensures the move is a 'divergence' from fundamental accumulation, and the Amihud Z-score scales the signal by the difficulty of price maintenance in low-liquidity environments.\n                Concise Knowledge: If short-term price range expansion occurs on declining relative volume (Liquidity Vacuum) while the medium-term trend shows negative price-volume correlation, the price move is likely retail-driven and prone to reversal; when these conditions coincide with high illiquidity, the mean-reversion effect is amplified due to the lack of institutional support.\n                concise Specification: Define MRLV as (High-Low)/Close divided by (Volume/SMA(Volume,20)) over 5 days; calculate the 20-day correlation between daily returns and volume changes; multiply the Z-scored MRLV by the negative correlation and the 5-day Amihud Illiquidity ratio (abs(return)/volume).\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "b7098cdae6bc",
      "parent_trajectory_ids": [
        "e929c80ee882",
        "8b31cd9afab3"
      ],
      "is_sota": true,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0073375787075466,
        "ICIR": 0.0532128482617706,
        "RankIC": 0.024067797281387,
        "RankICIR": 0.1764820283550209,
        "annualized_return": 0.078373715075335,
        "information_ratio": 1.099977462153051,
        "max_drawdown": -0.1230286729484408
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:22:28.225565",
      "updated_at": "2026-01-17T08:22:28.225571"
    },
    "f69a4064a16066fa": {
      "factor_id": "f69a4064a16066fa",
      "factor_name": "Friction_Discovery_V1",
      "factor_expression": "TS_CORR($close, $volume, 20) * (ABS($open / DELAY($close, 1) - 1) / (TS_MEAN($high - $low, 14) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_CORR($close, $volume, 20) * (ABS($open / DELAY($close, 1) - 1) / (TS_MEAN($high - $low, 14) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Friction_Discovery_V1\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor measures the interaction between price discovery efficiency and structural liquidity. It multiplies the 20-day price-volume correlation by the normalized overnight gap. The gap is normalized by the 14-day Average True Range (ATR) to identify if overnight information shocks are supported by intraday liquidity capacity.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Friction-Adjusted Discovery' factor, calculated as the product of the 20-day price-volume correlation and the ratio of the absolute overnight gap to the 14-day Average True Range, identifies assets where overnight information is inefficiently integrated into intraday liquidity, predicting short-term price reversals or continuations based on the magnitude of this friction.\n                Concise Observation: Parent 1 showed that overnight gaps relative to intraday volatility capture diffusion lags (RankIC 0.021), while Parent 2 demonstrated that price-volume correlation scaled by ATR identifies high-conviction liquidity states (RankIC 0.031).\n                Concise Justification: The fusion leverages price-volume correlation as a proxy for structural liquidity and ATR as a volatility normalizer, ensuring that the overnight 'information shock' is measured against the asset's current capacity to process information without excessive slippage or exhaustion.\n                Concise Knowledge: If a significant overnight price gap is not supported by a corresponding intraday price-volume correlation relative to historical volatility (ATR), the price discovery is considered incomplete or 'frictional'; when this friction is high, the asset is prone to mean-reversion as liquidity eventually absorbs the information shock.\n                concise Specification: The factor is defined as (Correlation($close, $volume, 20) * (Abs($open / Delay($close, 1) - 1) / ATR(14))), where ATR is the 14-day rolling average of (High - Low); a high value indicates high-conviction information diffusion, while a low value suggests a lack of liquidity support for the price move.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "16f63ed20036",
      "parent_trajectory_ids": [
        "ddd892827174",
        "c42ef4440166"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0068032163816015,
        "ICIR": 0.0463246430445467,
        "RankIC": 0.0236913075245471,
        "RankICIR": 0.1659601070478587,
        "annualized_return": 0.0230248837679552,
        "information_ratio": 0.3111210249824456,
        "max_drawdown": -0.179194916529402
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:33:02.118815",
      "updated_at": "2026-01-17T08:33:02.118821"
    },
    "5981b3cc0eeb6c45": {
      "factor_id": "5981b3cc0eeb6c45",
      "factor_name": "Ranked_Friction_Discovery_14D",
      "factor_expression": "RANK(TS_CORR($close, $volume, 14)) * RANK(ABS($open - DELAY($close, 1)) / (TS_MEAN($high - $low, 14) + 1e-8))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_CORR($close, $volume, 14)) * RANK(ABS($open - DELAY($close, 1)) / (TS_MEAN($high - $low, 14) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Ranked_Friction_Discovery_14D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "A cross-sectionally ranked version of the friction-adjusted discovery factor. It evaluates the relative intensity of overnight information shocks against liquidity (proxied by price-volume correlation) and volatility (ATR). High values indicate high-conviction diffusion, while low values suggest frictional discovery prone to reversal.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Friction-Adjusted Discovery' factor, calculated as the product of the 20-day price-volume correlation and the ratio of the absolute overnight gap to the 14-day Average True Range, identifies assets where overnight information is inefficiently integrated into intraday liquidity, predicting short-term price reversals or continuations based on the magnitude of this friction.\n                Concise Observation: Parent 1 showed that overnight gaps relative to intraday volatility capture diffusion lags (RankIC 0.021), while Parent 2 demonstrated that price-volume correlation scaled by ATR identifies high-conviction liquidity states (RankIC 0.031).\n                Concise Justification: The fusion leverages price-volume correlation as a proxy for structural liquidity and ATR as a volatility normalizer, ensuring that the overnight 'information shock' is measured against the asset's current capacity to process information without excessive slippage or exhaustion.\n                Concise Knowledge: If a significant overnight price gap is not supported by a corresponding intraday price-volume correlation relative to historical volatility (ATR), the price discovery is considered incomplete or 'frictional'; when this friction is high, the asset is prone to mean-reversion as liquidity eventually absorbs the information shock.\n                concise Specification: The factor is defined as (Correlation($close, $volume, 20) * (Abs($open / Delay($close, 1) - 1) / ATR(14))), where ATR is the 14-day rolling average of (High - Low); a high value indicates high-conviction information diffusion, while a low value suggests a lack of liquidity support for the price move.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "16f63ed20036",
      "parent_trajectory_ids": [
        "ddd892827174",
        "c42ef4440166"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0068032163816015,
        "ICIR": 0.0463246430445467,
        "RankIC": 0.0236913075245471,
        "RankICIR": 0.1659601070478587,
        "annualized_return": 0.0230248837679552,
        "information_ratio": 0.3111210249824456,
        "max_drawdown": -0.179194916529402
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:33:02.149668",
      "updated_at": "2026-01-17T08:33:02.149674"
    },
    "89652c4e5155f48b": {
      "factor_id": "89652c4e5155f48b",
      "factor_name": "Discovery_Efficiency_ZScore",
      "factor_expression": "TS_CORR($return, $volume, 20) * TS_ZSCORE(($open - DELAY($close, 1)) / ($high - $low + 1e-8), 20)",
      "factor_implementation_code": "",
      "factor_description": "This factor standardizes the overnight gap by the recent volatility range and scales it by the sign of the price-volume relationship. It aims to identify 'exhaustion' gaps where the price move lacks the liquidity support required for continuation, using a 20-day window for stability.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The 'Friction-Adjusted Discovery' factor, calculated as the product of the 20-day price-volume correlation and the ratio of the absolute overnight gap to the 14-day Average True Range, identifies assets where overnight information is inefficiently integrated into intraday liquidity, predicting short-term price reversals or continuations based on the magnitude of this friction.\n                Concise Observation: Parent 1 showed that overnight gaps relative to intraday volatility capture diffusion lags (RankIC 0.021), while Parent 2 demonstrated that price-volume correlation scaled by ATR identifies high-conviction liquidity states (RankIC 0.031).\n                Concise Justification: The fusion leverages price-volume correlation as a proxy for structural liquidity and ATR as a volatility normalizer, ensuring that the overnight 'information shock' is measured against the asset's current capacity to process information without excessive slippage or exhaustion.\n                Concise Knowledge: If a significant overnight price gap is not supported by a corresponding intraday price-volume correlation relative to historical volatility (ATR), the price discovery is considered incomplete or 'frictional'; when this friction is high, the asset is prone to mean-reversion as liquidity eventually absorbs the information shock.\n                concise Specification: The factor is defined as (Correlation($close, $volume, 20) * (Abs($open / Delay($close, 1) - 1) / ATR(14))), where ATR is the 14-day rolling average of (High - Low); a high value indicates high-conviction information diffusion, while a low value suggests a lack of liquidity support for the price move.\n                ",
      "initial_direction": "",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "",
      "evolution_phase": "crossover",
      "trajectory_id": "16f63ed20036",
      "parent_trajectory_ids": [
        "ddd892827174",
        "c42ef4440166"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.0068032163816015,
        "ICIR": 0.0463246430445467,
        "RankIC": 0.0236913075245471,
        "RankICIR": 0.1659601070478587,
        "annualized_return": 0.0230248837679552,
        "information_ratio": 0.3111210249824456,
        "max_drawdown": -0.179194916529402
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:33:02.179825",
      "updated_at": "2026-01-17T08:33:02.179831"
    },
    "164030fafe4ad9c9": {
      "factor_id": "164030fafe4ad9c9",
      "factor_name": "Institutional_Flow_Persistence_20D",
      "factor_expression": "TS_MEAN(($close - $open) / ($high - $low + 1e-8) * (1 + TS_PCTCHANGE($volume, 5)), 20)",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN(($close - $open) / ($high - $low + 1e-8) * (1 + TS_PCTCHANGE($volume, 5)), 20)\" # Your output factor expression will be filled in here\n    name = \"Institutional_Flow_Persistence_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor captures institutional conviction by measuring the average intraday price positioning (Close-Open relative to High-Low) weighted by the 5-day volume trend, identifying persistent directional flow.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Order-Flow Persistence Factor (IOPF) predicts medium-term momentum by identifying directional conviction through the interaction of price-volume skewness and the consistency of volume-weighted price positioning.\n                Concise Observation: The parent strategy focused on short-term reversal via liquidity exhaustion (low price-volume correlation), but market data often shows that high-volume price trends exhibit significant multi-day autocorrelation driven by institutional execution cycles.\n                Concise Justification: Institutional investors execute large orders over multiple days to minimize market impact, creating a 'footprint' of persistent price-volume convergence and positive skewness that signals sustainable momentum rather than temporary exhaustion.\n                Concise Knowledge: If a stock's closing price consistently stays above its daily volume-weighted mean while volume growth remains stable, it indicates informed institutional accumulation; When price-volume skewness is positive, it reflects aggressive buyer dominance that tends to persist over a 20-day horizon.\n                concise Specification: The factor will measure the 20-day average of the ratio between (Close - Open) and (High - Low), weighted by the 5-day volume trend consistency, and filtered by the 10-day skewness of the daily returns to capture 'aggressive' trend-following behavior.\n                ",
      "initial_direction": "Long-term reversal conditioning on liquidity stability: Test if ROC60's predictive power for mean reversion is enhanced when VSTD5 is in the lowest decile, indicating institutional accumulation.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Long-term reversal conditioning on liquidity stability: Test if ROC60's predictive power for mean reversion is enhanced when VSTD5 is in the lowest decile, indicating institutional accumulation.",
      "evolution_phase": "mutation",
      "trajectory_id": "b93f2f9e6772",
      "parent_trajectory_ids": [
        "039e160d1be5"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.008357476501947,
        "ICIR": 0.0521638560501109,
        "RankIC": 0.0249339747014853,
        "RankICIR": 0.1601932835174474,
        "annualized_return": 0.0416185481785047,
        "information_ratio": 0.5441338713529469,
        "max_drawdown": -0.1387524028453887
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:41:46.945249",
      "updated_at": "2026-01-17T08:41:46.945258"
    },
    "e8edb408831788e7": {
      "factor_id": "e8edb408831788e7",
      "factor_name": "Aggressive_Skew_Momentum_10D",
      "factor_expression": "RANK(TS_MEAN(($close - $low) / ($high - $low + 1e-8), 10)) * SIGN(SKEW($return))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN(($close - $low) / ($high - $low + 1e-8), 10)) * SIGN(SKEW($close / DELAY($close, 1) - 1))\" # Your output factor expression will be filled in here\n    name = \"Aggressive_Skew_Momentum_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "This factor identifies aggressive trend-following behavior by combining cross-sectional return skewness with the consistency of price relative to its recent range, signaling institutional dominance.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Order-Flow Persistence Factor (IOPF) predicts medium-term momentum by identifying directional conviction through the interaction of price-volume skewness and the consistency of volume-weighted price positioning.\n                Concise Observation: The parent strategy focused on short-term reversal via liquidity exhaustion (low price-volume correlation), but market data often shows that high-volume price trends exhibit significant multi-day autocorrelation driven by institutional execution cycles.\n                Concise Justification: Institutional investors execute large orders over multiple days to minimize market impact, creating a 'footprint' of persistent price-volume convergence and positive skewness that signals sustainable momentum rather than temporary exhaustion.\n                Concise Knowledge: If a stock's closing price consistently stays above its daily volume-weighted mean while volume growth remains stable, it indicates informed institutional accumulation; When price-volume skewness is positive, it reflects aggressive buyer dominance that tends to persist over a 20-day horizon.\n                concise Specification: The factor will measure the 20-day average of the ratio between (Close - Open) and (High - Low), weighted by the 5-day volume trend consistency, and filtered by the 10-day skewness of the daily returns to capture 'aggressive' trend-following behavior.\n                ",
      "initial_direction": "Long-term reversal conditioning on liquidity stability: Test if ROC60's predictive power for mean reversion is enhanced when VSTD5 is in the lowest decile, indicating institutional accumulation.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Long-term reversal conditioning on liquidity stability: Test if ROC60's predictive power for mean reversion is enhanced when VSTD5 is in the lowest decile, indicating institutional accumulation.",
      "evolution_phase": "mutation",
      "trajectory_id": "b93f2f9e6772",
      "parent_trajectory_ids": [
        "039e160d1be5"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.008357476501947,
        "ICIR": 0.0521638560501109,
        "RankIC": 0.0249339747014853,
        "RankICIR": 0.1601932835174474,
        "annualized_return": 0.0416185481785047,
        "information_ratio": 0.5441338713529469,
        "max_drawdown": -0.1387524028453887
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:41:46.977170",
      "updated_at": "2026-01-17T08:41:46.977177"
    },
    "39784a9223d662b5": {
      "factor_id": "39784a9223d662b5",
      "factor_name": "Volume_Weighted_Position_Consistency",
      "factor_expression": "RANK(TS_CORR($close, $volume, 20)) + RANK(TS_ZSCORE($close, 20))",
      "factor_implementation_code": "\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_CORR($close, $volume, 20)) + RANK(TS_ZSCORE($close, 20))\" # Your output factor expression will be filled in here\n    name = \"Volume_Weighted_Position_Consistency\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)",
      "factor_description": "Measures the consistency of informed accumulation by evaluating the rank of price positioning relative to the volume-weighted trend, emphasizing stocks with stable institutional footprints.",
      "experiment_id": "2026-01-16_17-24-17-907337",
      "round_number": 1,
      "hypothesis": "Hypothesis: The Institutional Order-Flow Persistence Factor (IOPF) predicts medium-term momentum by identifying directional conviction through the interaction of price-volume skewness and the consistency of volume-weighted price positioning.\n                Concise Observation: The parent strategy focused on short-term reversal via liquidity exhaustion (low price-volume correlation), but market data often shows that high-volume price trends exhibit significant multi-day autocorrelation driven by institutional execution cycles.\n                Concise Justification: Institutional investors execute large orders over multiple days to minimize market impact, creating a 'footprint' of persistent price-volume convergence and positive skewness that signals sustainable momentum rather than temporary exhaustion.\n                Concise Knowledge: If a stock's closing price consistently stays above its daily volume-weighted mean while volume growth remains stable, it indicates informed institutional accumulation; When price-volume skewness is positive, it reflects aggressive buyer dominance that tends to persist over a 20-day horizon.\n                concise Specification: The factor will measure the 20-day average of the ratio between (Close - Open) and (High - Low), weighted by the 5-day volume trend consistency, and filtered by the 10-day skewness of the daily returns to capture 'aggressive' trend-following behavior.\n                ",
      "initial_direction": "Long-term reversal conditioning on liquidity stability: Test if ROC60's predictive power for mean reversion is enhanced when VSTD5 is in the lowest decile, indicating institutional accumulation.",
      "user_initial_direction": "参考以下组合给出假设。组合2包含ROC60（表达式：Ref(, 60)/，含义：60日价格反转因子，值>1表示长期下跌）、CORR20（表达式：Corr(, Log(+1), 20)，含义：20日收盘价与成交量对数的相关系数）、VSTD5（表达式：Std(, 5)/(+1e-12)，含义：5日成交量标准差，反映资金流向稳定性）。",
      "planning_direction": "Long-term reversal conditioning on liquidity stability: Test if ROC60's predictive power for mean reversion is enhanced when VSTD5 is in the lowest decile, indicating institutional accumulation.",
      "evolution_phase": "mutation",
      "trajectory_id": "b93f2f9e6772",
      "parent_trajectory_ids": [
        "039e160d1be5"
      ],
      "is_sota": false,
      "quality": "high_quality",
      "backtest_metrics": {
        "IC": 0.008357476501947,
        "ICIR": 0.0521638560501109,
        "RankIC": 0.0249339747014853,
        "RankICIR": 0.1601932835174474,
        "annualized_return": 0.0416185481785047,
        "information_ratio": 0.5441338713529469,
        "max_drawdown": -0.1387524028453887
      },
      "max_correlation_with_alpha158": null,
      "added_at": "2026-01-17T08:41:47.007667",
      "updated_at": "2026-01-17T08:41:47.007673"
    }
  }
}