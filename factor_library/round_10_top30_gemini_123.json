{
  "metadata": {
    "created_at": "2026-01-20T03:13:48.092595",
    "last_updated": "2026-01-20T03:13:48.092599",
    "total_factors": 30,
    "version": "1.0",
    "note": "Round 10 top 30 factors by RankIC from gemini_123"
  },
  "factors": {
    "755b247763adbce9": {
      "factor_id": "755b247763adbce9",
      "factor_name": "ICG_Conviction_Factor_20D",
      "factor_expression": "LOG($open / DELAY($close, 1)) * TS_CORR($return, DELTA($volume, 1), 20) / (TS_STD(TS_CORR($return, DELTA($volume, 1), 20), 5) + 1e-8)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(LOG($open / DELAY($close, 1)) * TS_CORR(TS_PCTCHANGE($close, 1), TS_PCTCHANGE($volume, 1), 20)) / (TS_STD(TS_CORR(TS_PCTCHANGE($close, 1), TS_PCTCHANGE($volume, 1), 20), 5) + 1e-6)\" # Your output factor expression will be filled in here\n    name = \"ICG_Conviction_Factor_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "The Institutional Conviction Gap (ICG) factor combines the overnight gap (log return from previous close to current open) with the 20-day rolling correlation between price returns and volume changes. This product is then scaled by the 5-day stability (inverse of standard deviation) of the correlation to filter for high-conviction institutional trends.",
      "factor_formulation": "\\text{Log}(\\text{open}/\\text{delay}(\\text{close}, 1)) \\times \\text{TS_CORR}(\\text{return}, \\text{DELTA}(\\text{volume}, 1), 20) / \\text{TS_STD}(\\text{TS_CORR}(\\text{return}, \\text{DELTA}(\\text{volume}, 1), 20), 5)",
      "metadata": {
        "experiment_id": "2026-01-18_14-14-43-683963",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "b19b35b9577f",
        "parent_trajectory_ids": [
          "250c61cfa096",
          "e4902fbeb422"
        ],
        "hypothesis": "Hypothesis: The Institutional Conviction Gap (ICG) factor, defined as the product of the overnight gap and the 20-day rolling correlation between price returns and volume changes, predicts that gaps aligned with strong prior institutional cohesion lead to trend persistence.\n                Concise Observation: Parent strategies show that 20-day volume-price correlation captures trend stability (RankIC 0.024) and overnight gaps provide short-term alpha (RankIC 0.021), but neither alone distinguishes between structural shifts and temporary imbalances.\n                Concise Justification: Fusing these signals creates a 'conviction filter' where the overnight gap represents the catalyst and the 20-day IVPC represents the structural support, ensuring that only 'high-quality' gaps are traded for trend following.\n                Concise Knowledge: If a short-term liquidity shock (overnight gap) is preceded by high volume-price cohesion (positive correlation between returns and volume), the gap is likely driven by institutional conviction rather than noise, leading to higher return persistence.\n                concise Specification: The factor is calculated by multiplying the overnight gap (log(open/prev_close)) by the 20-day rolling correlation of daily returns and daily volume changes, then scaled by the 5-day stability (inverse of standard deviation) of that correlation.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T11:39:05.265626"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.092560580819418,
        "ICIR": 0.0720436592441701,
        "1day.excess_return_without_cost.std": 0.0044915303418727,
        "1day.excess_return_with_cost.annualized_return": 0.0344220694722941,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0003428089375663,
        "1day.excess_return_without_cost.annualized_return": 0.0815885271407854,
        "1day.excess_return_with_cost.std": 0.0044917359944276,
        "Rank IC": 0.0288497010909518,
        "IC": 0.0103522493206928,
        "1day.excess_return_without_cost.max_drawdown": -0.0757650282012576,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.1774603101032013,
        "1day.pa": 0.0,
        "l2.valid": 0.9967139865127296,
        "Rank ICIR": 0.2057263168715044,
        "l2.train": 0.9930027262149836,
        "1day.excess_return_with_cost.information_ratio": 0.496745882482694,
        "1day.excess_return_with_cost.mean": 0.0001446305440012
      },
      "feedback": {
        "observations": "The current iteration of the Institutional Conviction Gap (ICG) framework has yielded significant performance improvements across almost all key metrics compared to the previous SOTA. The Information Ratio (IR) increased from 0.97 to 1.18, and the Annualized Return rose from 5.2% to 8.16%. The Information Coefficient (IC) nearly doubled, moving from 0.0058 to 0.0104. While the Max Drawdown slightly deepened (-0.072 to -0.075), the overall risk-adjusted return profile is substantially stronger. The success of 'ICG_Conviction_Factor_20D' and 'Ranked_ICG_Stability_Factor' suggests that the interaction between overnight price shocks and medium-term price-volume cohesion is a potent predictor of short-term alpha.",
        "hypothesis_evaluation": "The results strongly support the hypothesis that gaps aligned with institutional cohesion (measured by price-volume correlation) lead to trend persistence. Specifically, scaling the gap by the stability (inverse of standard deviation) of that cohesion appears to be an effective filter for high-conviction signals. The 'Ranked_ICG_Stability_Factor' indicates that cross-sectional ranking of these components further enhances the signal's robustness by neutralizing market-wide shifts in volume or volatility.",
        "decision": true,
        "reason": "While the current 20-day correlation and 5-day stability filters work well, linear products of correlation can sometimes be skewed by extreme values that represent late-stage trends rather than early-stage persistence. By refining the mathematical representation to emphasize 'growing' conviction rather than 'peak' conviction, we can potentially reduce the Max Drawdown observed in this iteration. Additionally, the current factors are approaching moderate complexity; maintaining the core logic while simplifying the stability scaling (perhaps using a simple rank-based Z-score) will ensure better generalization."
      },
      "cache_location": null
    },
    "0d5e257f08624108": {
      "factor_id": "0d5e257f08624108",
      "factor_name": "Ranked_ICG_Stability_Factor",
      "factor_expression": "RANK(LOG($open / DELAY($close, 1))) * RANK(TS_CORR($return, TS_PCTCHANGE($volume, 1), 20) / (TS_STD(TS_CORR($return, TS_PCTCHANGE($volume, 1), 20), 5) + 1e-8))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(LOG($open / DELAY($close, 1))) * RANK(TS_CORR(TS_PCTCHANGE($close, 1), TS_PCTCHANGE($volume, 1), 20) / (TS_STD(TS_CORR(TS_PCTCHANGE($close, 1), TS_PCTCHANGE($volume, 1), 20), 5) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Ranked_ICG_Stability_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "A cross-sectionally ranked version of the Institutional Conviction Gap. It identifies stocks where the overnight gap aligns with the direction of the long-term price-volume cohesion, normalized by the volatility of that cohesion over 5 days to ensure signal quality.",
      "factor_formulation": "\\text{RANK}(\\text{LOG}(\\text{open}/\\text{delay}(\\text{close}, 1))) \\times \\text{RANK}(\\text{TS_CORR}(\\text{return}, \\text{TS_PCTCHANGE}(\\text{volume}, 1), 20) / \\text{TS_STD}(\\text{TS_CORR}(\\text{return}, \\text{TS_PCTCHANGE}(\\text{volume}, 1), 20), 5))",
      "metadata": {
        "experiment_id": "2026-01-18_14-14-43-683963",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "b19b35b9577f",
        "parent_trajectory_ids": [
          "250c61cfa096",
          "e4902fbeb422"
        ],
        "hypothesis": "Hypothesis: The Institutional Conviction Gap (ICG) factor, defined as the product of the overnight gap and the 20-day rolling correlation between price returns and volume changes, predicts that gaps aligned with strong prior institutional cohesion lead to trend persistence.\n                Concise Observation: Parent strategies show that 20-day volume-price correlation captures trend stability (RankIC 0.024) and overnight gaps provide short-term alpha (RankIC 0.021), but neither alone distinguishes between structural shifts and temporary imbalances.\n                Concise Justification: Fusing these signals creates a 'conviction filter' where the overnight gap represents the catalyst and the 20-day IVPC represents the structural support, ensuring that only 'high-quality' gaps are traded for trend following.\n                Concise Knowledge: If a short-term liquidity shock (overnight gap) is preceded by high volume-price cohesion (positive correlation between returns and volume), the gap is likely driven by institutional conviction rather than noise, leading to higher return persistence.\n                concise Specification: The factor is calculated by multiplying the overnight gap (log(open/prev_close)) by the 20-day rolling correlation of daily returns and daily volume changes, then scaled by the 5-day stability (inverse of standard deviation) of that correlation.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T11:39:05.265626"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.092560580819418,
        "ICIR": 0.0720436592441701,
        "1day.excess_return_without_cost.std": 0.0044915303418727,
        "1day.excess_return_with_cost.annualized_return": 0.0344220694722941,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0003428089375663,
        "1day.excess_return_without_cost.annualized_return": 0.0815885271407854,
        "1day.excess_return_with_cost.std": 0.0044917359944276,
        "Rank IC": 0.0288497010909518,
        "IC": 0.0103522493206928,
        "1day.excess_return_without_cost.max_drawdown": -0.0757650282012576,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.1774603101032013,
        "1day.pa": 0.0,
        "l2.valid": 0.9967139865127296,
        "Rank ICIR": 0.2057263168715044,
        "l2.train": 0.9930027262149836,
        "1day.excess_return_with_cost.information_ratio": 0.496745882482694,
        "1day.excess_return_with_cost.mean": 0.0001446305440012
      },
      "feedback": {
        "observations": "The current iteration of the Institutional Conviction Gap (ICG) framework has yielded significant performance improvements across almost all key metrics compared to the previous SOTA. The Information Ratio (IR) increased from 0.97 to 1.18, and the Annualized Return rose from 5.2% to 8.16%. The Information Coefficient (IC) nearly doubled, moving from 0.0058 to 0.0104. While the Max Drawdown slightly deepened (-0.072 to -0.075), the overall risk-adjusted return profile is substantially stronger. The success of 'ICG_Conviction_Factor_20D' and 'Ranked_ICG_Stability_Factor' suggests that the interaction between overnight price shocks and medium-term price-volume cohesion is a potent predictor of short-term alpha.",
        "hypothesis_evaluation": "The results strongly support the hypothesis that gaps aligned with institutional cohesion (measured by price-volume correlation) lead to trend persistence. Specifically, scaling the gap by the stability (inverse of standard deviation) of that cohesion appears to be an effective filter for high-conviction signals. The 'Ranked_ICG_Stability_Factor' indicates that cross-sectional ranking of these components further enhances the signal's robustness by neutralizing market-wide shifts in volume or volatility.",
        "decision": true,
        "reason": "While the current 20-day correlation and 5-day stability filters work well, linear products of correlation can sometimes be skewed by extreme values that represent late-stage trends rather than early-stage persistence. By refining the mathematical representation to emphasize 'growing' conviction rather than 'peak' conviction, we can potentially reduce the Max Drawdown observed in this iteration. Additionally, the current factors are approaching moderate complexity; maintaining the core logic while simplifying the stability scaling (perhaps using a simple rank-based Z-score) will ensure better generalization."
      },
      "cache_location": null
    },
    "0729415b46c33dc9": {
      "factor_id": "0729415b46c33dc9",
      "factor_name": "ICG_Trend_Persistence_Filter",
      "factor_expression": "TS_MEAN(LOG($open / DELAY($close, 1)) * TS_CORR($return, DELTA($volume, 1), 20), 5)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN(LOG($open / DELAY($close, 1)) * TS_CORR(TS_PCTCHANGE($close, 1), TS_PCTCHANGE($volume, 1), 20), 5)\" # Your output factor expression will be filled in here\n    name = \"ICG_Trend_Persistence_Filter\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor measures the strength of institutional conviction by multiplying the overnight gap by the 20-day price-volume correlation, further smoothed by a 5-day moving average to capture persistent institutional support rather than transient noise.",
      "factor_formulation": "\\text{TS_MEAN}(\\text{LOG}(\\text{open}/\\text{delay}(\\text{close}, 1)) \\times \\text{TS_CORR}(\\text{return}, \\text{DELTA}(\\text{volume}, 1), 20), 5)",
      "metadata": {
        "experiment_id": "2026-01-18_14-14-43-683963",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "b19b35b9577f",
        "parent_trajectory_ids": [
          "250c61cfa096",
          "e4902fbeb422"
        ],
        "hypothesis": "Hypothesis: The Institutional Conviction Gap (ICG) factor, defined as the product of the overnight gap and the 20-day rolling correlation between price returns and volume changes, predicts that gaps aligned with strong prior institutional cohesion lead to trend persistence.\n                Concise Observation: Parent strategies show that 20-day volume-price correlation captures trend stability (RankIC 0.024) and overnight gaps provide short-term alpha (RankIC 0.021), but neither alone distinguishes between structural shifts and temporary imbalances.\n                Concise Justification: Fusing these signals creates a 'conviction filter' where the overnight gap represents the catalyst and the 20-day IVPC represents the structural support, ensuring that only 'high-quality' gaps are traded for trend following.\n                Concise Knowledge: If a short-term liquidity shock (overnight gap) is preceded by high volume-price cohesion (positive correlation between returns and volume), the gap is likely driven by institutional conviction rather than noise, leading to higher return persistence.\n                concise Specification: The factor is calculated by multiplying the overnight gap (log(open/prev_close)) by the 20-day rolling correlation of daily returns and daily volume changes, then scaled by the 5-day stability (inverse of standard deviation) of that correlation.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T11:39:05.265626"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.092560580819418,
        "ICIR": 0.0720436592441701,
        "1day.excess_return_without_cost.std": 0.0044915303418727,
        "1day.excess_return_with_cost.annualized_return": 0.0344220694722941,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0003428089375663,
        "1day.excess_return_without_cost.annualized_return": 0.0815885271407854,
        "1day.excess_return_with_cost.std": 0.0044917359944276,
        "Rank IC": 0.0288497010909518,
        "IC": 0.0103522493206928,
        "1day.excess_return_without_cost.max_drawdown": -0.0757650282012576,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.1774603101032013,
        "1day.pa": 0.0,
        "l2.valid": 0.9967139865127296,
        "Rank ICIR": 0.2057263168715044,
        "l2.train": 0.9930027262149836,
        "1day.excess_return_with_cost.information_ratio": 0.496745882482694,
        "1day.excess_return_with_cost.mean": 0.0001446305440012
      },
      "feedback": {
        "observations": "The current iteration of the Institutional Conviction Gap (ICG) framework has yielded significant performance improvements across almost all key metrics compared to the previous SOTA. The Information Ratio (IR) increased from 0.97 to 1.18, and the Annualized Return rose from 5.2% to 8.16%. The Information Coefficient (IC) nearly doubled, moving from 0.0058 to 0.0104. While the Max Drawdown slightly deepened (-0.072 to -0.075), the overall risk-adjusted return profile is substantially stronger. The success of 'ICG_Conviction_Factor_20D' and 'Ranked_ICG_Stability_Factor' suggests that the interaction between overnight price shocks and medium-term price-volume cohesion is a potent predictor of short-term alpha.",
        "hypothesis_evaluation": "The results strongly support the hypothesis that gaps aligned with institutional cohesion (measured by price-volume correlation) lead to trend persistence. Specifically, scaling the gap by the stability (inverse of standard deviation) of that cohesion appears to be an effective filter for high-conviction signals. The 'Ranked_ICG_Stability_Factor' indicates that cross-sectional ranking of these components further enhances the signal's robustness by neutralizing market-wide shifts in volume or volatility.",
        "decision": true,
        "reason": "While the current 20-day correlation and 5-day stability filters work well, linear products of correlation can sometimes be skewed by extreme values that represent late-stage trends rather than early-stage persistence. By refining the mathematical representation to emphasize 'growing' conviction rather than 'peak' conviction, we can potentially reduce the Max Drawdown observed in this iteration. Additionally, the current factors are approaching moderate complexity; maintaining the core logic while simplifying the stability scaling (perhaps using a simple rank-based Z-score) will ensure better generalization."
      },
      "cache_location": null
    },
    "3f831b437ed7f84d": {
      "factor_id": "3f831b437ed7f84d",
      "factor_name": "True_Exhaustion_Divergence_10D",
      "factor_expression": "ZSCORE(TS_MEAN(($high - $low) / ($volume + 1e-8), 10)) * TS_ZSCORE(($close - $open) / ($high - $low + 1e-8), 10)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(TS_MEAN(($high - $low) / ($volume + 1e-8), 10)) * TS_ZSCORE(($close - $open) / ($high - $low + 1e-8), 10)\" # Your output factor expression will be filled in here\n    name = \"True_Exhaustion_Divergence_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor identifies 'True Exhaustion' by multiplying the cross-sectional Z-score of the 10-day average price-range-to-volume ratio (liquidity vacuum) with the 10-day time-series Z-score of the intraday efficiency ratio. High values indicate retail-driven exhaustion likely to reverse, while low values suggest institutional absorption and trend continuation.",
      "factor_formulation": "\\text{ZSCORE}(\\text{TS_MEAN}(\\frac{high - low}{volume}, 10)) \\times \\text{TS_ZSCORE}(\\frac{close - open}{high - low}, 10)",
      "metadata": {
        "experiment_id": "2026-01-19_04-13-15-519909",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "81756b5cee4f",
        "parent_trajectory_ids": [
          "8c9d4d820e3a",
          "197465c5780a"
        ],
        "hypothesis": "Hypothesis: The 'Dynamic Liquidity-Efficiency Equilibrium' factor predicts returns by identifying the divergence between price-range-to-volume exhaustion (Parent 1) and intraday efficiency (Parent 2), where high price range per unit volume coupled with low intraday efficiency signals a mean-reversion reversal, while high volume-to-range compression coupled with high efficiency signals trend continuation.\n                Concise Observation: Parent 1 (RankIC 0.0262) successfully captures reversals via liquidity vacuums, while Parent 2 (RankIC 0.0252) captures institutional efficiency; however, both struggle in isolation when the market regime shifts between mean-reversion and momentum.\n                Concise Justification: By multiplying Parent 1's price-to-volume ratio (exhaustion) with the inverse of Parent 2's volume-to-price efficiency, we can isolate 'True Exhaustion' points that are statistically significant (Z-scored) to filter out noise and improve the signal-to-noise ratio of the predictive return.\n                Concise Knowledge: If a stock exhibits high price dispersion relative to volume (liquidity vacuum) alongside low intraday efficiency, it indicates retail-driven exhaustion and imminent reversal; conversely, if high volume-to-range compression (efficiency) persists, it indicates institutional absorption and trend continuation.\n                concise Specification: The factor is defined as the Z-score of the 10-day average (High-Low)/Volume (Parent 1) multiplied by the 10-day Z-score of the Intraday Efficiency Ratio (Close-Open)/(High-Low) (Parent 2), using a 20-day lookback for normalization to switch between reversal and trend regimes.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T21:23:09.824976"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1116829451731044,
        "ICIR": 0.0541906117708803,
        "1day.excess_return_without_cost.std": 0.0041018088197662,
        "1day.excess_return_with_cost.annualized_return": 0.0112579665356118,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0002464518873102,
        "1day.excess_return_without_cost.annualized_return": 0.0586555491798278,
        "1day.excess_return_with_cost.std": 0.0041029262539938,
        "Rank IC": 0.0282480839988453,
        "IC": 0.0075623543966212,
        "1day.excess_return_without_cost.max_drawdown": -0.1024402157363841,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.9269263160716454,
        "1day.pa": 0.0,
        "l2.valid": 0.9964649843125388,
        "Rank ICIR": 0.2022393513314291,
        "l2.train": 0.9934283736270316,
        "1day.excess_return_with_cost.information_ratio": 0.1778597853399325,
        "1day.excess_return_with_cost.mean": 4.730238040173057e-05
      },
      "feedback": {
        "observations": "The current iteration of the 'Dynamic Liquidity-Efficiency Equilibrium' framework has yielded a significant improvement in predictive power (IC) and annualized return compared to the previous SOTA. Specifically, the IC increased from 0.0058 to 0.0076, and the annualized return rose from 5.20% to 5.87%. However, the Information Ratio (IR) slightly decreased, and the Max Drawdown (MDD) worsened from -0.0726 to -0.1024, suggesting that while the signal strength is higher, it may be more volatile or regime-dependent. The 'Regime_Switching_Exhaustion_Index' and 'True_Exhaustion_Divergence' factors successfully leveraged the divergence between price-volume exhaustion and intraday efficiency, validating the core theoretical framework.",
        "hypothesis_evaluation": "The results strongly support the hypothesis that the divergence between price-range-to-volume exhaustion and intraday efficiency contains alpha. The use of TS_ZSCORE for volume exhaustion and RANK for efficiency in the 'Regime_Switching_Exhaustion_Index' appears to be a robust combination. The improvement in IC suggests that the 'exhaustion' signal is a reliable lead indicator for short-term returns. However, the increased drawdown indicates that the 'reversal' vs 'continuation' logic might need better smoothing or a volatility-adjusted weighting to handle different market regimes.",
        "decision": true,
        "reason": "The current factors show high predictive power but increased risk (MDD). The 'high price range per unit volume' can sometimes be a result of high market-wide volatility rather than stock-specific exhaustion. By incorporating a volatility buffer, we can isolate true idiosyncratic exhaustion. Furthermore, the intraday efficiency ratio (close-open)/(high-low) can be extreme in low-liquidity environments; using a non-linear squashing function or a longer-term stability filter will likely improve the Information Ratio and reduce the maximum drawdown observed in the current SOTA."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_221443",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221443",
        "factor_dir": "d521fb20841d4780bfe540bb9d48ba0d",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221443/d521fb20841d4780bfe540bb9d48ba0d/result.h5"
      }
    },
    "3a7f85013bcc6efe": {
      "factor_id": "3a7f85013bcc6efe",
      "factor_name": "Efficiency_Adjusted_Liquidity_Vacuum",
      "factor_expression": "RANK(TS_MEAN(($high - $low) / ($volume + 1e-8), 10)) * (1 - TS_RANK(ABS($close - $open) / ($high - $low + 1e-8), 20))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN(($high - $low) / ($volume + 1e-8), 10)) * (1 - TS_RANK(ABS($close - $open) / ($high - $low + 1e-8), 20))\" # Your output factor expression will be filled in here\n    name = \"Efficiency_Adjusted_Liquidity_Vacuum\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "A simplified version of the Dynamic Liquidity-Efficiency Equilibrium hypothesis. It measures the 10-day average of price range per unit volume, normalized cross-sectionally, and scales it by the 20-day time-series rank of intraday efficiency. This highlights periods where price movement lacks institutional support (low efficiency) despite high range-to-volume ratios.",
      "factor_formulation": "\\text{RANK}(\\text{TS_MEAN}(\\frac{high - low}{volume}, 10)) \\times (1 - \\text{TS_RANK}(\\frac{ABS(close - open)}{high - low}, 20))",
      "metadata": {
        "experiment_id": "2026-01-19_04-13-15-519909",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "81756b5cee4f",
        "parent_trajectory_ids": [
          "8c9d4d820e3a",
          "197465c5780a"
        ],
        "hypothesis": "Hypothesis: The 'Dynamic Liquidity-Efficiency Equilibrium' factor predicts returns by identifying the divergence between price-range-to-volume exhaustion (Parent 1) and intraday efficiency (Parent 2), where high price range per unit volume coupled with low intraday efficiency signals a mean-reversion reversal, while high volume-to-range compression coupled with high efficiency signals trend continuation.\n                Concise Observation: Parent 1 (RankIC 0.0262) successfully captures reversals via liquidity vacuums, while Parent 2 (RankIC 0.0252) captures institutional efficiency; however, both struggle in isolation when the market regime shifts between mean-reversion and momentum.\n                Concise Justification: By multiplying Parent 1's price-to-volume ratio (exhaustion) with the inverse of Parent 2's volume-to-price efficiency, we can isolate 'True Exhaustion' points that are statistically significant (Z-scored) to filter out noise and improve the signal-to-noise ratio of the predictive return.\n                Concise Knowledge: If a stock exhibits high price dispersion relative to volume (liquidity vacuum) alongside low intraday efficiency, it indicates retail-driven exhaustion and imminent reversal; conversely, if high volume-to-range compression (efficiency) persists, it indicates institutional absorption and trend continuation.\n                concise Specification: The factor is defined as the Z-score of the 10-day average (High-Low)/Volume (Parent 1) multiplied by the 10-day Z-score of the Intraday Efficiency Ratio (Close-Open)/(High-Low) (Parent 2), using a 20-day lookback for normalization to switch between reversal and trend regimes.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T21:23:09.824976"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1116829451731044,
        "ICIR": 0.0541906117708803,
        "1day.excess_return_without_cost.std": 0.0041018088197662,
        "1day.excess_return_with_cost.annualized_return": 0.0112579665356118,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0002464518873102,
        "1day.excess_return_without_cost.annualized_return": 0.0586555491798278,
        "1day.excess_return_with_cost.std": 0.0041029262539938,
        "Rank IC": 0.0282480839988453,
        "IC": 0.0075623543966212,
        "1day.excess_return_without_cost.max_drawdown": -0.1024402157363841,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.9269263160716454,
        "1day.pa": 0.0,
        "l2.valid": 0.9964649843125388,
        "Rank ICIR": 0.2022393513314291,
        "l2.train": 0.9934283736270316,
        "1day.excess_return_with_cost.information_ratio": 0.1778597853399325,
        "1day.excess_return_with_cost.mean": 4.730238040173057e-05
      },
      "feedback": {
        "observations": "The current iteration of the 'Dynamic Liquidity-Efficiency Equilibrium' framework has yielded a significant improvement in predictive power (IC) and annualized return compared to the previous SOTA. Specifically, the IC increased from 0.0058 to 0.0076, and the annualized return rose from 5.20% to 5.87%. However, the Information Ratio (IR) slightly decreased, and the Max Drawdown (MDD) worsened from -0.0726 to -0.1024, suggesting that while the signal strength is higher, it may be more volatile or regime-dependent. The 'Regime_Switching_Exhaustion_Index' and 'True_Exhaustion_Divergence' factors successfully leveraged the divergence between price-volume exhaustion and intraday efficiency, validating the core theoretical framework.",
        "hypothesis_evaluation": "The results strongly support the hypothesis that the divergence between price-range-to-volume exhaustion and intraday efficiency contains alpha. The use of TS_ZSCORE for volume exhaustion and RANK for efficiency in the 'Regime_Switching_Exhaustion_Index' appears to be a robust combination. The improvement in IC suggests that the 'exhaustion' signal is a reliable lead indicator for short-term returns. However, the increased drawdown indicates that the 'reversal' vs 'continuation' logic might need better smoothing or a volatility-adjusted weighting to handle different market regimes.",
        "decision": true,
        "reason": "The current factors show high predictive power but increased risk (MDD). The 'high price range per unit volume' can sometimes be a result of high market-wide volatility rather than stock-specific exhaustion. By incorporating a volatility buffer, we can isolate true idiosyncratic exhaustion. Furthermore, the intraday efficiency ratio (close-open)/(high-low) can be extreme in low-liquidity environments; using a non-linear squashing function or a longer-term stability filter will likely improve the Information Ratio and reduce the maximum drawdown observed in the current SOTA."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_221443",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221443",
        "factor_dir": "8ca8bc9bd85744cd98ebc1632c52d5d0",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221443/8ca8bc9bd85744cd98ebc1632c52d5d0/result.h5"
      }
    },
    "ef3f178010c61718": {
      "factor_id": "ef3f178010c61718",
      "factor_name": "Regime_Switching_Exhaustion_Index",
      "factor_expression": "TS_ZSCORE(($high - $low) / ($volume + 1e-8), 20) * RANK(($close - $open) / ($high - $low + 1e-8))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE(($high - $low) / ($volume + 1e-8), 20) * RANK(($close - $open) / ($high - $low + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Regime_Switching_Exhaustion_Index\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor captures the divergence between price dispersion and volume efficiency. It uses a 20-day normalization period to switch between reversal and trend regimes by identifying when the current price-to-volume ratio is extreme relative to its own history, weighted by the cross-sectional rank of intraday efficiency.",
      "factor_formulation": "\\text{TS_ZSCORE}(\\frac{high - low}{volume}, 20) \\times \\text{RANK}(\\frac{close - open}{high - low})",
      "metadata": {
        "experiment_id": "2026-01-19_04-13-15-519909",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "81756b5cee4f",
        "parent_trajectory_ids": [
          "8c9d4d820e3a",
          "197465c5780a"
        ],
        "hypothesis": "Hypothesis: The 'Dynamic Liquidity-Efficiency Equilibrium' factor predicts returns by identifying the divergence between price-range-to-volume exhaustion (Parent 1) and intraday efficiency (Parent 2), where high price range per unit volume coupled with low intraday efficiency signals a mean-reversion reversal, while high volume-to-range compression coupled with high efficiency signals trend continuation.\n                Concise Observation: Parent 1 (RankIC 0.0262) successfully captures reversals via liquidity vacuums, while Parent 2 (RankIC 0.0252) captures institutional efficiency; however, both struggle in isolation when the market regime shifts between mean-reversion and momentum.\n                Concise Justification: By multiplying Parent 1's price-to-volume ratio (exhaustion) with the inverse of Parent 2's volume-to-price efficiency, we can isolate 'True Exhaustion' points that are statistically significant (Z-scored) to filter out noise and improve the signal-to-noise ratio of the predictive return.\n                Concise Knowledge: If a stock exhibits high price dispersion relative to volume (liquidity vacuum) alongside low intraday efficiency, it indicates retail-driven exhaustion and imminent reversal; conversely, if high volume-to-range compression (efficiency) persists, it indicates institutional absorption and trend continuation.\n                concise Specification: The factor is defined as the Z-score of the 10-day average (High-Low)/Volume (Parent 1) multiplied by the 10-day Z-score of the Intraday Efficiency Ratio (Close-Open)/(High-Low) (Parent 2), using a 20-day lookback for normalization to switch between reversal and trend regimes.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T21:23:09.824976"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1116829451731044,
        "ICIR": 0.0541906117708803,
        "1day.excess_return_without_cost.std": 0.0041018088197662,
        "1day.excess_return_with_cost.annualized_return": 0.0112579665356118,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0002464518873102,
        "1day.excess_return_without_cost.annualized_return": 0.0586555491798278,
        "1day.excess_return_with_cost.std": 0.0041029262539938,
        "Rank IC": 0.0282480839988453,
        "IC": 0.0075623543966212,
        "1day.excess_return_without_cost.max_drawdown": -0.1024402157363841,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.9269263160716454,
        "1day.pa": 0.0,
        "l2.valid": 0.9964649843125388,
        "Rank ICIR": 0.2022393513314291,
        "l2.train": 0.9934283736270316,
        "1day.excess_return_with_cost.information_ratio": 0.1778597853399325,
        "1day.excess_return_with_cost.mean": 4.730238040173057e-05
      },
      "feedback": {
        "observations": "The current iteration of the 'Dynamic Liquidity-Efficiency Equilibrium' framework has yielded a significant improvement in predictive power (IC) and annualized return compared to the previous SOTA. Specifically, the IC increased from 0.0058 to 0.0076, and the annualized return rose from 5.20% to 5.87%. However, the Information Ratio (IR) slightly decreased, and the Max Drawdown (MDD) worsened from -0.0726 to -0.1024, suggesting that while the signal strength is higher, it may be more volatile or regime-dependent. The 'Regime_Switching_Exhaustion_Index' and 'True_Exhaustion_Divergence' factors successfully leveraged the divergence between price-volume exhaustion and intraday efficiency, validating the core theoretical framework.",
        "hypothesis_evaluation": "The results strongly support the hypothesis that the divergence between price-range-to-volume exhaustion and intraday efficiency contains alpha. The use of TS_ZSCORE for volume exhaustion and RANK for efficiency in the 'Regime_Switching_Exhaustion_Index' appears to be a robust combination. The improvement in IC suggests that the 'exhaustion' signal is a reliable lead indicator for short-term returns. However, the increased drawdown indicates that the 'reversal' vs 'continuation' logic might need better smoothing or a volatility-adjusted weighting to handle different market regimes.",
        "decision": true,
        "reason": "The current factors show high predictive power but increased risk (MDD). The 'high price range per unit volume' can sometimes be a result of high market-wide volatility rather than stock-specific exhaustion. By incorporating a volatility buffer, we can isolate true idiosyncratic exhaustion. Furthermore, the intraday efficiency ratio (close-open)/(high-low) can be extreme in low-liquidity environments; using a non-linear squashing function or a longer-term stability filter will likely improve the Information Ratio and reduce the maximum drawdown observed in the current SOTA."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_221443",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221443",
        "factor_dir": "1bbbdc6f6f7d4a66bc4ded4628aa050f",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221443/1bbbdc6f6f7d4a66bc4ded4628aa050f/result.h5"
      }
    },
    "a688d7ae50a30761": {
      "factor_id": "a688d7ae50a30761",
      "factor_name": "IVSE_Efficiency_Decoupling_Factor",
      "factor_expression": "TS_MEAN(ABS($close - $open) / ($high - $low + 1e-8), 20) * (DELTA($close, 60) / (TS_SUM(ABS($return), 60) + 1e-8)) * (TS_CORR($close, $volume, 20) / (TS_CORR($close, $volume, 5) + 1e-8))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN(ABS($close - $open) / ($high - $low + 0.00001), 20) * (DELTA($close, 60) / (TS_SUM(ABS($close - DELAY($close, 1)), 60) + 0.00001)) * (TS_CORR($close, $volume, 20) / (TS_CORR($close, $volume, 5) + 0.00001))\" # Your output factor expression will be filled in here\n    name = \"IVSE_Efficiency_Decoupling_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor identifies alpha by combining 20-day intraday price efficiency (ratio of body to range) and 60-day path efficiency (net displacement over total movement), scaled by the ratio of long-term to short-term volume-price correlation to detect supply-vacuum breakouts.",
      "factor_formulation": "IVSE = \\text{TS_MEAN}(\\frac{|close - open|}{high - low}, 20) \\times \\frac{close - \\text{DELAY}(close, 60)}{\\text{TS_SUM}(|return|, 60)} \\times \\frac{\\text{TS_CORR}(close, volume, 20)}{\\text{TS_CORR}(close, volume, 5)}",
      "metadata": {
        "experiment_id": "2026-01-18_14-14-43-683963",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "e3d0f67b6a04",
        "parent_trajectory_ids": [
          "ef9c1ab4ef6a",
          "7c0e5f7e30be"
        ],
        "hypothesis": "Hypothesis: The Institutional Velocity & Structural Exhaustion (IVSE) factor identifies alpha by multiplying 20-day intraday price efficiency with 60-day path efficiency, then scaling by the inverse of the 5-day/20-day volume-price correlation ratio to capture supply-vacuum breakouts.\n                Concise Observation: Parent 1 showed that intraday efficiency (IIAP) captures institutional footprints, while Parent 2 demonstrated that long-term path efficiency (AIFLE) combined with short-term volume-price decoupling identifies high-probability trend continuations.\n                Concise Justification: Fusing multi-scale efficiency metrics ensures that only 'high-quality' trends are selected, while the volume-price decoupling filter prevents entering overextended retail frenzies, targeting the specific window where institutional buying meets reduced market supply.\n                Concise Knowledge: If a stock exhibits high intraday price progress relative to volatility (clean accumulation) and high long-term path efficiency, it indicates institutional control; when this coincides with a decoupling of price and volume (lower short-term correlation), it signals a liquidity exhaustion phase likely to lead to a breakout.\n                concise Specification: The factor is defined as: (20-day Mean of [Abs(Close-Open)/(High-Low)]) * (60-day [Close_t - Close_{t-60}] / Sum of 60-day Abs[Returns]) / (5-day Correlation[Price, Volume] / 20-day Correlation[Price, Volume]).\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T11:46:57.218074"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.0818496341943236,
        "ICIR": 0.059389735127352,
        "1day.excess_return_without_cost.std": 0.0044748328720743,
        "1day.excess_return_with_cost.annualized_return": 0.0198571148481543,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0002816247572524,
        "1day.excess_return_without_cost.annualized_return": 0.0670266922260882,
        "1day.excess_return_with_cost.std": 0.0044759956565551,
        "Rank IC": 0.0279613062426909,
        "IC": 0.008210625492184,
        "1day.excess_return_without_cost.max_drawdown": -0.0641479759576475,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.9709178581723216,
        "1day.pa": 0.0,
        "l2.valid": 0.996592964285101,
        "Rank ICIR": 0.2036320379668068,
        "l2.train": 0.9937583523724788,
        "1day.excess_return_with_cost.information_ratio": 0.2875663153230758,
        "1day.excess_return_with_cost.mean": 8.343325566451423e-05
      },
      "feedback": {
        "observations": "The current iteration of the Institutional Velocity & Structural Exhaustion (IVSE) framework has yielded strong results, particularly in terms of IC and Annualized Return. The 'IVSE_Efficiency_Decoupling_Factor' and its variants successfully captured market alpha by combining intraday price efficiency with long-term path efficiency. The IC improved significantly from 0.005798 to 0.008211, and the Annualized Return rose from 5.20% to 6.70%. Although the Information Ratio saw a marginal decline (0.9725 to 0.9709), the substantial reduction in Max Drawdown (-0.0725 to -0.0641) suggests a more robust risk-adjusted profile.",
        "hypothesis_evaluation": "The results strongly support the IVSE hypothesis. The core ideathat 'clean' price action (high efficiency) coupled with a decoupling from volume-driven noise (supply vacuum)identifies high-probability breakouts. The 'Structural_Exhaustion_Rank_Factor' specifically validates that cross-sectional ranking of path efficiency against volume correlation is a potent signal. However, the complexity of the 'IVSE_Efficiency_Decoupling_Factor' (using 5 different raw features: close, open, high, low, volume) is approaching the upper limit of the recommended feature count (ER), suggesting we should focus on refining the logic rather than adding more variables.",
        "decision": true,
        "reason": "While the current correlation-based scaling works, correlation can be noisy. By replacing the 5/20 volume-price correlation ratio with a measure of volume stability (standard deviation of volume), we can more accurately identify the 'quiet' accumulation phase of institutional investors. Additionally, simplifying the intraday efficiency component to focus solely on the 'Close-to-Range' ratio (avoiding 'Open') will reduce the base feature count and improve generalization while maintaining the core logic of the IVSE framework."
      },
      "cache_location": null
    },
    "31beaa2d50e8ab72": {
      "factor_id": "31beaa2d50e8ab72",
      "factor_name": "Structural_Exhaustion_Rank_Factor",
      "factor_expression": "RANK(DELTA($close, 60) / (TS_SUM(ABS($return), 60) + 1e-8)) * RANK(INV(TS_CORR($close, $volume, 5) + 1.1))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(DELTA($close, 60) / (TS_SUM(ABS(TS_PCTCHANGE($close, 1)), 60) + 0.00000001)) * RANK(INV(TS_CORR($close, $volume, 5) + 1.1))\" # Your output factor expression will be filled in here\n    name = \"Structural_Exhaustion_Rank_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "A cross-sectionally ranked version of the IVSE hypothesis focusing on the decoupling of price and volume. It identifies stocks where institutional price progress is high relative to total volatility, but retail-driven volume correlation is dropping, suggesting a structural supply vacuum.",
      "factor_formulation": "SER = \\text{RANK}(\\frac{close - \\text{DELAY}(close, 60)}{\\text{TS_SUM}(|return|, 60)}) \\times \\text{RANK}(\\frac{1}{\\text{TS_CORR}(close, volume, 5) + 1.1})",
      "metadata": {
        "experiment_id": "2026-01-18_14-14-43-683963",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "e3d0f67b6a04",
        "parent_trajectory_ids": [
          "ef9c1ab4ef6a",
          "7c0e5f7e30be"
        ],
        "hypothesis": "Hypothesis: The Institutional Velocity & Structural Exhaustion (IVSE) factor identifies alpha by multiplying 20-day intraday price efficiency with 60-day path efficiency, then scaling by the inverse of the 5-day/20-day volume-price correlation ratio to capture supply-vacuum breakouts.\n                Concise Observation: Parent 1 showed that intraday efficiency (IIAP) captures institutional footprints, while Parent 2 demonstrated that long-term path efficiency (AIFLE) combined with short-term volume-price decoupling identifies high-probability trend continuations.\n                Concise Justification: Fusing multi-scale efficiency metrics ensures that only 'high-quality' trends are selected, while the volume-price decoupling filter prevents entering overextended retail frenzies, targeting the specific window where institutional buying meets reduced market supply.\n                Concise Knowledge: If a stock exhibits high intraday price progress relative to volatility (clean accumulation) and high long-term path efficiency, it indicates institutional control; when this coincides with a decoupling of price and volume (lower short-term correlation), it signals a liquidity exhaustion phase likely to lead to a breakout.\n                concise Specification: The factor is defined as: (20-day Mean of [Abs(Close-Open)/(High-Low)]) * (60-day [Close_t - Close_{t-60}] / Sum of 60-day Abs[Returns]) / (5-day Correlation[Price, Volume] / 20-day Correlation[Price, Volume]).\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T11:46:57.218074"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.0818496341943236,
        "ICIR": 0.059389735127352,
        "1day.excess_return_without_cost.std": 0.0044748328720743,
        "1day.excess_return_with_cost.annualized_return": 0.0198571148481543,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0002816247572524,
        "1day.excess_return_without_cost.annualized_return": 0.0670266922260882,
        "1day.excess_return_with_cost.std": 0.0044759956565551,
        "Rank IC": 0.0279613062426909,
        "IC": 0.008210625492184,
        "1day.excess_return_without_cost.max_drawdown": -0.0641479759576475,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.9709178581723216,
        "1day.pa": 0.0,
        "l2.valid": 0.996592964285101,
        "Rank ICIR": 0.2036320379668068,
        "l2.train": 0.9937583523724788,
        "1day.excess_return_with_cost.information_ratio": 0.2875663153230758,
        "1day.excess_return_with_cost.mean": 8.343325566451423e-05
      },
      "feedback": {
        "observations": "The current iteration of the Institutional Velocity & Structural Exhaustion (IVSE) framework has yielded strong results, particularly in terms of IC and Annualized Return. The 'IVSE_Efficiency_Decoupling_Factor' and its variants successfully captured market alpha by combining intraday price efficiency with long-term path efficiency. The IC improved significantly from 0.005798 to 0.008211, and the Annualized Return rose from 5.20% to 6.70%. Although the Information Ratio saw a marginal decline (0.9725 to 0.9709), the substantial reduction in Max Drawdown (-0.0725 to -0.0641) suggests a more robust risk-adjusted profile.",
        "hypothesis_evaluation": "The results strongly support the IVSE hypothesis. The core ideathat 'clean' price action (high efficiency) coupled with a decoupling from volume-driven noise (supply vacuum)identifies high-probability breakouts. The 'Structural_Exhaustion_Rank_Factor' specifically validates that cross-sectional ranking of path efficiency against volume correlation is a potent signal. However, the complexity of the 'IVSE_Efficiency_Decoupling_Factor' (using 5 different raw features: close, open, high, low, volume) is approaching the upper limit of the recommended feature count (ER), suggesting we should focus on refining the logic rather than adding more variables.",
        "decision": true,
        "reason": "While the current correlation-based scaling works, correlation can be noisy. By replacing the 5/20 volume-price correlation ratio with a measure of volume stability (standard deviation of volume), we can more accurately identify the 'quiet' accumulation phase of institutional investors. Additionally, simplifying the intraday efficiency component to focus solely on the 'Close-to-Range' ratio (avoiding 'Open') will reduce the base feature count and improve generalization while maintaining the core logic of the IVSE framework."
      },
      "cache_location": null
    },
    "5e203f9850d69e1a": {
      "factor_id": "5e203f9850d69e1a",
      "factor_name": "Velocity_Path_Efficiency_Factor",
      "factor_expression": "TS_ZSCORE(TS_MEAN(ABS($close - $open) / ($high - $low + 1e-8), 20), 40) * TS_ZSCORE(DELTA($close, 60) / (TS_SUM(ABS($return), 60) + 1e-8), 40)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE(TS_MEAN(ABS($close - $open) / ($high - $low + 1e-8), 20), 40) * TS_ZSCORE(DELTA($close, 60) / (TS_SUM(ABS(TS_PCTCHANGE($close, 1)), 60) + 1e-8), 40)\" # Your output factor expression will be filled in here\n    name = \"Velocity_Path_Efficiency_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor focuses on the 'Institutional Velocity' component of the IVSE hypothesis. It measures the product of standardized intraday efficiency and long-term path efficiency to capture 'clean' institutional accumulation trends.",
      "factor_formulation": "VPE = \\text{TS_ZSCORE}(\\text{TS_MEAN}(\\frac{|close - open|}{high - low}, 20), 40) \\times \\text{TS_ZSCORE}(\\frac{close - \\text{DELAY}(close, 60)}{\\text{TS_SUM}(|return|, 60)}, 40)",
      "metadata": {
        "experiment_id": "2026-01-18_14-14-43-683963",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "e3d0f67b6a04",
        "parent_trajectory_ids": [
          "ef9c1ab4ef6a",
          "7c0e5f7e30be"
        ],
        "hypothesis": "Hypothesis: The Institutional Velocity & Structural Exhaustion (IVSE) factor identifies alpha by multiplying 20-day intraday price efficiency with 60-day path efficiency, then scaling by the inverse of the 5-day/20-day volume-price correlation ratio to capture supply-vacuum breakouts.\n                Concise Observation: Parent 1 showed that intraday efficiency (IIAP) captures institutional footprints, while Parent 2 demonstrated that long-term path efficiency (AIFLE) combined with short-term volume-price decoupling identifies high-probability trend continuations.\n                Concise Justification: Fusing multi-scale efficiency metrics ensures that only 'high-quality' trends are selected, while the volume-price decoupling filter prevents entering overextended retail frenzies, targeting the specific window where institutional buying meets reduced market supply.\n                Concise Knowledge: If a stock exhibits high intraday price progress relative to volatility (clean accumulation) and high long-term path efficiency, it indicates institutional control; when this coincides with a decoupling of price and volume (lower short-term correlation), it signals a liquidity exhaustion phase likely to lead to a breakout.\n                concise Specification: The factor is defined as: (20-day Mean of [Abs(Close-Open)/(High-Low)]) * (60-day [Close_t - Close_{t-60}] / Sum of 60-day Abs[Returns]) / (5-day Correlation[Price, Volume] / 20-day Correlation[Price, Volume]).\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T11:46:57.218074"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.0818496341943236,
        "ICIR": 0.059389735127352,
        "1day.excess_return_without_cost.std": 0.0044748328720743,
        "1day.excess_return_with_cost.annualized_return": 0.0198571148481543,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0002816247572524,
        "1day.excess_return_without_cost.annualized_return": 0.0670266922260882,
        "1day.excess_return_with_cost.std": 0.0044759956565551,
        "Rank IC": 0.0279613062426909,
        "IC": 0.008210625492184,
        "1day.excess_return_without_cost.max_drawdown": -0.0641479759576475,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.9709178581723216,
        "1day.pa": 0.0,
        "l2.valid": 0.996592964285101,
        "Rank ICIR": 0.2036320379668068,
        "l2.train": 0.9937583523724788,
        "1day.excess_return_with_cost.information_ratio": 0.2875663153230758,
        "1day.excess_return_with_cost.mean": 8.343325566451423e-05
      },
      "feedback": {
        "observations": "The current iteration of the Institutional Velocity & Structural Exhaustion (IVSE) framework has yielded strong results, particularly in terms of IC and Annualized Return. The 'IVSE_Efficiency_Decoupling_Factor' and its variants successfully captured market alpha by combining intraday price efficiency with long-term path efficiency. The IC improved significantly from 0.005798 to 0.008211, and the Annualized Return rose from 5.20% to 6.70%. Although the Information Ratio saw a marginal decline (0.9725 to 0.9709), the substantial reduction in Max Drawdown (-0.0725 to -0.0641) suggests a more robust risk-adjusted profile.",
        "hypothesis_evaluation": "The results strongly support the IVSE hypothesis. The core ideathat 'clean' price action (high efficiency) coupled with a decoupling from volume-driven noise (supply vacuum)identifies high-probability breakouts. The 'Structural_Exhaustion_Rank_Factor' specifically validates that cross-sectional ranking of path efficiency against volume correlation is a potent signal. However, the complexity of the 'IVSE_Efficiency_Decoupling_Factor' (using 5 different raw features: close, open, high, low, volume) is approaching the upper limit of the recommended feature count (ER), suggesting we should focus on refining the logic rather than adding more variables.",
        "decision": true,
        "reason": "While the current correlation-based scaling works, correlation can be noisy. By replacing the 5/20 volume-price correlation ratio with a measure of volume stability (standard deviation of volume), we can more accurately identify the 'quiet' accumulation phase of institutional investors. Additionally, simplifying the intraday efficiency component to focus solely on the 'Close-to-Range' ratio (avoiding 'Open') will reduce the base feature count and improve generalization while maintaining the core logic of the IVSE framework."
      },
      "cache_location": null
    },
    "5ef9cf9cddedcfd9": {
      "factor_id": "5ef9cf9cddedcfd9",
      "factor_name": "Institutional_Stealth_Gap_Synergy_20D",
      "factor_expression": "TS_MEAN((($close - $open) / ($high - $low + 1e-8)) * ($open / DELAY($close, 1) - 1), 20) * (1 - TS_CORR($close, $volume, 20))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN((($close - $open) / ($high - $low + 1e-8)) * ($open / DELAY($close, 1) - 1), 20) * (1 - TS_CORR($close, $volume, 20))\" # Your output factor expression will be filled in here\n    name = \"Institutional_Stealth_Gap_Synergy_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor identifies institutional accumulation by combining intraday efficiency (price movement quality) with overnight gaps, adjusted by price-volume correlation. A high efficiency ratio and positive gap suggest high-conviction movement, while a low price-volume correlation filters for 'stealth' accumulation rather than retail-driven spikes.",
      "factor_formulation": "\\text{TS_MEAN}\\left(\\frac{\\text{close} - \\text{open}}{\\text{high} - \\text{low} + 1e-8} \\times \\left(\\frac{\\text{open}}{\\text{DELAY}(\\text{close}, 1)} - 1\\right), 20\\right) \\times (1 - \\text{TS_CORR}(\\text{close}, \\text{volume}, 20))",
      "metadata": {
        "experiment_id": "2026-01-19_04-13-15-519909",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "341a7cad7fb9",
        "parent_trajectory_ids": [
          "3cf80db891c5",
          "695d36363400"
        ],
        "hypothesis": "Hypothesis: The 'Institutional Stealth-Gap Synergy' factor, defined as the 20-day average of the product of the Intraday Efficiency Ratio and the Overnight Gap, filtered by the 20-day Price-Volume Correlation, captures superior alpha by identifying high-conviction institutional accumulation.\n                Concise Observation: Parent 1 (RankIC=0.0275) highlights that price movement 'quality' (Efficiency Ratio) is predictive, while Parent 2 (RankIC=0.0274) shows that overnight gaps validated by volume context capture institutional sentiment shifts.\n                Concise Justification: Combining intraday efficiency with overnight gaps creates a multi-temporal filter that distinguishes between noise-driven volatility and strategic positioning, while the price-volume correlation ensures the signal is not a late-stage retail spike.\n                Concise Knowledge: If a stock exhibits a high Intraday Efficiency Ratio (net change divided by path length) alongside positive overnight gaps, it indicates institutional conviction; when this is coupled with a negative price-volume correlation, it suggests the trend is driven by stealth accumulation rather than retail-driven exhaustion.\n                concise Specification: Calculate the Intraday Efficiency Ratio as (Close - Open) / (High - Low); calculate the Overnight Gap as (Open / Close[t-1] - 1); the factor is the 20-day rolling mean of (Efficiency Ratio * Overnight Gap), adjusted by the 20-day correlation between price and volume.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T21:10:26.682490"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.0741787805777948,
        "ICIR": 0.0782394489100944,
        "1day.excess_return_without_cost.std": 0.0043208006923194,
        "1day.excess_return_with_cost.annualized_return": 0.0424819726893577,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0003776668130268,
        "1day.excess_return_without_cost.annualized_return": 0.0898847015003979,
        "1day.excess_return_with_cost.std": 0.0043211781088469,
        "Rank IC": 0.0275664048017801,
        "IC": 0.0105979870621839,
        "1day.excess_return_without_cost.max_drawdown": -0.0672179826953308,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.3484444748053408,
        "1day.pa": 0.0,
        "l2.valid": 0.9965214041321786,
        "Rank ICIR": 0.2060310089760004,
        "l2.train": 0.993776529403964,
        "1day.excess_return_with_cost.information_ratio": 0.6372561414375741,
        "1day.excess_return_with_cost.mean": 0.0001784956835687
      },
      "feedback": {
        "observations": "The current iteration focused on the 'Institutional Stealth-Gap Synergy' framework, testing three variations that combine intraday efficiency, overnight gaps, and price-volume correlation. The results show a significant performance leap compared to the previous SOTA. Specifically, the Information Ratio increased from 0.97 to 1.35, and the IC nearly doubled from 0.0058 to 0.0106. The annualized return also saw a substantial improvement from 5.2% to 8.99%, while simultaneously reducing the maximum drawdown. This suggests that the interaction between overnight positioning and intraday price quality, when filtered by 'stealth' (low price-volume correlation) metrics, is a powerful predictor of alpha.",
        "hypothesis_evaluation": "The results strongly support the hypothesis. The 'Institutional_Stealth_Gap_Synergy_20D' factor effectively captures alpha by identifying high-conviction moves that occur outside of high-volume retail environments. The synergy between the overnight gap (institutional positioning) and intraday efficiency (trend quality) appears to be the primary driver. However, the complexity of the formulation (using 5 raw features and multiple rolling windows) suggests we should now focus on isolating which componentthe gap or the efficiencycontributes most to the 'stealth' signal to ensure robustness.",
        "decision": true,
        "reason": "While the current results are excellent, the factor 'Institutional_Stealth_Gap_Synergy_20D' uses five base features ($open, $close, $high, $low, $volume), which is approaching the complexity limit (ER > 6). By testing a more parsimonious version that focuses on the 'Gap / Correlation' ratio, we can determine if the intraday range ($high - $low) is strictly necessary or if it introduces noise. Reducing the feature count will improve the factor's generalization and reduce the risk of overfitting to specific volatility regimes."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_221443",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221443",
        "factor_dir": "1558ea7f7cd64da69c6a008c2f8deff8",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221443/1558ea7f7cd64da69c6a008c2f8deff8/result.h5"
      }
    },
    "27e6a3752f16bd71": {
      "factor_id": "27e6a3752f16bd71",
      "factor_name": "Stealth_Accumulation_Efficiency_Rank_20D",
      "factor_expression": "RANK(TS_MEAN(($close - $open) / ($high - $low + 1e-8), 20)) - RANK(TS_CORR($close, $volume, 20))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN(($close - $open) / ($high - $low + 1e-8), 20)) - RANK(TS_CORR($close, $volume, 20))\" # Your output factor expression will be filled in here\n    name = \"Stealth_Accumulation_Efficiency_Rank_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "A simplified version of the Stealth-Gap Synergy hypothesis using cross-sectional ranking to normalize the signal. It measures the synergy between intraday price efficiency and the overnight gap, penalized by the strength of the price-volume relationship to isolate non-obvious institutional flows.",
      "factor_formulation": "\\text{RANK}(\\text{TS_MEAN}(\\text{Efficiency}, 20)) - \\text{RANK}(\\text{TS_CORR}(\\text{close}, \\text{volume}, 20))",
      "metadata": {
        "experiment_id": "2026-01-19_04-13-15-519909",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "341a7cad7fb9",
        "parent_trajectory_ids": [
          "3cf80db891c5",
          "695d36363400"
        ],
        "hypothesis": "Hypothesis: The 'Institutional Stealth-Gap Synergy' factor, defined as the 20-day average of the product of the Intraday Efficiency Ratio and the Overnight Gap, filtered by the 20-day Price-Volume Correlation, captures superior alpha by identifying high-conviction institutional accumulation.\n                Concise Observation: Parent 1 (RankIC=0.0275) highlights that price movement 'quality' (Efficiency Ratio) is predictive, while Parent 2 (RankIC=0.0274) shows that overnight gaps validated by volume context capture institutional sentiment shifts.\n                Concise Justification: Combining intraday efficiency with overnight gaps creates a multi-temporal filter that distinguishes between noise-driven volatility and strategic positioning, while the price-volume correlation ensures the signal is not a late-stage retail spike.\n                Concise Knowledge: If a stock exhibits a high Intraday Efficiency Ratio (net change divided by path length) alongside positive overnight gaps, it indicates institutional conviction; when this is coupled with a negative price-volume correlation, it suggests the trend is driven by stealth accumulation rather than retail-driven exhaustion.\n                concise Specification: Calculate the Intraday Efficiency Ratio as (Close - Open) / (High - Low); calculate the Overnight Gap as (Open / Close[t-1] - 1); the factor is the 20-day rolling mean of (Efficiency Ratio * Overnight Gap), adjusted by the 20-day correlation between price and volume.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T21:10:26.682490"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.0741787805777948,
        "ICIR": 0.0782394489100944,
        "1day.excess_return_without_cost.std": 0.0043208006923194,
        "1day.excess_return_with_cost.annualized_return": 0.0424819726893577,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0003776668130268,
        "1day.excess_return_without_cost.annualized_return": 0.0898847015003979,
        "1day.excess_return_with_cost.std": 0.0043211781088469,
        "Rank IC": 0.0275664048017801,
        "IC": 0.0105979870621839,
        "1day.excess_return_without_cost.max_drawdown": -0.0672179826953308,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.3484444748053408,
        "1day.pa": 0.0,
        "l2.valid": 0.9965214041321786,
        "Rank ICIR": 0.2060310089760004,
        "l2.train": 0.993776529403964,
        "1day.excess_return_with_cost.information_ratio": 0.6372561414375741,
        "1day.excess_return_with_cost.mean": 0.0001784956835687
      },
      "feedback": {
        "observations": "The current iteration focused on the 'Institutional Stealth-Gap Synergy' framework, testing three variations that combine intraday efficiency, overnight gaps, and price-volume correlation. The results show a significant performance leap compared to the previous SOTA. Specifically, the Information Ratio increased from 0.97 to 1.35, and the IC nearly doubled from 0.0058 to 0.0106. The annualized return also saw a substantial improvement from 5.2% to 8.99%, while simultaneously reducing the maximum drawdown. This suggests that the interaction between overnight positioning and intraday price quality, when filtered by 'stealth' (low price-volume correlation) metrics, is a powerful predictor of alpha.",
        "hypothesis_evaluation": "The results strongly support the hypothesis. The 'Institutional_Stealth_Gap_Synergy_20D' factor effectively captures alpha by identifying high-conviction moves that occur outside of high-volume retail environments. The synergy between the overnight gap (institutional positioning) and intraday efficiency (trend quality) appears to be the primary driver. However, the complexity of the formulation (using 5 raw features and multiple rolling windows) suggests we should now focus on isolating which componentthe gap or the efficiencycontributes most to the 'stealth' signal to ensure robustness.",
        "decision": true,
        "reason": "While the current results are excellent, the factor 'Institutional_Stealth_Gap_Synergy_20D' uses five base features ($open, $close, $high, $low, $volume), which is approaching the complexity limit (ER > 6). By testing a more parsimonious version that focuses on the 'Gap / Correlation' ratio, we can determine if the intraday range ($high - $low) is strictly necessary or if it introduces noise. Reducing the feature count will improve the factor's generalization and reduce the risk of overfitting to specific volatility regimes."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_221443",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221443",
        "factor_dir": "6fce6ec6d8b044a3b35d4f0d006f333a",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221443/6fce6ec6d8b044a3b35d4f0d006f333a/result.h5"
      }
    },
    "7757beef4be825bf": {
      "factor_id": "7757beef4be825bf",
      "factor_name": "Gap_Conviction_Volume_Filter_15D",
      "factor_expression": "TS_MEAN($open / DELAY($close, 1) - 1, 15) / (TS_CORR($close, $volume, 15) + 1.01)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN(($open / DELAY($close, 1) - 1) / (($high - $low) / $close + 0.001), 15) * INV(TS_CORR($close, $volume, 15) + 1.01)\" # Your output factor expression will be filled in here\n    name = \"Gap_Conviction_Volume_Filter_15D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor focuses on the conviction of overnight gaps. It calculates the rolling average of the overnight gap scaled by intraday price range, then adjusts by the inverse of price-volume correlation to ensure the trend is not driven by high-volume retail exhaustion.",
      "factor_formulation": "\\text{TS_MEAN}(\\text{open} / \\text{DELAY}(\\text{close}, 1) - 1, 15) / (TS_CORR($close, $volume, 15) + 1.01)",
      "metadata": {
        "experiment_id": "2026-01-19_04-13-15-519909",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "341a7cad7fb9",
        "parent_trajectory_ids": [
          "3cf80db891c5",
          "695d36363400"
        ],
        "hypothesis": "Hypothesis: The 'Institutional Stealth-Gap Synergy' factor, defined as the 20-day average of the product of the Intraday Efficiency Ratio and the Overnight Gap, filtered by the 20-day Price-Volume Correlation, captures superior alpha by identifying high-conviction institutional accumulation.\n                Concise Observation: Parent 1 (RankIC=0.0275) highlights that price movement 'quality' (Efficiency Ratio) is predictive, while Parent 2 (RankIC=0.0274) shows that overnight gaps validated by volume context capture institutional sentiment shifts.\n                Concise Justification: Combining intraday efficiency with overnight gaps creates a multi-temporal filter that distinguishes between noise-driven volatility and strategic positioning, while the price-volume correlation ensures the signal is not a late-stage retail spike.\n                Concise Knowledge: If a stock exhibits a high Intraday Efficiency Ratio (net change divided by path length) alongside positive overnight gaps, it indicates institutional conviction; when this is coupled with a negative price-volume correlation, it suggests the trend is driven by stealth accumulation rather than retail-driven exhaustion.\n                concise Specification: Calculate the Intraday Efficiency Ratio as (Close - Open) / (High - Low); calculate the Overnight Gap as (Open / Close[t-1] - 1); the factor is the 20-day rolling mean of (Efficiency Ratio * Overnight Gap), adjusted by the 20-day correlation between price and volume.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T21:10:26.682490"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.0741787805777948,
        "ICIR": 0.0782394489100944,
        "1day.excess_return_without_cost.std": 0.0043208006923194,
        "1day.excess_return_with_cost.annualized_return": 0.0424819726893577,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0003776668130268,
        "1day.excess_return_without_cost.annualized_return": 0.0898847015003979,
        "1day.excess_return_with_cost.std": 0.0043211781088469,
        "Rank IC": 0.0275664048017801,
        "IC": 0.0105979870621839,
        "1day.excess_return_without_cost.max_drawdown": -0.0672179826953308,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.3484444748053408,
        "1day.pa": 0.0,
        "l2.valid": 0.9965214041321786,
        "Rank ICIR": 0.2060310089760004,
        "l2.train": 0.993776529403964,
        "1day.excess_return_with_cost.information_ratio": 0.6372561414375741,
        "1day.excess_return_with_cost.mean": 0.0001784956835687
      },
      "feedback": {
        "observations": "The current iteration focused on the 'Institutional Stealth-Gap Synergy' framework, testing three variations that combine intraday efficiency, overnight gaps, and price-volume correlation. The results show a significant performance leap compared to the previous SOTA. Specifically, the Information Ratio increased from 0.97 to 1.35, and the IC nearly doubled from 0.0058 to 0.0106. The annualized return also saw a substantial improvement from 5.2% to 8.99%, while simultaneously reducing the maximum drawdown. This suggests that the interaction between overnight positioning and intraday price quality, when filtered by 'stealth' (low price-volume correlation) metrics, is a powerful predictor of alpha.",
        "hypothesis_evaluation": "The results strongly support the hypothesis. The 'Institutional_Stealth_Gap_Synergy_20D' factor effectively captures alpha by identifying high-conviction moves that occur outside of high-volume retail environments. The synergy between the overnight gap (institutional positioning) and intraday efficiency (trend quality) appears to be the primary driver. However, the complexity of the formulation (using 5 raw features and multiple rolling windows) suggests we should now focus on isolating which componentthe gap or the efficiencycontributes most to the 'stealth' signal to ensure robustness.",
        "decision": true,
        "reason": "While the current results are excellent, the factor 'Institutional_Stealth_Gap_Synergy_20D' uses five base features ($open, $close, $high, $low, $volume), which is approaching the complexity limit (ER > 6). By testing a more parsimonious version that focuses on the 'Gap / Correlation' ratio, we can determine if the intraday range ($high - $low) is strictly necessary or if it introduces noise. Reducing the feature count will improve the factor's generalization and reduce the risk of overfitting to specific volatility regimes."
      },
      "cache_location": null
    },
    "d31c88f143180e2f": {
      "factor_id": "d31c88f143180e2f",
      "factor_name": "AIRE_Acceleration_Conviction_10D",
      "factor_expression": "ZSCORE(DELTA(DELTA($close, 5), 5)) * TS_CORR($close, $volume, 10) * (TS_STD(REGRESI($return, SEQUENCE(20), 20), 20) / (ABS(TS_CORR($return, SEQUENCE(20), 20)) + 1e-8))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(DELTA(DELTA($close, 5), 5)) * TS_CORR($close, $volume, 10) * (TS_STD(REGRESI(TS_PCTCHANGE($close, 1), SEQUENCE(20), 20), 20) / (ABS(TS_CORR(TS_PCTCHANGE($close, 1), SEQUENCE(20), 20)) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"AIRE_Acceleration_Conviction_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "The 'Adaptive Institutional Resilience Engine' (AIRE) factor identifies alpha by combining 10-day price acceleration with a conviction filter. It calculates the cross-sectional Z-score of price acceleration (second derivative) and weights it by the 10-day price-volume correlation and the 20-day ratio of idiosyncratic volatility to market correlation, isolating high-conviction institutional signals.",
      "factor_formulation": "AIRE = ZSCORE(DELTA(DELTA(close, 5), 5)) * TS\\_CORR(close, volume, 10) * \\frac{TS\\_STD(REGRESI(return, SEQUENCE(20), 20), 20)}{ABS(TS\\_CORR(return, SEQUENCE(20), 20)) + 1e-8}",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "925e9821790f",
        "parent_trajectory_ids": [
          "8b0b21740c56",
          "2885155800fc"
        ],
        "hypothesis": "Hypothesis: The 'Adaptive Institutional Resilience Engine' (AIRE) factor identifies alpha by multiplying the cross-sectional Z-score of 10-day price acceleration with a conviction filter composed of the 10-day price-volume correlation and the ratio of 20-day idiosyncratic volatility to market correlation.\n                Concise Observation: Parent 1 (RankIC 0.023) captures momentum breakouts via price acceleration, while Parent 2 (RankIC 0.031) identifies informed trading through volume and volatility structures; combining them filters out low-conviction price spikes that lack structural support.\n                Concise Justification: Price acceleration alone can be noisy, but when weighted by the price-volume correlation and the degree of market decoupling (idiosyncratic/correlation ratio), it isolates high-conviction institutional signals that are more likely to persist.\n                Concise Knowledge: If price acceleration is decoupled from market trends and confirmed by high price-volume correlation, the move is likely driven by institutional accumulation rather than retail noise; when idiosyncratic volatility is high relative to market correlation, it indicates asset-specific information dominance.\n                concise Specification: Calculate the 10-day price acceleration (second derivative of price), Z-score it cross-sectionally, and multiply by the product of the 10-day correlation between close price and volume and the 20-day ratio of idiosyncratic volatility to market correlation.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T15:38:09.916858"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1638992669107967,
        "ICIR": 0.0630062204600847,
        "1day.excess_return_without_cost.std": 0.0041355931527232,
        "1day.excess_return_with_cost.annualized_return": -0.0081854547422202,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0001657745044947,
        "1day.excess_return_without_cost.annualized_return": 0.0394543320697608,
        "1day.excess_return_with_cost.std": 0.0041361173785432,
        "Rank IC": 0.0273347725674348,
        "IC": 0.0091828807472231,
        "1day.excess_return_without_cost.max_drawdown": -0.1422008537640898,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.6183984742561598,
        "1day.pa": 0.0,
        "l2.valid": 0.9963858480431208,
        "Rank ICIR": 0.1886807656376595,
        "l2.train": 0.993729287556352,
        "1day.excess_return_with_cost.information_ratio": -0.1282807463443787,
        "1day.excess_return_with_cost.mean": -3.439266698411868e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the 'Adaptive Institutional Resilience Engine' (AIRE) hypothesis. The implementation 'AIRE_Acceleration_Conviction_10D' achieved a higher Information Coefficient (IC) of 0.009183 compared to the SOTA (0.005798), indicating improved point-in-time predictive accuracy. However, the portfolio-based metrics (Annualized Return, Information Ratio, and Max Drawdown) significantly underperformed the SOTA. The current best annualized return (0.039454) is lower than the SOTA (0.052010), and the drawdown is nearly double (-0.1422 vs -0.0725). This suggests that while the signal captures short-term correlation well, its volatility and tail risk are poorly managed, likely due to the high complexity of the formulation involving nested DELTAs, regressions, and multiple interaction terms.",
        "hypothesis_evaluation": "The hypothesis that combining price acceleration with an idiosyncratic volatility/market correlation ratio identifies alpha is partially supported by the improved IC. However, the construction is currently too 'noisy' or over-engineered. The use of REGRESI on a SEQUENCE(20) as a proxy for market decoupling is mathematically complex and may be capturing noise rather than institutional conviction. The interaction between three distinct components (Acceleration, PV-Correlation, and Idiosyncratic Ratio) increases the 'Symbol Length' and 'Free Parameters' significantly, leading to the observed poor risk-adjusted performance (IR) despite a higher IC.",
        "decision": false,
        "reason": "The current results show a high IC but poor IR, a classic sign of an over-parameterized signal that is sensitive to outliers. By simplifying the expression (Complexity Control), we reduce the risk of overfitting. Replacing the REGRESI(return, SEQUENCE(20)) with a simpler volatility-adjusted acceleration (e.g., DELTA(return, n) / TS_STD(return, n)) maintains the core logic of 'resilience' while reducing the symbol length and the number of base feature interactions. This should lead to more stable portfolio performance and a better Information Ratio."
      },
      "cache_location": null
    },
    "2d6d59fb1a344daa": {
      "factor_id": "2d6d59fb1a344daa",
      "factor_name": "Institutional_Resilience_Signal_20D",
      "factor_expression": "RANK(DELTA(TS_PCTCHANGE($close, 5), 5)) * RANK(TS_CORR($close, $volume, 10)) * (TS_STD($return, 20) / (ABS(TS_CORR($return, SEQUENCE(20), 20)) + 1e-8))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(DELTA(TS_PCTCHANGE($close, 5), 5)) * RANK(TS_CORR($close, $volume, 10)) * (TS_STD(TS_PCTCHANGE($close, 1), 20) / (ABS(TS_CORR(TS_PCTCHANGE($close, 1), SEQUENCE(20), 20)) + 0.00000001))\" # Your output factor expression will be filled in here\n    name = \"Institutional_Resilience_Signal_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "A simplified version of the AIRE hypothesis focusing on the decoupling of price momentum from market trends. It measures the product of price acceleration and the ratio of stock-specific volatility to its correlation with a time-trend, filtered by volume confirmation to detect institutional accumulation.",
      "factor_formulation": "IRS = RANK(DELTA(TS_PCTCHANGE(close, 5), 5)) * RANK(TS_CORR(close, volume, 10)) * (TS_STD(return, 20) / (ABS(TS_CORR(return, SEQUENCE(20), 20)) + 1e-8))",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "925e9821790f",
        "parent_trajectory_ids": [
          "8b0b21740c56",
          "2885155800fc"
        ],
        "hypothesis": "Hypothesis: The 'Adaptive Institutional Resilience Engine' (AIRE) factor identifies alpha by multiplying the cross-sectional Z-score of 10-day price acceleration with a conviction filter composed of the 10-day price-volume correlation and the ratio of 20-day idiosyncratic volatility to market correlation.\n                Concise Observation: Parent 1 (RankIC 0.023) captures momentum breakouts via price acceleration, while Parent 2 (RankIC 0.031) identifies informed trading through volume and volatility structures; combining them filters out low-conviction price spikes that lack structural support.\n                Concise Justification: Price acceleration alone can be noisy, but when weighted by the price-volume correlation and the degree of market decoupling (idiosyncratic/correlation ratio), it isolates high-conviction institutional signals that are more likely to persist.\n                Concise Knowledge: If price acceleration is decoupled from market trends and confirmed by high price-volume correlation, the move is likely driven by institutional accumulation rather than retail noise; when idiosyncratic volatility is high relative to market correlation, it indicates asset-specific information dominance.\n                concise Specification: Calculate the 10-day price acceleration (second derivative of price), Z-score it cross-sectionally, and multiply by the product of the 10-day correlation between close price and volume and the 20-day ratio of idiosyncratic volatility to market correlation.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T15:38:09.916858"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1638992669107967,
        "ICIR": 0.0630062204600847,
        "1day.excess_return_without_cost.std": 0.0041355931527232,
        "1day.excess_return_with_cost.annualized_return": -0.0081854547422202,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0001657745044947,
        "1day.excess_return_without_cost.annualized_return": 0.0394543320697608,
        "1day.excess_return_with_cost.std": 0.0041361173785432,
        "Rank IC": 0.0273347725674348,
        "IC": 0.0091828807472231,
        "1day.excess_return_without_cost.max_drawdown": -0.1422008537640898,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.6183984742561598,
        "1day.pa": 0.0,
        "l2.valid": 0.9963858480431208,
        "Rank ICIR": 0.1886807656376595,
        "l2.train": 0.993729287556352,
        "1day.excess_return_with_cost.information_ratio": -0.1282807463443787,
        "1day.excess_return_with_cost.mean": -3.439266698411868e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the 'Adaptive Institutional Resilience Engine' (AIRE) hypothesis. The implementation 'AIRE_Acceleration_Conviction_10D' achieved a higher Information Coefficient (IC) of 0.009183 compared to the SOTA (0.005798), indicating improved point-in-time predictive accuracy. However, the portfolio-based metrics (Annualized Return, Information Ratio, and Max Drawdown) significantly underperformed the SOTA. The current best annualized return (0.039454) is lower than the SOTA (0.052010), and the drawdown is nearly double (-0.1422 vs -0.0725). This suggests that while the signal captures short-term correlation well, its volatility and tail risk are poorly managed, likely due to the high complexity of the formulation involving nested DELTAs, regressions, and multiple interaction terms.",
        "hypothesis_evaluation": "The hypothesis that combining price acceleration with an idiosyncratic volatility/market correlation ratio identifies alpha is partially supported by the improved IC. However, the construction is currently too 'noisy' or over-engineered. The use of REGRESI on a SEQUENCE(20) as a proxy for market decoupling is mathematically complex and may be capturing noise rather than institutional conviction. The interaction between three distinct components (Acceleration, PV-Correlation, and Idiosyncratic Ratio) increases the 'Symbol Length' and 'Free Parameters' significantly, leading to the observed poor risk-adjusted performance (IR) despite a higher IC.",
        "decision": false,
        "reason": "The current results show a high IC but poor IR, a classic sign of an over-parameterized signal that is sensitive to outliers. By simplifying the expression (Complexity Control), we reduce the risk of overfitting. Replacing the REGRESI(return, SEQUENCE(20)) with a simpler volatility-adjusted acceleration (e.g., DELTA(return, n) / TS_STD(return, n)) maintains the core logic of 'resilience' while reducing the symbol length and the number of base feature interactions. This should lead to more stable portfolio performance and a better Information Ratio."
      },
      "cache_location": null
    },
    "99861d3d1cb7faf4": {
      "factor_id": "99861d3d1cb7faf4",
      "factor_name": "Decoupled_Acceleration_ZScore",
      "factor_expression": "ZSCORE(DELTA(DELTA($close, 3), 3)) * TS_STD(REGRESI($return, SEQUENCE(10), 10), 10)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(DELTA(DELTA($close, 3), 3)) * TS_STD(REGRESI(TS_PCTCHANGE($close, 1), SEQUENCE(10), 10), 10)\" # Your output factor expression will be filled in here\n    name = \"Decoupled_Acceleration_ZScore\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor targets the 'idiosyncratic information dominance' aspect of the AIRE hypothesis. It uses the Z-score of price acceleration multiplied by a metric that rewards high idiosyncratic risk relative to market beta (proxied by correlation to a sequence), identifying moves independent of broad market trends.",
      "factor_formulation": "DAZ = ZSCORE(DELTA(DELTA(close, 3), 3)) * TS\\_STD(REGRESI(return, SEQUENCE(10), 10), 10)",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "925e9821790f",
        "parent_trajectory_ids": [
          "8b0b21740c56",
          "2885155800fc"
        ],
        "hypothesis": "Hypothesis: The 'Adaptive Institutional Resilience Engine' (AIRE) factor identifies alpha by multiplying the cross-sectional Z-score of 10-day price acceleration with a conviction filter composed of the 10-day price-volume correlation and the ratio of 20-day idiosyncratic volatility to market correlation.\n                Concise Observation: Parent 1 (RankIC 0.023) captures momentum breakouts via price acceleration, while Parent 2 (RankIC 0.031) identifies informed trading through volume and volatility structures; combining them filters out low-conviction price spikes that lack structural support.\n                Concise Justification: Price acceleration alone can be noisy, but when weighted by the price-volume correlation and the degree of market decoupling (idiosyncratic/correlation ratio), it isolates high-conviction institutional signals that are more likely to persist.\n                Concise Knowledge: If price acceleration is decoupled from market trends and confirmed by high price-volume correlation, the move is likely driven by institutional accumulation rather than retail noise; when idiosyncratic volatility is high relative to market correlation, it indicates asset-specific information dominance.\n                concise Specification: Calculate the 10-day price acceleration (second derivative of price), Z-score it cross-sectionally, and multiply by the product of the 10-day correlation between close price and volume and the 20-day ratio of idiosyncratic volatility to market correlation.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T15:38:09.916858"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1638992669107967,
        "ICIR": 0.0630062204600847,
        "1day.excess_return_without_cost.std": 0.0041355931527232,
        "1day.excess_return_with_cost.annualized_return": -0.0081854547422202,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0001657745044947,
        "1day.excess_return_without_cost.annualized_return": 0.0394543320697608,
        "1day.excess_return_with_cost.std": 0.0041361173785432,
        "Rank IC": 0.0273347725674348,
        "IC": 0.0091828807472231,
        "1day.excess_return_without_cost.max_drawdown": -0.1422008537640898,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.6183984742561598,
        "1day.pa": 0.0,
        "l2.valid": 0.9963858480431208,
        "Rank ICIR": 0.1886807656376595,
        "l2.train": 0.993729287556352,
        "1day.excess_return_with_cost.information_ratio": -0.1282807463443787,
        "1day.excess_return_with_cost.mean": -3.439266698411868e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the 'Adaptive Institutional Resilience Engine' (AIRE) hypothesis. The implementation 'AIRE_Acceleration_Conviction_10D' achieved a higher Information Coefficient (IC) of 0.009183 compared to the SOTA (0.005798), indicating improved point-in-time predictive accuracy. However, the portfolio-based metrics (Annualized Return, Information Ratio, and Max Drawdown) significantly underperformed the SOTA. The current best annualized return (0.039454) is lower than the SOTA (0.052010), and the drawdown is nearly double (-0.1422 vs -0.0725). This suggests that while the signal captures short-term correlation well, its volatility and tail risk are poorly managed, likely due to the high complexity of the formulation involving nested DELTAs, regressions, and multiple interaction terms.",
        "hypothesis_evaluation": "The hypothesis that combining price acceleration with an idiosyncratic volatility/market correlation ratio identifies alpha is partially supported by the improved IC. However, the construction is currently too 'noisy' or over-engineered. The use of REGRESI on a SEQUENCE(20) as a proxy for market decoupling is mathematically complex and may be capturing noise rather than institutional conviction. The interaction between three distinct components (Acceleration, PV-Correlation, and Idiosyncratic Ratio) increases the 'Symbol Length' and 'Free Parameters' significantly, leading to the observed poor risk-adjusted performance (IR) despite a higher IC.",
        "decision": false,
        "reason": "The current results show a high IC but poor IR, a classic sign of an over-parameterized signal that is sensitive to outliers. By simplifying the expression (Complexity Control), we reduce the risk of overfitting. Replacing the REGRESI(return, SEQUENCE(20)) with a simpler volatility-adjusted acceleration (e.g., DELTA(return, n) / TS_STD(return, n)) maintains the core logic of 'resilience' while reducing the symbol length and the number of base feature interactions. This should lead to more stable portfolio performance and a better Information Ratio."
      },
      "cache_location": null
    },
    "9b2dfc0d2c2522ca": {
      "factor_id": "9b2dfc0d2c2522ca",
      "factor_name": "Path_Efficiency_Exhaustion_V1",
      "factor_expression": "(ABS($close - DELAY($close, 60)) / (TS_SUM(ABS($return), 60) + 1e-8)) * ((COUNT($close < DELAY($close, 1), 5) == 5) && (COUNT($volume < DELAY($volume, 1), 5) == 5) ? 1 : 0) * ZSCORE(TS_CORR($close, $volume, 5))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(ABS($close - DELAY($close, 60)) / (TS_SUM(ABS($close / DELAY($close, 1) - 1), 60) + 1e-8)) * ((COUNT($close < DELAY($close, 1), 5) == 5) && (COUNT($volume < DELAY($volume, 1), 5) == 5) ? 1 : 0) * ZSCORE(TS_CORR($close, $volume, 5))\" # Your output factor expression will be filled in here\n    name = \"Path_Efficiency_Exhaustion_V1\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor identifies mean-reversion opportunities by combining 60-day path efficiency with a 5-day liquidity exhaustion signal. Path efficiency filters for stocks with stable institutional support, while the exhaustion signal (monotonic price and volume decline) identifies short-term oversold conditions.",
      "factor_formulation": "PE = \\frac{|close_0 - close_{60}|}{\\sum_{i=0}^{59} |return_i|}, \\text{Exhaust} = (\\text{count}(close < close_{-1}, 5) == 5) \\text{ and } (\\text{count}(volume < volume_{-1}, 5) == 5), \\text{Factor} = PE \\times \\text{Exhaust} \\times \\text{ZSCORE}(\\text{TS_CORR}(close, volume, 5))",
      "metadata": {
        "experiment_id": "2026-01-18_14-14-43-683963",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "699744bcca92",
        "parent_trajectory_ids": [
          "d6ec5bbe42c9",
          "7c0e5f7e30be"
        ],
        "hypothesis": "Hypothesis: The Institutional Exhaustion & Recovery (IER) factor combines 60-day path efficiency with a 5-day liquidity exhaustion trigger to identify high-probability mean-reversion entries in fundamentally resilient stocks.\n                Concise Observation: Parent strategies showed that liquidity exhaustion (RankIC 0.0211) identifies reversals but risks 'falling knives', while path efficiency (RankIC 0.0245) identifies trend quality but lacks precise timing.\n                Concise Justification: By requiring high path efficiency (60-day price change / sum of absolute returns) as a filter, we isolate assets with low noise and strong backing, ensuring that 5-day monotonic price and turnover declines represent temporary exhaustion rather than fundamental deterioration.\n                Concise Knowledge: If a stock maintains high path efficiency over a long horizon (60 days), it indicates structural institutional support; when such a stock undergoes a short-term (5-day) price-volume decay, the resulting liquidity exhaustion is more likely to lead to a sharp reversal than a permanent trend break.\n                concise Specification: The factor is calculated as the product of the 60-day path efficiency (abs(close_0 - close_60) / sum(abs(return_i))) and a binary indicator of 5-day liquidity exhaustion (monotonic decrease in both price and volume over 5 days), further scaled by the Z-score of the 5-day price-volume correlation.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T12:05:29.057243"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.130571171814884,
        "ICIR": 0.0511262157353365,
        "1day.excess_return_without_cost.std": 0.0041855923711022,
        "1day.excess_return_with_cost.annualized_return": 0.0136013117725315,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0002552282524696,
        "1day.excess_return_without_cost.annualized_return": 0.0607443240877792,
        "1day.excess_return_with_cost.std": 0.0041866857033682,
        "Rank IC": 0.0263477167393145,
        "IC": 0.0068685851048569,
        "1day.excess_return_without_cost.max_drawdown": -0.118295578507684,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.9407198209315653,
        "1day.pa": 0.0,
        "l2.valid": 0.996685087606756,
        "Rank ICIR": 0.2057717470597775,
        "l2.train": 0.994306529423414,
        "1day.excess_return_with_cost.information_ratio": 0.2105823451007069,
        "1day.excess_return_with_cost.mean": 5.714836879214919e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the Institutional Exhaustion & Recovery (IER) hypothesis. The current results show a significant improvement in IC (0.006869 vs 0.005798) and Annualized Return (0.060744 vs 0.052010) compared to the SOTA, although the Information Ratio and Max Drawdown slightly deteriorated. The inclusion of 'Path Efficiency' as a long-term filter combined with short-term price-volume dynamics appears to capture meaningful alpha. However, the increased drawdown suggests that the 'exhaustion' trigger might be catching falling knives in high-volatility regimes, requiring better risk-adjusted scaling.",
        "hypothesis_evaluation": "The hypothesis that combining 60-day path efficiency with short-term exhaustion signals identifies mean-reversion entries is supported by the improved IC and Annualized Return. The 'Exhaustion_ZScore_Efficiency' and 'Institutional_Recovery_Trigger' implementations demonstrate that the interaction between trend quality and liquidity pressure is predictive. The main challenge remains the stability of the signal, as evidenced by the higher drawdown compared to the SOTA.",
        "decision": true,
        "reason": "While the current 'Exhaustion' logic (monotonic decline or simple correlation) captures the turning points, it lacks a volatility context, leading to premature entries in high-volatility sell-offs (higher drawdown). By using ATR (Average True Range) to normalize the price decline, we can better distinguish between 'standard' exhaustion and 'extreme' panic selling. Furthermore, simplifying the expression to focus on the ratio of long-term efficiency to short-term volatility-adjusted pressure will reduce complexity while maintaining predictive power."
      },
      "cache_location": null
    },
    "803371ccfbd0b5bd": {
      "factor_id": "803371ccfbd0b5bd",
      "factor_name": "Institutional_Recovery_Trigger",
      "factor_expression": "RANK(ABS($close - DELAY($close, 60)) / (TS_SUM(ABS($return), 60) + 1e-8)) * RANK(TS_CORR($close, $volume, 5))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(ABS($close - DELAY($close, 60)) / (TS_SUM(ABS($close / DELAY($close, 1) - 1), 60) + 1e-8)) * RANK(TS_CORR($close, $volume, 5))\" # Your output factor expression will be filled in here\n    name = \"Institutional_Recovery_Trigger\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "A simplified version of the IER hypothesis focusing on the interaction between long-term trend quality (path efficiency) and short-term price-volume correlation. It uses a 60-day window for efficiency and a 5-day window for detecting the exhaustion of selling pressure.",
      "factor_formulation": "Efficiency = \\frac{|close_0 - close_{60}|}{\\sum |return|}, \\text{Factor} = \\text{RANK}(\\text{Efficiency}) \\times \\text{RANK}(\\text{TS_CORR}(close, volume, 5))",
      "metadata": {
        "experiment_id": "2026-01-18_14-14-43-683963",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "699744bcca92",
        "parent_trajectory_ids": [
          "d6ec5bbe42c9",
          "7c0e5f7e30be"
        ],
        "hypothesis": "Hypothesis: The Institutional Exhaustion & Recovery (IER) factor combines 60-day path efficiency with a 5-day liquidity exhaustion trigger to identify high-probability mean-reversion entries in fundamentally resilient stocks.\n                Concise Observation: Parent strategies showed that liquidity exhaustion (RankIC 0.0211) identifies reversals but risks 'falling knives', while path efficiency (RankIC 0.0245) identifies trend quality but lacks precise timing.\n                Concise Justification: By requiring high path efficiency (60-day price change / sum of absolute returns) as a filter, we isolate assets with low noise and strong backing, ensuring that 5-day monotonic price and turnover declines represent temporary exhaustion rather than fundamental deterioration.\n                Concise Knowledge: If a stock maintains high path efficiency over a long horizon (60 days), it indicates structural institutional support; when such a stock undergoes a short-term (5-day) price-volume decay, the resulting liquidity exhaustion is more likely to lead to a sharp reversal than a permanent trend break.\n                concise Specification: The factor is calculated as the product of the 60-day path efficiency (abs(close_0 - close_60) / sum(abs(return_i))) and a binary indicator of 5-day liquidity exhaustion (monotonic decrease in both price and volume over 5 days), further scaled by the Z-score of the 5-day price-volume correlation.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T12:05:29.057243"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.130571171814884,
        "ICIR": 0.0511262157353365,
        "1day.excess_return_without_cost.std": 0.0041855923711022,
        "1day.excess_return_with_cost.annualized_return": 0.0136013117725315,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0002552282524696,
        "1day.excess_return_without_cost.annualized_return": 0.0607443240877792,
        "1day.excess_return_with_cost.std": 0.0041866857033682,
        "Rank IC": 0.0263477167393145,
        "IC": 0.0068685851048569,
        "1day.excess_return_without_cost.max_drawdown": -0.118295578507684,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.9407198209315653,
        "1day.pa": 0.0,
        "l2.valid": 0.996685087606756,
        "Rank ICIR": 0.2057717470597775,
        "l2.train": 0.994306529423414,
        "1day.excess_return_with_cost.information_ratio": 0.2105823451007069,
        "1day.excess_return_with_cost.mean": 5.714836879214919e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the Institutional Exhaustion & Recovery (IER) hypothesis. The current results show a significant improvement in IC (0.006869 vs 0.005798) and Annualized Return (0.060744 vs 0.052010) compared to the SOTA, although the Information Ratio and Max Drawdown slightly deteriorated. The inclusion of 'Path Efficiency' as a long-term filter combined with short-term price-volume dynamics appears to capture meaningful alpha. However, the increased drawdown suggests that the 'exhaustion' trigger might be catching falling knives in high-volatility regimes, requiring better risk-adjusted scaling.",
        "hypothesis_evaluation": "The hypothesis that combining 60-day path efficiency with short-term exhaustion signals identifies mean-reversion entries is supported by the improved IC and Annualized Return. The 'Exhaustion_ZScore_Efficiency' and 'Institutional_Recovery_Trigger' implementations demonstrate that the interaction between trend quality and liquidity pressure is predictive. The main challenge remains the stability of the signal, as evidenced by the higher drawdown compared to the SOTA.",
        "decision": true,
        "reason": "While the current 'Exhaustion' logic (monotonic decline or simple correlation) captures the turning points, it lacks a volatility context, leading to premature entries in high-volatility sell-offs (higher drawdown). By using ATR (Average True Range) to normalize the price decline, we can better distinguish between 'standard' exhaustion and 'extreme' panic selling. Furthermore, simplifying the expression to focus on the ratio of long-term efficiency to short-term volatility-adjusted pressure will reduce complexity while maintaining predictive power."
      },
      "cache_location": null
    },
    "446730faab911dc3": {
      "factor_id": "446730faab911dc3",
      "factor_name": "Exhaustion_ZScore_Efficiency",
      "factor_expression": "(ABS($close - DELAY($close, 60)) / (TS_SUM(ABS($return), 60) + 1e-8)) / (TS_ZSCORE(TS_CORR($close, $volume, 5), 20) + 2.0)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(ABS($close - DELAY($close, 60)) / (TS_SUM(ABS($close - DELAY($close, 1)), 60) + 1e-8)) * INV(TS_ZSCORE(TS_CORR($close, $volume, 5), 20) + 2)\" # Your output factor expression will be filled in here\n    name = \"Exhaustion_ZScore_Efficiency\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor scales the 60-day path efficiency by the inverse of the 5-day price-volume correlation Z-score, specifically when price and volume are both declining, to capture high-probability recovery points in structurally strong stocks.",
      "factor_formulation": "Efficiency = \\frac{|close_0 - close_{60}|}{\\sum |return|}, \\text{Factor} = Efficiency / (\\text{TS_ZSCORE}(\\text{TS_CORR}(close, volume, 5), 20) + 2)",
      "metadata": {
        "experiment_id": "2026-01-18_14-14-43-683963",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "699744bcca92",
        "parent_trajectory_ids": [
          "d6ec5bbe42c9",
          "7c0e5f7e30be"
        ],
        "hypothesis": "Hypothesis: The Institutional Exhaustion & Recovery (IER) factor combines 60-day path efficiency with a 5-day liquidity exhaustion trigger to identify high-probability mean-reversion entries in fundamentally resilient stocks.\n                Concise Observation: Parent strategies showed that liquidity exhaustion (RankIC 0.0211) identifies reversals but risks 'falling knives', while path efficiency (RankIC 0.0245) identifies trend quality but lacks precise timing.\n                Concise Justification: By requiring high path efficiency (60-day price change / sum of absolute returns) as a filter, we isolate assets with low noise and strong backing, ensuring that 5-day monotonic price and turnover declines represent temporary exhaustion rather than fundamental deterioration.\n                Concise Knowledge: If a stock maintains high path efficiency over a long horizon (60 days), it indicates structural institutional support; when such a stock undergoes a short-term (5-day) price-volume decay, the resulting liquidity exhaustion is more likely to lead to a sharp reversal than a permanent trend break.\n                concise Specification: The factor is calculated as the product of the 60-day path efficiency (abs(close_0 - close_60) / sum(abs(return_i))) and a binary indicator of 5-day liquidity exhaustion (monotonic decrease in both price and volume over 5 days), further scaled by the Z-score of the 5-day price-volume correlation.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T12:05:29.057243"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.130571171814884,
        "ICIR": 0.0511262157353365,
        "1day.excess_return_without_cost.std": 0.0041855923711022,
        "1day.excess_return_with_cost.annualized_return": 0.0136013117725315,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0002552282524696,
        "1day.excess_return_without_cost.annualized_return": 0.0607443240877792,
        "1day.excess_return_with_cost.std": 0.0041866857033682,
        "Rank IC": 0.0263477167393145,
        "IC": 0.0068685851048569,
        "1day.excess_return_without_cost.max_drawdown": -0.118295578507684,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.9407198209315653,
        "1day.pa": 0.0,
        "l2.valid": 0.996685087606756,
        "Rank ICIR": 0.2057717470597775,
        "l2.train": 0.994306529423414,
        "1day.excess_return_with_cost.information_ratio": 0.2105823451007069,
        "1day.excess_return_with_cost.mean": 5.714836879214919e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the Institutional Exhaustion & Recovery (IER) hypothesis. The current results show a significant improvement in IC (0.006869 vs 0.005798) and Annualized Return (0.060744 vs 0.052010) compared to the SOTA, although the Information Ratio and Max Drawdown slightly deteriorated. The inclusion of 'Path Efficiency' as a long-term filter combined with short-term price-volume dynamics appears to capture meaningful alpha. However, the increased drawdown suggests that the 'exhaustion' trigger might be catching falling knives in high-volatility regimes, requiring better risk-adjusted scaling.",
        "hypothesis_evaluation": "The hypothesis that combining 60-day path efficiency with short-term exhaustion signals identifies mean-reversion entries is supported by the improved IC and Annualized Return. The 'Exhaustion_ZScore_Efficiency' and 'Institutional_Recovery_Trigger' implementations demonstrate that the interaction between trend quality and liquidity pressure is predictive. The main challenge remains the stability of the signal, as evidenced by the higher drawdown compared to the SOTA.",
        "decision": true,
        "reason": "While the current 'Exhaustion' logic (monotonic decline or simple correlation) captures the turning points, it lacks a volatility context, leading to premature entries in high-volatility sell-offs (higher drawdown). By using ATR (Average True Range) to normalize the price decline, we can better distinguish between 'standard' exhaustion and 'extreme' panic selling. Furthermore, simplifying the expression to focus on the ratio of long-term efficiency to short-term volatility-adjusted pressure will reduce complexity while maintaining predictive power."
      },
      "cache_location": null
    },
    "14783981e4a14ef1": {
      "factor_id": "14783981e4a14ef1",
      "factor_name": "IER_Tactical_Reversal_20D",
      "factor_expression": "RANK(($close - $low) / ($high - $low + 1e-6)) * ZSCORE(TS_STD(REGRESI($return, SEQUENCE(20), 20), 20) / (ABS(TS_CORR($return, DELAY($return, 1), 20)) + 1e-6)) * TS_CORR($return, $volume, 10)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($close - $low) / ($high - $low + 0.0001)) * ZSCORE(TS_STD(REGRESI(TS_PCTCHANGE($close, 1), SEQUENCE(20), 20), 20) / (ABS(TS_CORR(TS_PCTCHANGE($close, 1), DELAY(TS_PCTCHANGE($close, 1), 1), 20)) + 0.0001)) * TS_CORR(TS_PCTCHANGE($close, 1), $volume, 20)\" # Your output factor expression will be filled in here\n    name = \"IER_Tactical_Reversal_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "The Institutional Exhaustion & Recovery (IER) factor identifies 1-day reversals by combining a Liquidity Exhaustion Reversion (LER) signal with an Informed Efficiency Multiplier (IEM). LER captures price proximity to the intraday low, while IEM uses the ratio of idiosyncratic volatility (from a market residual) to market correlation over 20 days to filter for institutional conviction. The final signal is scaled by price-volume correlation to emphasize informed climaxes.",
      "factor_formulation": "IER = RANK(\\frac{close - low}{high - low + 1e-6}) * ZSCORE(\\frac{TS\\_STD(REGRESI(return, SEQUENCE(20), 20), 20)}{ABS(TS\\_CORR(return, DELAY(return, 1), 20)) + 1e-6}) * TS\\_CORR(return, volume, 10)",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "5427f01574c8",
        "parent_trajectory_ids": [
          "ef5e030202e7",
          "2885155800fc"
        ],
        "hypothesis": "Hypothesis: The Institutional Exhaustion & Recovery (IER) factor identifies high-probability 1-day reversals by multiplying the Liquidity Exhaustion Reversion (LER) signaldefined as the proximity of the close to the intraday low relative to the rangeby an Informed Efficiency Multiplier (IEM) that scales the signal based on high idiosyncratic volatility and low market correlation over a 20-day window.\n                Concise Observation: Parent 1 (LER) captures mean-reversion but suffers from 'falling knives' in broad market sell-offs; Parent 2 (IEM) identifies institutional conviction but lacks a precise tactical entry trigger; combining them allows for context-aware reversion entries at structural pivot points.\n                Concise Justification: Short-term liquidity exhaustion is a more reliable signal when filtered for 'Informed Efficiency' because it ensures the reversal point coincides with idiosyncratic institutional interest rather than systematic risk, thereby increasing the signal-to-noise ratio of the mean-reversion trigger.\n                Concise Knowledge: If a short-term price exhaustion occurs in a stock with high idiosyncratic volatility and low market correlation, then the subsequent reversal is more likely to be driven by stock-specific institutional support rather than market noise; When price-volume correlation is high, the exhaustion signal should be weighted more heavily as it indicates a climax of informed trading activity.\n                concise Specification: Define LER as (Close - Low) / (High - Low + 1e-6) over a 1-day window; define IEM as the 20-day rolling ratio of idiosyncratic volatility (standard deviation of residuals from a market model) to the 20-day rolling correlation with the market; the final factor is the product of the rank-normalized LER and the Z-score of IEM, further scaled by the 10-day price-volume correlation.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T15:57:40.325977"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1161420604512864,
        "ICIR": 0.0559636801451677,
        "1day.excess_return_without_cost.std": 0.0041944829063079,
        "1day.excess_return_with_cost.annualized_return": -0.004848755403654,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0001767020800037,
        "1day.excess_return_without_cost.annualized_return": 0.0420550950408854,
        "1day.excess_return_with_cost.std": 0.0041963390965949,
        "Rank IC": 0.0260017965849362,
        "IC": 0.0078208519895373,
        "1day.excess_return_without_cost.max_drawdown": -0.0769851064515694,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.6499077433083952,
        "1day.pa": 0.0,
        "l2.valid": 0.9963788778143052,
        "Rank ICIR": 0.1891739672261451,
        "l2.train": 0.9935746205887644,
        "1day.excess_return_with_cost.information_ratio": -0.0748981727857152,
        "1day.excess_return_with_cost.mean": -2.0372921864092516e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the Institutional Exhaustion & Recovery (IER) hypothesis. The 'IER_Tactical_Reversal_20D' factor achieved a higher Information Coefficient (IC) of 0.0078 compared to the SOTA's 0.0058, indicating a stronger raw predictive signal. However, the risk-adjusted metrics (Information Ratio) and the Annualized Return (0.042 vs 0.052) underperformed the SOTA. The complexity of the top-performing IC factor is high, involving multiple nested functions (REGRESI, TS_STD, TS_CORR) and a long symbol length, which likely contributed to the decay in performance from IC to realized portfolio returns due to potential overfitting or noise in the scaling components.",
        "hypothesis_evaluation": "The hypothesis that combining price exhaustion (LER) with an informed efficiency multiplier (IEM) identifies reversals is partially supported by the improved IC. However, the 'Institutional_Recovery_Trigger_10D' and 'Informed_Exhaustion_Pivot_15D' results suggest that the interaction between price-volume correlation and idiosyncratic volatility is non-linear. The current formulation of IEM (ratio of residual std to market correlation) might be too volatile. The 'Recovery' aspect (price-volume correlation) seems to be a strong signal but requires better integration with the 'Exhaustion' component to improve the Information Ratio.",
        "decision": false,
        "reason": "The current IER factor is overly complex (high SL and multiple base features), which explains why a high IC did not translate into better annualized returns. By simplifying the Informed Efficiency Multiplier to a simple rank of idiosyncratic volatility and shortening the window for price-volume correlation to 5 days, we reduce the lag and complexity. This approach follows the 'Complexity Control' principle by reducing the number of free parameters and nested operations while focusing on the most robust elements of the original hypothesis."
      },
      "cache_location": null
    },
    "08e989bdfeb2c535": {
      "factor_id": "08e989bdfeb2c535",
      "factor_name": "Informed_Exhaustion_Pivot_15D",
      "factor_expression": "RANK(($close - $low) / ($high - $low + 1e-6)) * RANK(TS_VAR(REGRESI($return, SEQUENCE(15), 15), 15))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($close - $low) / ($high - $low + 1e-6)) * RANK(TS_VAR(REGRESI($close / DELAY($close, 1) - 1, SEQUENCE(15), 15), 15))\" # Your output factor expression will be filled in here\n    name = \"Informed_Exhaustion_Pivot_15D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "A simplified version of the IER hypothesis focusing on the interaction between price exhaustion (LER) and idiosyncratic risk. It identifies stocks where price hits the lower bound of the intraday range while exhibiting high idiosyncratic volatility relative to its volume-price trend, suggesting a structural pivot point driven by specific institutional flow rather than market beta.",
      "factor_formulation": "IEP = RANK(\\frac{close - low}{high - low + 1e-6}) * RANK(TS\\_VAR(REGRESI(return, SEQUENCE(15), 15), 15))",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "5427f01574c8",
        "parent_trajectory_ids": [
          "ef5e030202e7",
          "2885155800fc"
        ],
        "hypothesis": "Hypothesis: The Institutional Exhaustion & Recovery (IER) factor identifies high-probability 1-day reversals by multiplying the Liquidity Exhaustion Reversion (LER) signaldefined as the proximity of the close to the intraday low relative to the rangeby an Informed Efficiency Multiplier (IEM) that scales the signal based on high idiosyncratic volatility and low market correlation over a 20-day window.\n                Concise Observation: Parent 1 (LER) captures mean-reversion but suffers from 'falling knives' in broad market sell-offs; Parent 2 (IEM) identifies institutional conviction but lacks a precise tactical entry trigger; combining them allows for context-aware reversion entries at structural pivot points.\n                Concise Justification: Short-term liquidity exhaustion is a more reliable signal when filtered for 'Informed Efficiency' because it ensures the reversal point coincides with idiosyncratic institutional interest rather than systematic risk, thereby increasing the signal-to-noise ratio of the mean-reversion trigger.\n                Concise Knowledge: If a short-term price exhaustion occurs in a stock with high idiosyncratic volatility and low market correlation, then the subsequent reversal is more likely to be driven by stock-specific institutional support rather than market noise; When price-volume correlation is high, the exhaustion signal should be weighted more heavily as it indicates a climax of informed trading activity.\n                concise Specification: Define LER as (Close - Low) / (High - Low + 1e-6) over a 1-day window; define IEM as the 20-day rolling ratio of idiosyncratic volatility (standard deviation of residuals from a market model) to the 20-day rolling correlation with the market; the final factor is the product of the rank-normalized LER and the Z-score of IEM, further scaled by the 10-day price-volume correlation.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T15:57:40.325977"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1161420604512864,
        "ICIR": 0.0559636801451677,
        "1day.excess_return_without_cost.std": 0.0041944829063079,
        "1day.excess_return_with_cost.annualized_return": -0.004848755403654,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0001767020800037,
        "1day.excess_return_without_cost.annualized_return": 0.0420550950408854,
        "1day.excess_return_with_cost.std": 0.0041963390965949,
        "Rank IC": 0.0260017965849362,
        "IC": 0.0078208519895373,
        "1day.excess_return_without_cost.max_drawdown": -0.0769851064515694,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.6499077433083952,
        "1day.pa": 0.0,
        "l2.valid": 0.9963788778143052,
        "Rank ICIR": 0.1891739672261451,
        "l2.train": 0.9935746205887644,
        "1day.excess_return_with_cost.information_ratio": -0.0748981727857152,
        "1day.excess_return_with_cost.mean": -2.0372921864092516e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the Institutional Exhaustion & Recovery (IER) hypothesis. The 'IER_Tactical_Reversal_20D' factor achieved a higher Information Coefficient (IC) of 0.0078 compared to the SOTA's 0.0058, indicating a stronger raw predictive signal. However, the risk-adjusted metrics (Information Ratio) and the Annualized Return (0.042 vs 0.052) underperformed the SOTA. The complexity of the top-performing IC factor is high, involving multiple nested functions (REGRESI, TS_STD, TS_CORR) and a long symbol length, which likely contributed to the decay in performance from IC to realized portfolio returns due to potential overfitting or noise in the scaling components.",
        "hypothesis_evaluation": "The hypothesis that combining price exhaustion (LER) with an informed efficiency multiplier (IEM) identifies reversals is partially supported by the improved IC. However, the 'Institutional_Recovery_Trigger_10D' and 'Informed_Exhaustion_Pivot_15D' results suggest that the interaction between price-volume correlation and idiosyncratic volatility is non-linear. The current formulation of IEM (ratio of residual std to market correlation) might be too volatile. The 'Recovery' aspect (price-volume correlation) seems to be a strong signal but requires better integration with the 'Exhaustion' component to improve the Information Ratio.",
        "decision": false,
        "reason": "The current IER factor is overly complex (high SL and multiple base features), which explains why a high IC did not translate into better annualized returns. By simplifying the Informed Efficiency Multiplier to a simple rank of idiosyncratic volatility and shortening the window for price-volume correlation to 5 days, we reduce the lag and complexity. This approach follows the 'Complexity Control' principle by reducing the number of free parameters and nested operations while focusing on the most robust elements of the original hypothesis."
      },
      "cache_location": null
    },
    "ad3ceb160d5d3cf2": {
      "factor_id": "ad3ceb160d5d3cf2",
      "factor_name": "Institutional_Recovery_Trigger_10D",
      "factor_expression": "RANK(($close - $low) / ($high - $low + 1e-6)) * TS_CORR($return, $volume, 10)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($close - $low) / ($high - $low + 0.0001)) * (-1 * TS_CORR(TS_PCTCHANGE($close, 1), $volume, 10))\" # Your output factor expression will be filled in here\n    name = \"Institutional_Recovery_Trigger_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor targets the 'Recovery' aspect of the IER hypothesis. It weights the 1-day exhaustion signal (proximity to low) by the negative correlation between price and volume over 10 days. A strong negative correlation during a price dip often indicates 'buying into weakness' by institutional players, providing a tactical entry trigger for a mean-reversion move.",
      "factor_formulation": "IRT = RANK(\\frac{close - low}{high - low + 1e-6}) * TS\\_CORR(return, volume, 10)",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "5427f01574c8",
        "parent_trajectory_ids": [
          "ef5e030202e7",
          "2885155800fc"
        ],
        "hypothesis": "Hypothesis: The Institutional Exhaustion & Recovery (IER) factor identifies high-probability 1-day reversals by multiplying the Liquidity Exhaustion Reversion (LER) signaldefined as the proximity of the close to the intraday low relative to the rangeby an Informed Efficiency Multiplier (IEM) that scales the signal based on high idiosyncratic volatility and low market correlation over a 20-day window.\n                Concise Observation: Parent 1 (LER) captures mean-reversion but suffers from 'falling knives' in broad market sell-offs; Parent 2 (IEM) identifies institutional conviction but lacks a precise tactical entry trigger; combining them allows for context-aware reversion entries at structural pivot points.\n                Concise Justification: Short-term liquidity exhaustion is a more reliable signal when filtered for 'Informed Efficiency' because it ensures the reversal point coincides with idiosyncratic institutional interest rather than systematic risk, thereby increasing the signal-to-noise ratio of the mean-reversion trigger.\n                Concise Knowledge: If a short-term price exhaustion occurs in a stock with high idiosyncratic volatility and low market correlation, then the subsequent reversal is more likely to be driven by stock-specific institutional support rather than market noise; When price-volume correlation is high, the exhaustion signal should be weighted more heavily as it indicates a climax of informed trading activity.\n                concise Specification: Define LER as (Close - Low) / (High - Low + 1e-6) over a 1-day window; define IEM as the 20-day rolling ratio of idiosyncratic volatility (standard deviation of residuals from a market model) to the 20-day rolling correlation with the market; the final factor is the product of the rank-normalized LER and the Z-score of IEM, further scaled by the 10-day price-volume correlation.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T15:57:40.325977"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1161420604512864,
        "ICIR": 0.0559636801451677,
        "1day.excess_return_without_cost.std": 0.0041944829063079,
        "1day.excess_return_with_cost.annualized_return": -0.004848755403654,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0001767020800037,
        "1day.excess_return_without_cost.annualized_return": 0.0420550950408854,
        "1day.excess_return_with_cost.std": 0.0041963390965949,
        "Rank IC": 0.0260017965849362,
        "IC": 0.0078208519895373,
        "1day.excess_return_without_cost.max_drawdown": -0.0769851064515694,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.6499077433083952,
        "1day.pa": 0.0,
        "l2.valid": 0.9963788778143052,
        "Rank ICIR": 0.1891739672261451,
        "l2.train": 0.9935746205887644,
        "1day.excess_return_with_cost.information_ratio": -0.0748981727857152,
        "1day.excess_return_with_cost.mean": -2.0372921864092516e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the Institutional Exhaustion & Recovery (IER) hypothesis. The 'IER_Tactical_Reversal_20D' factor achieved a higher Information Coefficient (IC) of 0.0078 compared to the SOTA's 0.0058, indicating a stronger raw predictive signal. However, the risk-adjusted metrics (Information Ratio) and the Annualized Return (0.042 vs 0.052) underperformed the SOTA. The complexity of the top-performing IC factor is high, involving multiple nested functions (REGRESI, TS_STD, TS_CORR) and a long symbol length, which likely contributed to the decay in performance from IC to realized portfolio returns due to potential overfitting or noise in the scaling components.",
        "hypothesis_evaluation": "The hypothesis that combining price exhaustion (LER) with an informed efficiency multiplier (IEM) identifies reversals is partially supported by the improved IC. However, the 'Institutional_Recovery_Trigger_10D' and 'Informed_Exhaustion_Pivot_15D' results suggest that the interaction between price-volume correlation and idiosyncratic volatility is non-linear. The current formulation of IEM (ratio of residual std to market correlation) might be too volatile. The 'Recovery' aspect (price-volume correlation) seems to be a strong signal but requires better integration with the 'Exhaustion' component to improve the Information Ratio.",
        "decision": false,
        "reason": "The current IER factor is overly complex (high SL and multiple base features), which explains why a high IC did not translate into better annualized returns. By simplifying the Informed Efficiency Multiplier to a simple rank of idiosyncratic volatility and shortening the window for price-volume correlation to 5 days, we reduce the lag and complexity. This approach follows the 'Complexity Control' principle by reducing the number of free parameters and nested operations while focusing on the most robust elements of the original hypothesis."
      },
      "cache_location": null
    },
    "1a7faf14b7d7be1e": {
      "factor_id": "1a7faf14b7d7be1e",
      "factor_name": "ICSE_Core_Factor_60D",
      "factor_expression": "TS_MEAN($return / (($high - $low + 1e-8) * $volume), 20) * (ABS(TS_SUM($return, 60)) / (TS_SUM(ABS($return), 60) + 1e-8))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN(TS_PCTCHANGE($close, 1) / (($high - $low + 1e-8) * $volume), 20) * (ABS(TS_SUM(TS_PCTCHANGE($close, 1), 60)) / (TS_SUM(ABS(TS_PCTCHANGE($close, 1)), 60) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"ICSE_Core_Factor_60D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor implements the Institutional Conviction & Structural Exhaustion (ICSE) hypothesis. It combines 20-day intraday return density (capturing institutional footprints) with 60-day path efficiency (ensuring trend linearity). The density component uses the ratio of returns to price range and volume, while path efficiency measures the net price displacement relative to total absolute daily movement.",
      "factor_formulation": "ICSE = \\text{TS_MEAN}(\\frac{\\text{return}}{(\\text{high} - \\text{low} + 1e-8) * \\text{volume}}, 20) * \\frac{\\text{ABS}(\\text{TS_SUM}(\\text{return}, 60))}{\\text{TS_SUM}(\\text{ABS}(\\text{return}), 60) + 1e-8}",
      "metadata": {
        "experiment_id": "2026-01-18_14-14-43-683963",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "fe2b6c19042c",
        "parent_trajectory_ids": [
          "80a27dd69bb4",
          "7c0e5f7e30be"
        ],
        "hypothesis": "Hypothesis: The Institutional Conviction & Structural Exhaustion (ICSE) factor, defined as the product of 20-day average intraday return density and 60-day path efficiency, identifies high-quality institutional trends that are likely to persist following short-term liquidity-driven pullbacks.\n                Concise Observation: Parent 1's density metric (RankIC 0.0228) captures institutional footprint but lacks structural context, while Parent 2's path efficiency (RankIC 0.0245) identifies trends but misses micro-scale conviction; combining them targets stocks with both high-conviction accumulation and linear price paths.\n                Concise Justification: Institutional investors leave 'dense' footprints by absorbing liquidity without causing extreme volatility; filtering these dense moves through a 60-day path efficiency lens ensures the factor captures sustainable institutional trends rather than erratic retail-driven spikes.\n                Concise Knowledge: If intraday price-volume density is high, it indicates institutional accumulation; when combined with high path efficiency, it signals a robust structural trend; and if short-term price-volume correlation drops, it often represents a temporary liquidity exhaustion rather than a trend reversal.\n                concise Specification: The factor is calculated by multiplying the 20-day mean of (log-return / (high-low price range * volume_turnover)) by the 60-day path efficiency (abs(close_t - close_t-60) / sum(abs(daily_returns) over 60 days)), then adjusting for 5-day liquidity exhaustion.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T11:10:23.989764"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.0652021943548302,
        "ICIR": 0.0661112229437428,
        "1day.excess_return_without_cost.std": 0.0034172785946427,
        "1day.excess_return_with_cost.annualized_return": 0.0421634348271181,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0003756697267211,
        "1day.excess_return_without_cost.annualized_return": 0.0894093949596224,
        "1day.excess_return_with_cost.std": 0.0034177920285527,
        "Rank IC": 0.0257014583527256,
        "IC": 0.0084757359770668,
        "1day.excess_return_without_cost.max_drawdown": -0.0586892183710749,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.6959548695921285,
        "1day.pa": 0.0,
        "l2.valid": 0.9963576017809956,
        "Rank ICIR": 0.2057381726620465,
        "l2.train": 0.9934281630773708,
        "1day.excess_return_with_cost.information_ratio": 0.7996535548203092,
        "1day.excess_return_with_cost.mean": 0.0001771572891895
      },
      "feedback": {
        "observations": "The experiment results demonstrate a significant improvement over the SOTA across all key performance metrics. The Information Ratio (IR) increased from 0.97 to 1.70, and the Annualized Return rose from 5.2% to 8.9%, while the Max Drawdown was reduced from -0.073 to -0.059. The IC also showed a healthy improvement to 0.0085. These results suggest that the combination of institutional 'footprint' (return density) and trend linearity (path efficiency) captures a robust alpha source. The implementation of cross-sectional ranking in 'Structural_Efficiency_Ranked_Density' and the liquidity filter in 'ICSE_Liquidity_Adjusted_Conviction' likely contributed to the stability of the signal by neutralizing scale differences between instruments and avoiding overextended price moves.",
        "hypothesis_evaluation": "The results strongly support the ICSE hypothesis. The core idea that institutional conviction can be measured by the 'orderliness' of price movement (Efficiency) relative to the 'effort' (Volume/Range density) proves effective. Specifically, the 'Structural_Efficiency_Ranked_Density' approach suggests that the relative strength of these components in the cross-section is more predictive than their raw values. The low drawdown indicates that these 'high-quality' trends are indeed more resilient to market noise.",
        "decision": true,
        "reason": "While the current iteration is successful, the 20-day window for density is a simple average that treats all days equally. Institutional accumulation often accelerates or decelerates; a decay function (e.g., WMA) would prioritize recent footprints. Furthermore, 'Path Efficiency' can be skewed by low-volatility 'drift'. By adjusting the efficiency measure by the standard deviation of returns, we can isolate trends that are both linear and statistically significant. This maintains the core ICSE logic while refining the mathematical representation for better timing and robustness."
      },
      "cache_location": null
    },
    "29da237b746a0f77": {
      "factor_id": "29da237b746a0f77",
      "factor_name": "ICSE_Liquidity_Adjusted_Conviction",
      "factor_expression": "RANK(ABS(TS_SUM($return, 60)) / (TS_SUM(ABS($return), 60) + 1e-8)) * RANK(TS_MEAN($return / (($high - $low + 1e-8) * $volume), 20)) * INV(1 + ABS($volume / (TS_MEAN($volume, 5) + 1e-8) - 1))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(ABS(TS_SUM(TS_PCTCHANGE($close, 1), 60)) / (TS_SUM(ABS(TS_PCTCHANGE($close, 1)), 60) + 1e-8)) * RANK(TS_MEAN(TS_PCTCHANGE($close, 1) / (($high - $low + 1e-8) * $volume), 20)) * INV(1 + ABS($volume / (TS_MEAN($volume, 5) + 1e-8) - 1))\" # Your output factor expression will be filled in here\n    name = \"ICSE_Liquidity_Adjusted_Conviction\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "An adjusted version of the ICSE factor that incorporates a 5-day liquidity exhaustion filter. It multiplies the institutional density and path efficiency by a factor that penalizes stocks where current volume significantly deviates from its 5-day average, targeting high-conviction trends that are not currently in an overextended state.",
      "factor_formulation": "ICSE_{adj} = \\text{RANK}(\\text{PathEfficiency}_{60D}) * \\text{RANK}(\\text{Density}_{20D}) * (1 / (1 + \\text{ABS}(\\frac{\\text{volume}}{\\text{TS_MEAN}(\\text{volume}, 5)} - 1)))",
      "metadata": {
        "experiment_id": "2026-01-18_14-14-43-683963",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "fe2b6c19042c",
        "parent_trajectory_ids": [
          "80a27dd69bb4",
          "7c0e5f7e30be"
        ],
        "hypothesis": "Hypothesis: The Institutional Conviction & Structural Exhaustion (ICSE) factor, defined as the product of 20-day average intraday return density and 60-day path efficiency, identifies high-quality institutional trends that are likely to persist following short-term liquidity-driven pullbacks.\n                Concise Observation: Parent 1's density metric (RankIC 0.0228) captures institutional footprint but lacks structural context, while Parent 2's path efficiency (RankIC 0.0245) identifies trends but misses micro-scale conviction; combining them targets stocks with both high-conviction accumulation and linear price paths.\n                Concise Justification: Institutional investors leave 'dense' footprints by absorbing liquidity without causing extreme volatility; filtering these dense moves through a 60-day path efficiency lens ensures the factor captures sustainable institutional trends rather than erratic retail-driven spikes.\n                Concise Knowledge: If intraday price-volume density is high, it indicates institutional accumulation; when combined with high path efficiency, it signals a robust structural trend; and if short-term price-volume correlation drops, it often represents a temporary liquidity exhaustion rather than a trend reversal.\n                concise Specification: The factor is calculated by multiplying the 20-day mean of (log-return / (high-low price range * volume_turnover)) by the 60-day path efficiency (abs(close_t - close_t-60) / sum(abs(daily_returns) over 60 days)), then adjusting for 5-day liquidity exhaustion.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T11:10:23.989764"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.0652021943548302,
        "ICIR": 0.0661112229437428,
        "1day.excess_return_without_cost.std": 0.0034172785946427,
        "1day.excess_return_with_cost.annualized_return": 0.0421634348271181,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0003756697267211,
        "1day.excess_return_without_cost.annualized_return": 0.0894093949596224,
        "1day.excess_return_with_cost.std": 0.0034177920285527,
        "Rank IC": 0.0257014583527256,
        "IC": 0.0084757359770668,
        "1day.excess_return_without_cost.max_drawdown": -0.0586892183710749,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.6959548695921285,
        "1day.pa": 0.0,
        "l2.valid": 0.9963576017809956,
        "Rank ICIR": 0.2057381726620465,
        "l2.train": 0.9934281630773708,
        "1day.excess_return_with_cost.information_ratio": 0.7996535548203092,
        "1day.excess_return_with_cost.mean": 0.0001771572891895
      },
      "feedback": {
        "observations": "The experiment results demonstrate a significant improvement over the SOTA across all key performance metrics. The Information Ratio (IR) increased from 0.97 to 1.70, and the Annualized Return rose from 5.2% to 8.9%, while the Max Drawdown was reduced from -0.073 to -0.059. The IC also showed a healthy improvement to 0.0085. These results suggest that the combination of institutional 'footprint' (return density) and trend linearity (path efficiency) captures a robust alpha source. The implementation of cross-sectional ranking in 'Structural_Efficiency_Ranked_Density' and the liquidity filter in 'ICSE_Liquidity_Adjusted_Conviction' likely contributed to the stability of the signal by neutralizing scale differences between instruments and avoiding overextended price moves.",
        "hypothesis_evaluation": "The results strongly support the ICSE hypothesis. The core idea that institutional conviction can be measured by the 'orderliness' of price movement (Efficiency) relative to the 'effort' (Volume/Range density) proves effective. Specifically, the 'Structural_Efficiency_Ranked_Density' approach suggests that the relative strength of these components in the cross-section is more predictive than their raw values. The low drawdown indicates that these 'high-quality' trends are indeed more resilient to market noise.",
        "decision": true,
        "reason": "While the current iteration is successful, the 20-day window for density is a simple average that treats all days equally. Institutional accumulation often accelerates or decelerates; a decay function (e.g., WMA) would prioritize recent footprints. Furthermore, 'Path Efficiency' can be skewed by low-volatility 'drift'. By adjusting the efficiency measure by the standard deviation of returns, we can isolate trends that are both linear and statistically significant. This maintains the core ICSE logic while refining the mathematical representation for better timing and robustness."
      },
      "cache_location": null
    },
    "57e6bb7334d0790f": {
      "factor_id": "57e6bb7334d0790f",
      "factor_name": "Structural_Efficiency_Ranked_Density",
      "factor_expression": "RANK(ABS(TS_SUM($return, 60)) / (TS_SUM(ABS($return), 60) + 1e-8)) + RANK(TS_MEAN($return / (($high - $low + 1e-8) * $volume), 20))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(ABS(TS_MEAN(TS_PCTCHANGE($close, 1), 60)) / (TS_MEAN(ABS(TS_PCTCHANGE($close, 1)), 60) + 1e-8)) + RANK(TS_MEAN(TS_PCTCHANGE($close, 1) / (($high - $low + 1e-8) * $volume), 20))\" # Your output factor expression will be filled in here\n    name = \"Structural_Efficiency_Ranked_Density\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor focuses on the cross-sectional strength of the ICSE components. It ranks stocks based on their 60-day path efficiency and 20-day return-to-volatility-volume density, then combines them to identify assets with the most 'orderly' institutional accumulation patterns.",
      "factor_formulation": "SERD = \\text{RANK}(\\frac{\\text{ABS}(\\text{TS_SUM}(\\text{return}, 60))}{\\text{TS_SUM}(\\text{ABS}(\\text{return}), 60)}) + \\text{RANK}(\\text{TS_MEAN}(\\frac{\\text{return}}{(\\text{high}-\\text{low}) * \\text{volume}}, 20))",
      "metadata": {
        "experiment_id": "2026-01-18_14-14-43-683963",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "fe2b6c19042c",
        "parent_trajectory_ids": [
          "80a27dd69bb4",
          "7c0e5f7e30be"
        ],
        "hypothesis": "Hypothesis: The Institutional Conviction & Structural Exhaustion (ICSE) factor, defined as the product of 20-day average intraday return density and 60-day path efficiency, identifies high-quality institutional trends that are likely to persist following short-term liquidity-driven pullbacks.\n                Concise Observation: Parent 1's density metric (RankIC 0.0228) captures institutional footprint but lacks structural context, while Parent 2's path efficiency (RankIC 0.0245) identifies trends but misses micro-scale conviction; combining them targets stocks with both high-conviction accumulation and linear price paths.\n                Concise Justification: Institutional investors leave 'dense' footprints by absorbing liquidity without causing extreme volatility; filtering these dense moves through a 60-day path efficiency lens ensures the factor captures sustainable institutional trends rather than erratic retail-driven spikes.\n                Concise Knowledge: If intraday price-volume density is high, it indicates institutional accumulation; when combined with high path efficiency, it signals a robust structural trend; and if short-term price-volume correlation drops, it often represents a temporary liquidity exhaustion rather than a trend reversal.\n                concise Specification: The factor is calculated by multiplying the 20-day mean of (log-return / (high-low price range * volume_turnover)) by the 60-day path efficiency (abs(close_t - close_t-60) / sum(abs(daily_returns) over 60 days)), then adjusting for 5-day liquidity exhaustion.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T11:10:23.989764"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.0652021943548302,
        "ICIR": 0.0661112229437428,
        "1day.excess_return_without_cost.std": 0.0034172785946427,
        "1day.excess_return_with_cost.annualized_return": 0.0421634348271181,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0003756697267211,
        "1day.excess_return_without_cost.annualized_return": 0.0894093949596224,
        "1day.excess_return_with_cost.std": 0.0034177920285527,
        "Rank IC": 0.0257014583527256,
        "IC": 0.0084757359770668,
        "1day.excess_return_without_cost.max_drawdown": -0.0586892183710749,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.6959548695921285,
        "1day.pa": 0.0,
        "l2.valid": 0.9963576017809956,
        "Rank ICIR": 0.2057381726620465,
        "l2.train": 0.9934281630773708,
        "1day.excess_return_with_cost.information_ratio": 0.7996535548203092,
        "1day.excess_return_with_cost.mean": 0.0001771572891895
      },
      "feedback": {
        "observations": "The experiment results demonstrate a significant improvement over the SOTA across all key performance metrics. The Information Ratio (IR) increased from 0.97 to 1.70, and the Annualized Return rose from 5.2% to 8.9%, while the Max Drawdown was reduced from -0.073 to -0.059. The IC also showed a healthy improvement to 0.0085. These results suggest that the combination of institutional 'footprint' (return density) and trend linearity (path efficiency) captures a robust alpha source. The implementation of cross-sectional ranking in 'Structural_Efficiency_Ranked_Density' and the liquidity filter in 'ICSE_Liquidity_Adjusted_Conviction' likely contributed to the stability of the signal by neutralizing scale differences between instruments and avoiding overextended price moves.",
        "hypothesis_evaluation": "The results strongly support the ICSE hypothesis. The core idea that institutional conviction can be measured by the 'orderliness' of price movement (Efficiency) relative to the 'effort' (Volume/Range density) proves effective. Specifically, the 'Structural_Efficiency_Ranked_Density' approach suggests that the relative strength of these components in the cross-section is more predictive than their raw values. The low drawdown indicates that these 'high-quality' trends are indeed more resilient to market noise.",
        "decision": true,
        "reason": "While the current iteration is successful, the 20-day window for density is a simple average that treats all days equally. Institutional accumulation often accelerates or decelerates; a decay function (e.g., WMA) would prioritize recent footprints. Furthermore, 'Path Efficiency' can be skewed by low-volatility 'drift'. By adjusting the efficiency measure by the standard deviation of returns, we can isolate trends that are both linear and statistically significant. This maintains the core ICSE logic while refining the mathematical representation for better timing and robustness."
      },
      "cache_location": null
    },
    "9925fc91f7c424fe": {
      "factor_id": "9925fc91f7c424fe",
      "factor_name": "ILE_Informed_Exhaustion_20D",
      "factor_expression": "(TS_STD($return, 20) / (ABS(TS_CORR($return, SEQUENCE(20), 20)) + 1e-8)) * (DELTA($close, 5) / (TS_MEAN($high - $low, 5) + 1e-8)) * (TS_MEAN($volume, 5) / (TS_MEAN($volume, 20) + 1e-8))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(TS_STD(TS_PCTCHANGE($close, 1), 20) / (ABS(TS_CORR(TS_PCTCHANGE($close, 1), SEQUENCE(20), 20)) + 0.00000001)) * (DELTA($close, 5) / (TS_MEAN($high - $low, 5) + 0.00000001)) * (TS_MEAN($volume, 5) / (TS_MEAN($volume, 20) + 0.00000001))\" # Your output factor expression will be filled in here\n    name = \"ILE_Informed_Exhaustion_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "The Informed Liquidity Exhaustion (ILE) factor identifies high-conviction reversal points. It combines a structural lens (idiosyncratic risk relative to market correlation) with a tactical trigger (ATR-normalized price-volume displacement). High values indicate that price discovery is driven by informed idiosyncratic factors and has reached a short-term liquidity climax.",
      "factor_formulation": "ILE = \\left( \\frac{TS\\_STD(return, 20)}{ABS(TS\\_CORR(return, SEQUENCE(20), 20)) + 1e-8} \\right) \\times \\left( \\frac{DELTA(close, 5)}{TS\\_MEAN(high - low, 5) + 1e-8} \\right) \\times \\left( \\frac{TS\\_MEAN(volume, 5)}{TS\\_MEAN(volume, 20) + 1e-8} \\right)",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "28e935821730",
        "parent_trajectory_ids": [
          "1c6cdea46d30",
          "e6b1f3093c78"
        ],
        "hypothesis": "Hypothesis: The Informed Liquidity Exhaustion (ILE) factor, calculated as the product of a 20-day idiosyncratic-to-market risk ratio and a 5-day volume-weighted price displacement, identifies high-conviction reversal points by filtering short-term liquidity climaxes through a structural lens of information asymmetry.\n                Concise Observation: Parent 1 successfully captured short-term reversals via liquidity exhaustion (RankIC 0.023) but lacked structural context, while Parent 2 identified informed regimes (RankIC 0.026); combining them addresses the noise in tactical triggers by ensuring they occur within idiosyncratic price discovery phases.\n                Concise Justification: By multiplying the structural 'Informed Institutional Absorption' metric with the tactical 'High-Velocity Exhaustion' metric, the factor isolates price-volume decoupling events that are fundamentally driven rather than market-beta noise, leading to higher signal-to-noise ratios in predicting returns.\n                Concise Knowledge: If a stock exhibits high idiosyncratic volatility relative to market correlation over 20 days, it indicates informed trading; when this regime coincides with a 5-day surge in ATR-normalized price-volume displacement, the resulting liquidity exhaustion is more likely to trigger a significant mean reversion.\n                concise Specification: The factor is defined as (20-day Idiosyncratic Volatility / 20-day Market Correlation) * (5-day Price Change / 5-day ATR) * (5-day Volume / 20-day Average Volume), targeting stocks where high information asymmetry meets extreme short-term liquidity demand.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T16:28:27.831071"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1752570401201761,
        "ICIR": 0.0380854441653893,
        "1day.excess_return_without_cost.std": 0.0054488999955957,
        "1day.excess_return_with_cost.annualized_return": -0.0202925909912224,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0001150724797493,
        "1day.excess_return_without_cost.annualized_return": 0.0273872501803475,
        "1day.excess_return_with_cost.std": 0.0054508382843421,
        "Rank IC": 0.0256741856533232,
        "IC": 0.0062760309157409,
        "1day.excess_return_without_cost.max_drawdown": -0.1301089021740738,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.3258000249427408,
        "1day.pa": 0.0,
        "l2.valid": 0.9963322698478349,
        "Rank ICIR": 0.1615889905674365,
        "l2.train": 0.9935960174521452,
        "1day.excess_return_with_cost.information_ratio": -0.241315782176413,
        "1day.excess_return_with_cost.mean": -8.526298735807765e-05
      },
      "feedback": {
        "observations": "The current iteration focused on the 'Informed Liquidity Exhaustion' (ILE) framework, testing three variations that combine idiosyncratic risk measures with volume-price climaxes. While the current experiment achieved a higher Information Coefficient (IC: 0.006276 vs SOTA: 0.005798), indicating improved point-in-time predictive power, the portfolio-level metrics (Annualized Return and Information Ratio) significantly underperformed the SOTA. The Max Drawdown is also nearly double that of the SOTA, suggesting that while the signal is 'correct' more often (higher IC), its magnitude or stability during extreme market conditions is poor, leading to higher risk and lower realized returns.",
        "hypothesis_evaluation": "The hypothesis that ILE identifies high-conviction reversal points is partially supported by the improved IC, suggesting the interaction between idiosyncratic risk and liquidity exhaustion contains alpha. However, the poor Information Ratio and high drawdown suggest the current mathematical formulations are either too noisy or the 'reversal' signal is being triggered prematurely. The 'Structural_Liquidity_Climax_Z' and 'ILE_Informed_Exhaustion_20D' factors are relatively complex, and the performance gap between IC and IR suggests they may be capturing idiosyncratic noise rather than robust structural shifts.",
        "decision": false,
        "reason": "1. The current use of TS_CORR in the denominator (ILE_Informed_Exhaustion_20D) can create extreme outliers when correlation is near zero, leading to unstable factor values. 2. High IC with low IR often indicates a lack of signal persistence or extreme values that don't translate well into a diversified portfolio. 3. Simplifying the 'Informed' component to a 20-day idiosyncratic volatility Z-score and the 'Exhaustion' component to a Volume/Price-Range ratio will reduce complexity (SL/PC) and likely improve generalization. 4. Moving from DELTA (displacement) to a measure of efficiency (Price Change / Volume) might better isolate 'exhaustion' where high effort (volume) yields low result (price movement)."
      },
      "cache_location": null
    },
    "948bfb5d6bd1ca8f": {
      "factor_id": "948bfb5d6bd1ca8f",
      "factor_name": "Structural_Liquidity_Climax_Z",
      "factor_expression": "RANK(TS_STD(REGRESI($return, SEQUENCE(20), 20), 20)) * RANK((DELTA($close, 5) / (TS_STD($close, 5) + 1e-8)) * ($volume / (TS_MEAN($volume, 20) + 1e-8)))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(RANK(TS_STD(REGRESI(TS_PCTCHANGE($close, 1), SEQUENCE(20), 20), 20)) * RANK((DELTA($close, 5) / (TS_STD($close, 5) + 0.00000001)) * ($volume / (TS_MEAN($volume, 20) + 0.00000001))))\" # Your output factor expression will be filled in here\n    name = \"Structural_Liquidity_Climax_Z\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor refines the ILE hypothesis by using cross-sectional ranking and Z-scores to isolate stocks where idiosyncratic volatility is extreme relative to market beta, coinciding with a volume-weighted price surge. It targets the 'Informed Institutional Absorption' regime by normalizing the exhaustion signal against the broader market.",
      "factor_formulation": "SLC = RANK(TS\\_STD(REGRESI(return, SEQUENCE(20), 20), 20)) \\times RANK(\\frac{DELTA(close, 5)}{TS\\_STD(close, 5) + 1e-8} \\times \\frac{volume}{TS\\_MEAN(volume, 20) + 1e-8})",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "28e935821730",
        "parent_trajectory_ids": [
          "1c6cdea46d30",
          "e6b1f3093c78"
        ],
        "hypothesis": "Hypothesis: The Informed Liquidity Exhaustion (ILE) factor, calculated as the product of a 20-day idiosyncratic-to-market risk ratio and a 5-day volume-weighted price displacement, identifies high-conviction reversal points by filtering short-term liquidity climaxes through a structural lens of information asymmetry.\n                Concise Observation: Parent 1 successfully captured short-term reversals via liquidity exhaustion (RankIC 0.023) but lacked structural context, while Parent 2 identified informed regimes (RankIC 0.026); combining them addresses the noise in tactical triggers by ensuring they occur within idiosyncratic price discovery phases.\n                Concise Justification: By multiplying the structural 'Informed Institutional Absorption' metric with the tactical 'High-Velocity Exhaustion' metric, the factor isolates price-volume decoupling events that are fundamentally driven rather than market-beta noise, leading to higher signal-to-noise ratios in predicting returns.\n                Concise Knowledge: If a stock exhibits high idiosyncratic volatility relative to market correlation over 20 days, it indicates informed trading; when this regime coincides with a 5-day surge in ATR-normalized price-volume displacement, the resulting liquidity exhaustion is more likely to trigger a significant mean reversion.\n                concise Specification: The factor is defined as (20-day Idiosyncratic Volatility / 20-day Market Correlation) * (5-day Price Change / 5-day ATR) * (5-day Volume / 20-day Average Volume), targeting stocks where high information asymmetry meets extreme short-term liquidity demand.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T16:28:27.831071"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1752570401201761,
        "ICIR": 0.0380854441653893,
        "1day.excess_return_without_cost.std": 0.0054488999955957,
        "1day.excess_return_with_cost.annualized_return": -0.0202925909912224,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0001150724797493,
        "1day.excess_return_without_cost.annualized_return": 0.0273872501803475,
        "1day.excess_return_with_cost.std": 0.0054508382843421,
        "Rank IC": 0.0256741856533232,
        "IC": 0.0062760309157409,
        "1day.excess_return_without_cost.max_drawdown": -0.1301089021740738,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.3258000249427408,
        "1day.pa": 0.0,
        "l2.valid": 0.9963322698478349,
        "Rank ICIR": 0.1615889905674365,
        "l2.train": 0.9935960174521452,
        "1day.excess_return_with_cost.information_ratio": -0.241315782176413,
        "1day.excess_return_with_cost.mean": -8.526298735807765e-05
      },
      "feedback": {
        "observations": "The current iteration focused on the 'Informed Liquidity Exhaustion' (ILE) framework, testing three variations that combine idiosyncratic risk measures with volume-price climaxes. While the current experiment achieved a higher Information Coefficient (IC: 0.006276 vs SOTA: 0.005798), indicating improved point-in-time predictive power, the portfolio-level metrics (Annualized Return and Information Ratio) significantly underperformed the SOTA. The Max Drawdown is also nearly double that of the SOTA, suggesting that while the signal is 'correct' more often (higher IC), its magnitude or stability during extreme market conditions is poor, leading to higher risk and lower realized returns.",
        "hypothesis_evaluation": "The hypothesis that ILE identifies high-conviction reversal points is partially supported by the improved IC, suggesting the interaction between idiosyncratic risk and liquidity exhaustion contains alpha. However, the poor Information Ratio and high drawdown suggest the current mathematical formulations are either too noisy or the 'reversal' signal is being triggered prematurely. The 'Structural_Liquidity_Climax_Z' and 'ILE_Informed_Exhaustion_20D' factors are relatively complex, and the performance gap between IC and IR suggests they may be capturing idiosyncratic noise rather than robust structural shifts.",
        "decision": false,
        "reason": "1. The current use of TS_CORR in the denominator (ILE_Informed_Exhaustion_20D) can create extreme outliers when correlation is near zero, leading to unstable factor values. 2. High IC with low IR often indicates a lack of signal persistence or extreme values that don't translate well into a diversified portfolio. 3. Simplifying the 'Informed' component to a 20-day idiosyncratic volatility Z-score and the 'Exhaustion' component to a Volume/Price-Range ratio will reduce complexity (SL/PC) and likely improve generalization. 4. Moving from DELTA (displacement) to a measure of efficiency (Price Change / Volume) might better isolate 'exhaustion' where high effort (volume) yields low result (price movement)."
      },
      "cache_location": null
    },
    "e2470ddd4a7f6f40": {
      "factor_id": "e2470ddd4a7f6f40",
      "factor_name": "Idiosyncratic_Momentum_Exhaustion",
      "factor_expression": "(TS_VAR($return, 20) * (1 - POW(TS_CORR($return, SEQUENCE(20), 20), 2))) / (ABS(TS_PCTCHANGE($close, 5)) * ($volume / (TS_MEAN($volume, 20) + 1e-8)) + 1e-8)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(TS_STD(TS_PCTCHANGE($close, 1), 20) * (1 - POW(TS_CORR(TS_PCTCHANGE($close, 1), SEQUENCE(20), 20), 2))) / (ABS(TS_PCTCHANGE($close, 5)) * ($volume / (TS_MEAN($volume, 20) + 0.00000001)) + 0.00000001)\" # Your output factor expression will be filled in here\n    name = \"Idiosyncratic_Momentum_Exhaustion\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "A simplified version of the ILE hypothesis focusing on the decoupling of idiosyncratic price strength from volume trends. It uses the ratio of 20-day idiosyncratic risk to 5-day volume-weighted returns to identify overextended informed positions likely to mean-revert.",
      "factor_formulation": "IME = \\frac{TS\\_VAR(return, 20) \\times (1 - POW(TS\\_CORR(return, SEQUENCE(20), 20), 2))}{ABS(TS\\_PCTCHANGE(close, 5)) \\times (volume / TS\\_MEAN(volume, 20)) + 1e-8}",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "28e935821730",
        "parent_trajectory_ids": [
          "1c6cdea46d30",
          "e6b1f3093c78"
        ],
        "hypothesis": "Hypothesis: The Informed Liquidity Exhaustion (ILE) factor, calculated as the product of a 20-day idiosyncratic-to-market risk ratio and a 5-day volume-weighted price displacement, identifies high-conviction reversal points by filtering short-term liquidity climaxes through a structural lens of information asymmetry.\n                Concise Observation: Parent 1 successfully captured short-term reversals via liquidity exhaustion (RankIC 0.023) but lacked structural context, while Parent 2 identified informed regimes (RankIC 0.026); combining them addresses the noise in tactical triggers by ensuring they occur within idiosyncratic price discovery phases.\n                Concise Justification: By multiplying the structural 'Informed Institutional Absorption' metric with the tactical 'High-Velocity Exhaustion' metric, the factor isolates price-volume decoupling events that are fundamentally driven rather than market-beta noise, leading to higher signal-to-noise ratios in predicting returns.\n                Concise Knowledge: If a stock exhibits high idiosyncratic volatility relative to market correlation over 20 days, it indicates informed trading; when this regime coincides with a 5-day surge in ATR-normalized price-volume displacement, the resulting liquidity exhaustion is more likely to trigger a significant mean reversion.\n                concise Specification: The factor is defined as (20-day Idiosyncratic Volatility / 20-day Market Correlation) * (5-day Price Change / 5-day ATR) * (5-day Volume / 20-day Average Volume), targeting stocks where high information asymmetry meets extreme short-term liquidity demand.\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T16:28:27.831071"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1752570401201761,
        "ICIR": 0.0380854441653893,
        "1day.excess_return_without_cost.std": 0.0054488999955957,
        "1day.excess_return_with_cost.annualized_return": -0.0202925909912224,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0001150724797493,
        "1day.excess_return_without_cost.annualized_return": 0.0273872501803475,
        "1day.excess_return_with_cost.std": 0.0054508382843421,
        "Rank IC": 0.0256741856533232,
        "IC": 0.0062760309157409,
        "1day.excess_return_without_cost.max_drawdown": -0.1301089021740738,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.3258000249427408,
        "1day.pa": 0.0,
        "l2.valid": 0.9963322698478349,
        "Rank ICIR": 0.1615889905674365,
        "l2.train": 0.9935960174521452,
        "1day.excess_return_with_cost.information_ratio": -0.241315782176413,
        "1day.excess_return_with_cost.mean": -8.526298735807765e-05
      },
      "feedback": {
        "observations": "The current iteration focused on the 'Informed Liquidity Exhaustion' (ILE) framework, testing three variations that combine idiosyncratic risk measures with volume-price climaxes. While the current experiment achieved a higher Information Coefficient (IC: 0.006276 vs SOTA: 0.005798), indicating improved point-in-time predictive power, the portfolio-level metrics (Annualized Return and Information Ratio) significantly underperformed the SOTA. The Max Drawdown is also nearly double that of the SOTA, suggesting that while the signal is 'correct' more often (higher IC), its magnitude or stability during extreme market conditions is poor, leading to higher risk and lower realized returns.",
        "hypothesis_evaluation": "The hypothesis that ILE identifies high-conviction reversal points is partially supported by the improved IC, suggesting the interaction between idiosyncratic risk and liquidity exhaustion contains alpha. However, the poor Information Ratio and high drawdown suggest the current mathematical formulations are either too noisy or the 'reversal' signal is being triggered prematurely. The 'Structural_Liquidity_Climax_Z' and 'ILE_Informed_Exhaustion_20D' factors are relatively complex, and the performance gap between IC and IR suggests they may be capturing idiosyncratic noise rather than robust structural shifts.",
        "decision": false,
        "reason": "1. The current use of TS_CORR in the denominator (ILE_Informed_Exhaustion_20D) can create extreme outliers when correlation is near zero, leading to unstable factor values. 2. High IC with low IR often indicates a lack of signal persistence or extreme values that don't translate well into a diversified portfolio. 3. Simplifying the 'Informed' component to a 20-day idiosyncratic volatility Z-score and the 'Exhaustion' component to a Volume/Price-Range ratio will reduce complexity (SL/PC) and likely improve generalization. 4. Moving from DELTA (displacement) to a measure of efficiency (Price Change / Volume) might better isolate 'exhaustion' where high effort (volume) yields low result (price movement)."
      },
      "cache_location": null
    },
    "615cfddc5cabfcbb": {
      "factor_id": "615cfddc5cabfcbb",
      "factor_name": "RSA_Structural_Alpha_10D",
      "factor_expression": "RANK(($close / DELAY($close, 10)) - MEAN($close / DELAY($close, 10))) * RANK((($open - DELAY($close, 1)) / (ABS($high - $low) + 1e-8)) * TS_CORR($close, $volume, 5))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($close / DELAY($close, 10)) - MEAN($close / DELAY($close, 10))) * RANK((($open - DELAY($close, 1)) / (ABS($high - $low) + 1e-8)) * TS_CORR($close, $volume, 5))\" # Your output factor expression will be filled in here\n    name = \"RSA_Structural_Alpha_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor implements the Resilient Structural Alpha (RSA) logic by combining idiosyncratic price acceleration with a structural breakout score. It captures stocks where price momentum (relative to the market) is validated by institutional accumulation indicators like high overnight returns relative to intraday volatility and positive volume-price synchronization.",
      "factor_formulation": "RSA = \\text{RANK}(\\frac{close_t}{close_{t-10}} - \\text{MEAN}(\\frac{close_t}{close_{t-10}})) \\times \\text{RANK}(\\frac{open_t - delay(close, 1)}{ABS(high - low) + 1e-8} \\times \\text{TS_CORR}(close, volume, 5))",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "5cf3b7fc0a6d",
        "parent_trajectory_ids": [
          "8b0b21740c56",
          "bd4edd3bcbd2"
        ],
        "hypothesis": "Hypothesis: The 'Resilient Structural Alpha' (RSA) factor identifies superior returns by multiplying the 10-day idiosyncratic price acceleration (relative to cross-sectional mean) by a 5-day structural breakout score derived from the ratio of overnight returns to intraday range and volume-price correlation.\n                Concise Observation: Parent 1's price acceleration captures momentum but is noisy, while Parent 2's information asymmetry metrics identify quality; combining them filters out retail-driven volatility in favor of informed institutional moves.\n                Concise Justification: Multiplying idiosyncratic resilience by structural breakout metrics creates a non-linear filter that ensures price strength is validated by 'informed' gaps and liquidity-backed conviction, reducing the risk of false breakouts.\n                Concise Knowledge: If a stock's price acceleration diverges positively from the market average while simultaneously exhibiting high overnight-to-intraday return ratios and strong volume-price synchronization, it indicates institutional accumulation that is likely to persist.\n                concise Specification: Calculate IRA as (Close_t/Close_{t-10} - CrossSectionalMean(Close_t/Close_{t-10})); calculate ISB as (Overnight_Return / Intraday_Range) * Correlation(Close, Volume, 5); RSA = Rank(IRA) * Rank(ISB).\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T16:06:07.741034"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1130945726161619,
        "ICIR": 0.0514737912278067,
        "1day.excess_return_without_cost.std": 0.0043879980426351,
        "1day.excess_return_with_cost.annualized_return": 0.0113876830569931,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0002459363713115,
        "1day.excess_return_without_cost.annualized_return": 0.0585328563721487,
        "1day.excess_return_with_cost.std": 0.0043899757919087,
        "Rank IC": 0.02479176240905,
        "IC": 0.0068889303205509,
        "1day.excess_return_without_cost.max_drawdown": -0.0848474356723832,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.8646588964243466,
        "1day.pa": 0.0,
        "l2.valid": 0.996272373098909,
        "Rank ICIR": 0.193159114620561,
        "l2.train": 0.9934630983988564,
        "1day.excess_return_with_cost.information_ratio": 0.1681453135522942,
        "1day.excess_return_with_cost.mean": 4.784740780249223e-05
      },
      "feedback": {
        "observations": "The current iteration of the 'Resilient Structural Alpha' (RSA) framework shows promising results, particularly in terms of predictive accuracy (IC) and absolute profitability (Annualized Return). The IC increased from 0.0058 to 0.0069, and the Annualized Return improved from 5.20% to 5.85%. However, the Information Ratio (IR) saw a slight decline, and the Max Drawdown (MDD) worsened from -0.0726 to -0.0848, indicating that the current implementation captures higher returns at the cost of increased volatility and tail risk.",
        "hypothesis_evaluation": "The hypothesis that idiosyncratic price acceleration combined with structural breakout indicators (overnight gaps and volume-price correlation) generates alpha is supported by the improved IC and Annualized Return. Specifically, the 'RSA_Structural_Alpha_10D' and 'Informed_Accumulation_Filter_8D' factors demonstrate that the interaction between price momentum and institutional 'footprints' (overnight activity) is a valid source of excess return. The deterioration in MDD suggests that the 'Structural Breakout' component might be sensitive to market regimes or needs a more robust volatility-normalization step.",
        "decision": true,
        "reason": "The current RSA_Structural_Alpha_10D uses a raw difference (open - delay(close, 1)) divided by range, which can be extremely noisy. Scaling the overnight gap by the standard deviation of returns (Z-score) or using a time-series rank of the gap will likely improve the Information Ratio. Furthermore, using TS_RANK on volume and price before correlation (Spearman-like) will make the 'Informed Accumulation' signal more robust to volume spikes. This targets the improvement of the IR and MDD while preserving the high IC observed in this run."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_221528",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221528",
        "factor_dir": "134ef76e5e5c46f19118aaef45efdfce",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221528/134ef76e5e5c46f19118aaef45efdfce/result.h5"
      }
    },
    "71e28541bb9e6b4b": {
      "factor_id": "71e28541bb9e6b4b",
      "factor_name": "Informed_Accumulation_Filter_8D",
      "factor_expression": "ZSCORE(TS_PCTCHANGE($close, 8) - MEAN(TS_PCTCHANGE($close, 8))) * TS_CORR($return, $volume, 5)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"ZSCORE(TS_PCTCHANGE($close, 8) - MEAN(TS_PCTCHANGE($close, 8))) * TS_CORR(TS_PCTCHANGE($close, 1), $volume, 5)\" # Your output factor expression will be filled in here\n    name = \"Informed_Accumulation_Filter_8D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "A simplified version of the RSA hypothesis focusing on the interaction between price acceleration and the quality of the breakout. It uses the Z-score of 8-day returns adjusted for market mean, multiplied by the 5-day correlation of returns and volume to filter for high-conviction institutional moves.",
      "factor_formulation": "IAF = \\text{ZSCORE}(\\text{TS_PCTCHANGE}(close, 8) - \\text{MEAN}(\\text{TS_PCTCHANGE}(close, 8))) \\times \\text{TS_CORR}(return, volume, 5)",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "5cf3b7fc0a6d",
        "parent_trajectory_ids": [
          "8b0b21740c56",
          "bd4edd3bcbd2"
        ],
        "hypothesis": "Hypothesis: The 'Resilient Structural Alpha' (RSA) factor identifies superior returns by multiplying the 10-day idiosyncratic price acceleration (relative to cross-sectional mean) by a 5-day structural breakout score derived from the ratio of overnight returns to intraday range and volume-price correlation.\n                Concise Observation: Parent 1's price acceleration captures momentum but is noisy, while Parent 2's information asymmetry metrics identify quality; combining them filters out retail-driven volatility in favor of informed institutional moves.\n                Concise Justification: Multiplying idiosyncratic resilience by structural breakout metrics creates a non-linear filter that ensures price strength is validated by 'informed' gaps and liquidity-backed conviction, reducing the risk of false breakouts.\n                Concise Knowledge: If a stock's price acceleration diverges positively from the market average while simultaneously exhibiting high overnight-to-intraday return ratios and strong volume-price synchronization, it indicates institutional accumulation that is likely to persist.\n                concise Specification: Calculate IRA as (Close_t/Close_{t-10} - CrossSectionalMean(Close_t/Close_{t-10})); calculate ISB as (Overnight_Return / Intraday_Range) * Correlation(Close, Volume, 5); RSA = Rank(IRA) * Rank(ISB).\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T16:06:07.741034"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1130945726161619,
        "ICIR": 0.0514737912278067,
        "1day.excess_return_without_cost.std": 0.0043879980426351,
        "1day.excess_return_with_cost.annualized_return": 0.0113876830569931,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0002459363713115,
        "1day.excess_return_without_cost.annualized_return": 0.0585328563721487,
        "1day.excess_return_with_cost.std": 0.0043899757919087,
        "Rank IC": 0.02479176240905,
        "IC": 0.0068889303205509,
        "1day.excess_return_without_cost.max_drawdown": -0.0848474356723832,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.8646588964243466,
        "1day.pa": 0.0,
        "l2.valid": 0.996272373098909,
        "Rank ICIR": 0.193159114620561,
        "l2.train": 0.9934630983988564,
        "1day.excess_return_with_cost.information_ratio": 0.1681453135522942,
        "1day.excess_return_with_cost.mean": 4.784740780249223e-05
      },
      "feedback": {
        "observations": "The current iteration of the 'Resilient Structural Alpha' (RSA) framework shows promising results, particularly in terms of predictive accuracy (IC) and absolute profitability (Annualized Return). The IC increased from 0.0058 to 0.0069, and the Annualized Return improved from 5.20% to 5.85%. However, the Information Ratio (IR) saw a slight decline, and the Max Drawdown (MDD) worsened from -0.0726 to -0.0848, indicating that the current implementation captures higher returns at the cost of increased volatility and tail risk.",
        "hypothesis_evaluation": "The hypothesis that idiosyncratic price acceleration combined with structural breakout indicators (overnight gaps and volume-price correlation) generates alpha is supported by the improved IC and Annualized Return. Specifically, the 'RSA_Structural_Alpha_10D' and 'Informed_Accumulation_Filter_8D' factors demonstrate that the interaction between price momentum and institutional 'footprints' (overnight activity) is a valid source of excess return. The deterioration in MDD suggests that the 'Structural Breakout' component might be sensitive to market regimes or needs a more robust volatility-normalization step.",
        "decision": true,
        "reason": "The current RSA_Structural_Alpha_10D uses a raw difference (open - delay(close, 1)) divided by range, which can be extremely noisy. Scaling the overnight gap by the standard deviation of returns (Z-score) or using a time-series rank of the gap will likely improve the Information Ratio. Furthermore, using TS_RANK on volume and price before correlation (Spearman-like) will make the 'Informed Accumulation' signal more robust to volume spikes. This targets the improvement of the IR and MDD while preserving the high IC observed in this run."
      },
      "cache_location": null
    },
    "36288a243e09d10a": {
      "factor_id": "36288a243e09d10a",
      "factor_name": "Overnight_Resilience_Score_15D",
      "factor_expression": "RANK(TS_MEAN(($open - DELAY($close, 1)) / ($high - $low + 1e-8), 5)) * RANK($close / DELAY($close, 15))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN(($open - DELAY($close, 1)) / ($high - $low + 1e-8), 5)) * RANK($close / DELAY($close, 15))\" # Your output factor expression will be filled in here\n    name = \"Overnight_Resilience_Score_15D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor targets the 'Structural Breakout' component of the RSA hypothesis. It measures the consistency of overnight price gaps relative to intraday ranges, weighted by the stock's recent price acceleration relative to the cross-section.",
      "factor_formulation": "ORS = \\text{RANK}(\\text{TS_MEAN}(\\frac{open - delay(close, 1)}{high - low + 1e-8}, 5)) \\times \\text{RANK}(\\frac{close}{delay(close, 15)})",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 10,
        "evolution_phase": "crossover",
        "trajectory_id": "5cf3b7fc0a6d",
        "parent_trajectory_ids": [
          "8b0b21740c56",
          "bd4edd3bcbd2"
        ],
        "hypothesis": "Hypothesis: The 'Resilient Structural Alpha' (RSA) factor identifies superior returns by multiplying the 10-day idiosyncratic price acceleration (relative to cross-sectional mean) by a 5-day structural breakout score derived from the ratio of overnight returns to intraday range and volume-price correlation.\n                Concise Observation: Parent 1's price acceleration captures momentum but is noisy, while Parent 2's information asymmetry metrics identify quality; combining them filters out retail-driven volatility in favor of informed institutional moves.\n                Concise Justification: Multiplying idiosyncratic resilience by structural breakout metrics creates a non-linear filter that ensures price strength is validated by 'informed' gaps and liquidity-backed conviction, reducing the risk of false breakouts.\n                Concise Knowledge: If a stock's price acceleration diverges positively from the market average while simultaneously exhibiting high overnight-to-intraday return ratios and strong volume-price synchronization, it indicates institutional accumulation that is likely to persist.\n                concise Specification: Calculate IRA as (Close_t/Close_{t-10} - CrossSectionalMean(Close_t/Close_{t-10})); calculate ISB as (Overnight_Return / Intraday_Range) * Correlation(Close, Volume, 5); RSA = Rank(IRA) * Rank(ISB).\n                ",
        "initial_direction": null,
        "planning_direction": null,
        "created_at": "2026-01-19T16:06:07.741034"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1130945726161619,
        "ICIR": 0.0514737912278067,
        "1day.excess_return_without_cost.std": 0.0043879980426351,
        "1day.excess_return_with_cost.annualized_return": 0.0113876830569931,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0002459363713115,
        "1day.excess_return_without_cost.annualized_return": 0.0585328563721487,
        "1day.excess_return_with_cost.std": 0.0043899757919087,
        "Rank IC": 0.02479176240905,
        "IC": 0.0068889303205509,
        "1day.excess_return_without_cost.max_drawdown": -0.0848474356723832,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.8646588964243466,
        "1day.pa": 0.0,
        "l2.valid": 0.996272373098909,
        "Rank ICIR": 0.193159114620561,
        "l2.train": 0.9934630983988564,
        "1day.excess_return_with_cost.information_ratio": 0.1681453135522942,
        "1day.excess_return_with_cost.mean": 4.784740780249223e-05
      },
      "feedback": {
        "observations": "The current iteration of the 'Resilient Structural Alpha' (RSA) framework shows promising results, particularly in terms of predictive accuracy (IC) and absolute profitability (Annualized Return). The IC increased from 0.0058 to 0.0069, and the Annualized Return improved from 5.20% to 5.85%. However, the Information Ratio (IR) saw a slight decline, and the Max Drawdown (MDD) worsened from -0.0726 to -0.0848, indicating that the current implementation captures higher returns at the cost of increased volatility and tail risk.",
        "hypothesis_evaluation": "The hypothesis that idiosyncratic price acceleration combined with structural breakout indicators (overnight gaps and volume-price correlation) generates alpha is supported by the improved IC and Annualized Return. Specifically, the 'RSA_Structural_Alpha_10D' and 'Informed_Accumulation_Filter_8D' factors demonstrate that the interaction between price momentum and institutional 'footprints' (overnight activity) is a valid source of excess return. The deterioration in MDD suggests that the 'Structural Breakout' component might be sensitive to market regimes or needs a more robust volatility-normalization step.",
        "decision": true,
        "reason": "The current RSA_Structural_Alpha_10D uses a raw difference (open - delay(close, 1)) divided by range, which can be extremely noisy. Scaling the overnight gap by the standard deviation of returns (Z-score) or using a time-series rank of the gap will likely improve the Information Ratio. Furthermore, using TS_RANK on volume and price before correlation (Spearman-like) will make the 'Informed Accumulation' signal more robust to volume spikes. This targets the improvement of the IR and MDD while preserving the high IC observed in this run."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_221528",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221528",
        "factor_dir": "d857e7e0338e4141a9ed7402d26201e5",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221528/d857e7e0338e4141a9ed7402d26201e5/result.h5"
      }
    }
  }
}