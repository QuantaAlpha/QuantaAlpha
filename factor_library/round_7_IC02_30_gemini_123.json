{
  "metadata": {
    "created_at": "2026-01-20T03:13:03.688226",
    "last_updated": "2026-01-20T03:13:03.688230",
    "total_factors": 30,
    "version": "1.0",
    "note": "Round 7 factors with RankIC > 0.02, top 30 by RankIC from gemini_123"
  },
  "factors": {
    "ba37c584c0a52a27": {
      "factor_id": "ba37c584c0a52a27",
      "factor_name": "IAD_Residual_Correlation_Ratio_20D",
      "factor_expression": "TS_STD(REGRESI($return, MEAN($return), 20), 20) / (ABS(TS_CORR($return, MEAN($return), 20)) + 1e-8)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_STD(REGRESI(($close/DELAY($close, 1)-1), MEAN($close/DELAY($close, 1)-1), 20), 20) / (ABS(TS_CORR(($close/DELAY($close, 1)-1), MEAN($close/DELAY($close, 1)-1), 20)) + 0.00000001)\" # Your output factor expression will be filled in here\n    name = \"IAD_Residual_Correlation_Ratio_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor captures Information Asymmetry Decay by calculating the ratio of idiosyncratic volatility (residual risk relative to the market) to the cross-sectional market correlation. High idiosyncratic risk combined with low market correlation suggests informed price drifts that are not yet reflected in systematic movements.",
      "factor_formulation": "\\frac{TS\\_STD(REGRESI(return, MEAN(return), 20), 20)}{ABS(TS\\_CORR(return, MEAN(return), 20)) + 1e-8}",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "5120fde0f367",
        "parent_trajectory_ids": [
          "ceef2a702898"
        ],
        "hypothesis": "Hypothesis: The Information Asymmetry Decay (IAD) factor, calculated as the ratio of 20-day idiosyncratic volatility to the stock's 20-day cross-sectional correlation with the market, identifies informed price drifts that precede persistent momentum.\n                Concise Observation: Previous strategies focused on high-volume price exhaustion and mean-reversion (LVSS), whereas market data often exhibits low-intensity, low-correlation price trends that suggest informed accumulation without immediate liquidity spikes.\n                Concise Justification: High idiosyncratic volatility paired with low market correlation isolates stock-specific information flows; by measuring the divergence between asset-specific risk and systematic movement, we can capture the early stages of a trend before it becomes a crowded trade.\n                Concise Knowledge: If a stock's idiosyncratic risk increases while its correlation with the broader market decreases, then the price movement is likely driven by private information rather than systematic noise; such 'quiet' drifts tend to persist as the market slowly absorbs the information.\n                concise Specification: The factor is defined as the 20-day residual volatility from a simple linear regression of stock returns against market returns, divided by the 20-day rolling correlation of the stock's price with the average market price, targeting a 5-to-10 day holding period.\n                ",
        "initial_direction": "Asymmetric Residual Momentum: Separating positive and negative RESI5 values to test if the market reacts more quickly to over-extension (positive) than to under-valuation (negative).",
        "planning_direction": "Asymmetric Residual Momentum: Separating positive and negative RESI5 values to test if the market reacts more quickly to over-extension (positive) than to under-valuation (negative).",
        "created_at": "2026-01-19T13:07:29.458483"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1393397893322406,
        "ICIR": 0.0566827618587279,
        "1day.excess_return_without_cost.std": 0.0052930841142756,
        "1day.excess_return_with_cost.annualized_return": 0.0671671909041549,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.000479673484835,
        "1day.excess_return_without_cost.annualized_return": 0.1141622893907394,
        "1day.excess_return_with_cost.std": 0.0052945679792701,
        "Rank IC": 0.0268141448517974,
        "IC": 0.0077685603031463,
        "1day.excess_return_without_cost.max_drawdown": -0.1091585328483903,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.3980586643755724,
        "1day.pa": 0.0,
        "l2.valid": 0.9964305406343514,
        "Rank ICIR": 0.1996533818208998,
        "l2.train": 0.9942930903797672,
        "1day.excess_return_with_cost.information_ratio": 0.8223149351387536,
        "1day.excess_return_with_cost.mean": 0.0002822150878325
      },
      "feedback": {
        "observations": "The current iteration significantly outperforms the previous SOTA in terms of risk-adjusted returns and predictive power. The Information Ratio (IR) increased from 0.97 to 1.40, and the Annualized Return more than doubled from 5.2% to 11.4%. The Information Coefficient (IC) also showed a healthy improvement to 0.0078. However, the Max Drawdown (MDD) deepened from -0.07 to -0.10, indicating that while the signal is much stronger, it introduces higher tail risk or volatility during market regime shifts. The Information Asymmetry Decay (IAD) framework, particularly the ratio of idiosyncratic volatility to market correlation, appears to be a highly effective source of alpha.",
        "hypothesis_evaluation": "The results strongly support the hypothesis. The 'Informed_Momentum_Proxy_20D' and 'IAD_Residual_Correlation_Ratio_20D' factors demonstrate that the decoupling of stock-specific risk from systematic market movement (low correlation + high idiosyncratic vol) is a potent predictor of future returns. The use of the EMA smoothing in the Informed Momentum Proxy likely contributed to the stability of the signal, confirming that these 'informed drifts' are persistent rather than noise.",
        "decision": true,
        "reason": "Currently, the market proxy is a simple cross-sectional mean. In many market environments, sector-specific movements dominate the 'idiosyncratic' component. By using sector-neutral residuals, we can better isolate firm-specific informed trading. Additionally, the current formulation uses a raw correlation in the denominator; when correlation is near zero, the factor value can explode. Capping the influence of extremely low correlations or using a ranked denominator will improve factor robustness and potentially reduce the Max Drawdown observed in this run."
      },
      "cache_location": null
    },
    "1115fe236567eb03": {
      "factor_id": "1115fe236567eb03",
      "factor_name": "Quiet_Drift_Intensity_15D",
      "factor_expression": "RANK(TS_VAR(REGRESI($return, MEAN($return), 15), 15)) - RANK(ABS(TS_CORR($return, MEAN($return), 15)))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_VAR(REGRESI(TS_PCTCHANGE($close, 1), MEAN(TS_PCTCHANGE($close, 1)), 15), 15)) - RANK(ABS(TS_CORR(TS_PCTCHANGE($close, 1), MEAN(TS_PCTCHANGE($close, 1)), 15)))\" # Your output factor expression will be filled in here\n    name = \"Quiet_Drift_Intensity_15D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "Measures the intensity of 'quiet' price drifts by comparing idiosyncratic variance to the market-linked variance. It identifies stocks moving on private information by rewarding high stock-specific volatility and penalizing high correlation with the market average.",
      "factor_formulation": "RANK(TS\\_VAR(REGRESI(return, MEAN(return), 15), 15)) - RANK(ABS(TS\\_CORR(return, MEAN(return), 15)))",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "5120fde0f367",
        "parent_trajectory_ids": [
          "ceef2a702898"
        ],
        "hypothesis": "Hypothesis: The Information Asymmetry Decay (IAD) factor, calculated as the ratio of 20-day idiosyncratic volatility to the stock's 20-day cross-sectional correlation with the market, identifies informed price drifts that precede persistent momentum.\n                Concise Observation: Previous strategies focused on high-volume price exhaustion and mean-reversion (LVSS), whereas market data often exhibits low-intensity, low-correlation price trends that suggest informed accumulation without immediate liquidity spikes.\n                Concise Justification: High idiosyncratic volatility paired with low market correlation isolates stock-specific information flows; by measuring the divergence between asset-specific risk and systematic movement, we can capture the early stages of a trend before it becomes a crowded trade.\n                Concise Knowledge: If a stock's idiosyncratic risk increases while its correlation with the broader market decreases, then the price movement is likely driven by private information rather than systematic noise; such 'quiet' drifts tend to persist as the market slowly absorbs the information.\n                concise Specification: The factor is defined as the 20-day residual volatility from a simple linear regression of stock returns against market returns, divided by the 20-day rolling correlation of the stock's price with the average market price, targeting a 5-to-10 day holding period.\n                ",
        "initial_direction": "Asymmetric Residual Momentum: Separating positive and negative RESI5 values to test if the market reacts more quickly to over-extension (positive) than to under-valuation (negative).",
        "planning_direction": "Asymmetric Residual Momentum: Separating positive and negative RESI5 values to test if the market reacts more quickly to over-extension (positive) than to under-valuation (negative).",
        "created_at": "2026-01-19T13:07:29.458483"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1393397893322406,
        "ICIR": 0.0566827618587279,
        "1day.excess_return_without_cost.std": 0.0052930841142756,
        "1day.excess_return_with_cost.annualized_return": 0.0671671909041549,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.000479673484835,
        "1day.excess_return_without_cost.annualized_return": 0.1141622893907394,
        "1day.excess_return_with_cost.std": 0.0052945679792701,
        "Rank IC": 0.0268141448517974,
        "IC": 0.0077685603031463,
        "1day.excess_return_without_cost.max_drawdown": -0.1091585328483903,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.3980586643755724,
        "1day.pa": 0.0,
        "l2.valid": 0.9964305406343514,
        "Rank ICIR": 0.1996533818208998,
        "l2.train": 0.9942930903797672,
        "1day.excess_return_with_cost.information_ratio": 0.8223149351387536,
        "1day.excess_return_with_cost.mean": 0.0002822150878325
      },
      "feedback": {
        "observations": "The current iteration significantly outperforms the previous SOTA in terms of risk-adjusted returns and predictive power. The Information Ratio (IR) increased from 0.97 to 1.40, and the Annualized Return more than doubled from 5.2% to 11.4%. The Information Coefficient (IC) also showed a healthy improvement to 0.0078. However, the Max Drawdown (MDD) deepened from -0.07 to -0.10, indicating that while the signal is much stronger, it introduces higher tail risk or volatility during market regime shifts. The Information Asymmetry Decay (IAD) framework, particularly the ratio of idiosyncratic volatility to market correlation, appears to be a highly effective source of alpha.",
        "hypothesis_evaluation": "The results strongly support the hypothesis. The 'Informed_Momentum_Proxy_20D' and 'IAD_Residual_Correlation_Ratio_20D' factors demonstrate that the decoupling of stock-specific risk from systematic market movement (low correlation + high idiosyncratic vol) is a potent predictor of future returns. The use of the EMA smoothing in the Informed Momentum Proxy likely contributed to the stability of the signal, confirming that these 'informed drifts' are persistent rather than noise.",
        "decision": true,
        "reason": "Currently, the market proxy is a simple cross-sectional mean. In many market environments, sector-specific movements dominate the 'idiosyncratic' component. By using sector-neutral residuals, we can better isolate firm-specific informed trading. Additionally, the current formulation uses a raw correlation in the denominator; when correlation is near zero, the factor value can explode. Capping the influence of extremely low correlations or using a ranked denominator will improve factor robustness and potentially reduce the Max Drawdown observed in this run."
      },
      "cache_location": null
    },
    "a215134fcbe3bd4c": {
      "factor_id": "a215134fcbe3bd4c",
      "factor_name": "Informed_Momentum_Proxy_20D",
      "factor_expression": "EMA(TS_STD(REGRESI($return, MEAN($return), 20), 20) / (ABS(TS_CORR($return, MEAN($return), 20)) + 1e-8), 5)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"EMA(TS_STD(REGRESI(TS_PCTCHANGE($close, 1), MEAN(TS_PCTCHANGE($close, 1)), 20), 20) / (ABS(TS_CORR(TS_PCTCHANGE($close, 1), MEAN(TS_PCTCHANGE($close, 1)), 20)) + 0.000001), 5)\" # Your output factor expression will be filled in here\n    name = \"Informed_Momentum_Proxy_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "A simplified version of the Information Asymmetry Decay factor that uses the ratio of rolling idiosyncratic standard deviation to the absolute market correlation, smoothed by a 5-day moving average to identify persistent informed trends.",
      "factor_formulation": "EMA(\\frac{TS\\_STD(REGRESI(return, MEAN(return), 20), 20)}{TS\\_CORR(return, MEAN(return), 20) + 1e-8}, 5)",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "5120fde0f367",
        "parent_trajectory_ids": [
          "ceef2a702898"
        ],
        "hypothesis": "Hypothesis: The Information Asymmetry Decay (IAD) factor, calculated as the ratio of 20-day idiosyncratic volatility to the stock's 20-day cross-sectional correlation with the market, identifies informed price drifts that precede persistent momentum.\n                Concise Observation: Previous strategies focused on high-volume price exhaustion and mean-reversion (LVSS), whereas market data often exhibits low-intensity, low-correlation price trends that suggest informed accumulation without immediate liquidity spikes.\n                Concise Justification: High idiosyncratic volatility paired with low market correlation isolates stock-specific information flows; by measuring the divergence between asset-specific risk and systematic movement, we can capture the early stages of a trend before it becomes a crowded trade.\n                Concise Knowledge: If a stock's idiosyncratic risk increases while its correlation with the broader market decreases, then the price movement is likely driven by private information rather than systematic noise; such 'quiet' drifts tend to persist as the market slowly absorbs the information.\n                concise Specification: The factor is defined as the 20-day residual volatility from a simple linear regression of stock returns against market returns, divided by the 20-day rolling correlation of the stock's price with the average market price, targeting a 5-to-10 day holding period.\n                ",
        "initial_direction": "Asymmetric Residual Momentum: Separating positive and negative RESI5 values to test if the market reacts more quickly to over-extension (positive) than to under-valuation (negative).",
        "planning_direction": "Asymmetric Residual Momentum: Separating positive and negative RESI5 values to test if the market reacts more quickly to over-extension (positive) than to under-valuation (negative).",
        "created_at": "2026-01-19T13:07:29.458483"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1393397893322406,
        "ICIR": 0.0566827618587279,
        "1day.excess_return_without_cost.std": 0.0052930841142756,
        "1day.excess_return_with_cost.annualized_return": 0.0671671909041549,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.000479673484835,
        "1day.excess_return_without_cost.annualized_return": 0.1141622893907394,
        "1day.excess_return_with_cost.std": 0.0052945679792701,
        "Rank IC": 0.0268141448517974,
        "IC": 0.0077685603031463,
        "1day.excess_return_without_cost.max_drawdown": -0.1091585328483903,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.3980586643755724,
        "1day.pa": 0.0,
        "l2.valid": 0.9964305406343514,
        "Rank ICIR": 0.1996533818208998,
        "l2.train": 0.9942930903797672,
        "1day.excess_return_with_cost.information_ratio": 0.8223149351387536,
        "1day.excess_return_with_cost.mean": 0.0002822150878325
      },
      "feedback": {
        "observations": "The current iteration significantly outperforms the previous SOTA in terms of risk-adjusted returns and predictive power. The Information Ratio (IR) increased from 0.97 to 1.40, and the Annualized Return more than doubled from 5.2% to 11.4%. The Information Coefficient (IC) also showed a healthy improvement to 0.0078. However, the Max Drawdown (MDD) deepened from -0.07 to -0.10, indicating that while the signal is much stronger, it introduces higher tail risk or volatility during market regime shifts. The Information Asymmetry Decay (IAD) framework, particularly the ratio of idiosyncratic volatility to market correlation, appears to be a highly effective source of alpha.",
        "hypothesis_evaluation": "The results strongly support the hypothesis. The 'Informed_Momentum_Proxy_20D' and 'IAD_Residual_Correlation_Ratio_20D' factors demonstrate that the decoupling of stock-specific risk from systematic market movement (low correlation + high idiosyncratic vol) is a potent predictor of future returns. The use of the EMA smoothing in the Informed Momentum Proxy likely contributed to the stability of the signal, confirming that these 'informed drifts' are persistent rather than noise.",
        "decision": true,
        "reason": "Currently, the market proxy is a simple cross-sectional mean. In many market environments, sector-specific movements dominate the 'idiosyncratic' component. By using sector-neutral residuals, we can better isolate firm-specific informed trading. Additionally, the current formulation uses a raw correlation in the denominator; when correlation is near zero, the factor value can explode. Capping the influence of extremely low correlations or using a ranked denominator will improve factor robustness and potentially reduce the Max Drawdown observed in this run."
      },
      "cache_location": null
    },
    "033484f16a4b0717": {
      "factor_id": "033484f16a4b0717",
      "factor_name": "IRVD_Exhaustion_Factor_10D",
      "factor_expression": "(($high - $low) / (TS_MEAN($volume, 5) + 1e-8)) * (-1 * TS_CORR($return, $volume, 10))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(($high - $low) / (TS_MEAN($volume, 5) + 1e-8)) * (-1 * TS_CORR(TS_PCTCHANGE($close, 1), $volume, 10))\" # Your output factor expression will be filled in here\n    name = \"IRVD_Exhaustion_Factor_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor identifies 'Intraday Range-Volume Divergence' by calculating the ratio of the intraday price range to the 5-day average volume, scaled by the negative correlation between returns and volume. A high value suggests price volatility is expanding while volume support or conviction is weakening, signaling a potential mean-reversion.",
      "factor_formulation": "IRVD = \\frac{high - low}{TS\\_MEAN(volume, 5)} \\times (-TS\\_CORR(return, volume, 10))",
      "metadata": {
        "experiment_id": "2026-01-18_13-34-30-274463",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "8c1ca601cdea",
        "parent_trajectory_ids": [
          "4eb4899dd9ce"
        ],
        "hypothesis": "Hypothesis: The 'Intraday Range-Volume Divergence' (IRVD) factor predicts a mean-reversion effect by identifying cases where intraday price volatility (High-Low range) expands while relative volume intensity diminishes, signaling a lack of liquidity support for the current price move.\n                Concise Observation: The parent strategy (VVGP) successfully captured trend persistence using volume-price synergy (RankIC 0.0274), but it fails to identify turning points where price momentum becomes decoupled from actual trading activity.\n                Concise Justification: Market microstructure theory suggests that price moves on low volume are 'fragile' and often represent noise or temporary liquidity imbalances; by scaling the intraday range by the volume-weighted price spread, we can isolate exhausted price trends.\n                Concise Knowledge: If price volatility increases while volume remains stagnant or decreases, the price movement is likely driven by liquidity gaps rather than fundamental conviction; when such divergence occurs at intraday extremes, mean-reversion is expected as liquidity providers re-enter the market.\n                concise Specification: The factor is defined as the ratio of the daily (High - Low) range to the 5-day moving average of volume, further adjusted by the negative correlation between price change and volume over a 10-day window to capture exhaustion signatures.\n                ",
        "initial_direction": "Construct a 'Liquidity-Adjusted Volatility' factor by multiplying WVMA5 with the inverse of the bid-ask spread to filter out noise in low-liquidity environments.",
        "planning_direction": "Construct a 'Liquidity-Adjusted Volatility' factor by multiplying WVMA5 with the inverse of the bid-ask spread to filter out noise in low-liquidity environments.",
        "created_at": "2026-01-19T04:31:59.207124"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1350081436785704,
        "ICIR": 0.0470249152604819,
        "1day.excess_return_without_cost.std": 0.0042487272928815,
        "1day.excess_return_with_cost.annualized_return": -0.0095490284838301,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0001582100902101,
        "1day.excess_return_without_cost.annualized_return": 0.0376540014700261,
        "1day.excess_return_with_cost.std": 0.0042496561984101,
        "Rank IC": 0.0265072014814073,
        "IC": 0.0065132094838673,
        "1day.excess_return_without_cost.max_drawdown": -0.0869054645315969,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.5744652993003952,
        "1day.pa": 0.0,
        "l2.valid": 0.9965530330926204,
        "Rank ICIR": 0.1947857502446756,
        "l2.train": 0.9934672007192844,
        "1day.excess_return_with_cost.information_ratio": -0.1456521546811249,
        "1day.excess_return_with_cost.mean": -4.012196841945433e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the 'Intraday Range-Volume Divergence' (IRVD) hypothesis. The current results show a significant improvement in the Information Coefficient (IC) compared to the SOTA (0.0065 vs 0.0057), indicating a stronger linear relationship between the factor signals and subsequent returns. However, the portfolio-based metrics—specifically the Information Ratio and Annualized Return—show a decline compared to the SOTA. This suggests that while the raw predictive power (IC) has improved, the signal's stability or the tail-end performance used in portfolio construction might be less robust than the previous best implementation.",
        "hypothesis_evaluation": "The hypothesis that price volatility expansion coupled with volume exhaustion signals mean-reversion is supported by the positive IC. The 'Volume_Decoupled_Volatility_Z' (VDV) and 'IRVD_Exhaustion_Factor_10D' provide different mathematical approaches to this divergence. The VDV's use of Z-scores is particularly effective for standardizing 'exhaustion' across different liquidity regimes, but the lower IR suggests the signal might be noisy or highly concentrated in specific market regimes.",
        "decision": false,
        "reason": "The current IRVD factors use simple ratios or Z-scores. However, the core of the hypothesis is 'liquidity fragility.' By specifically targeting days where the 'cost of moving price' (Range/Volume) is exceptionally high (inefficient) while the 'fuel' (Volume) is drying up, we isolate true exhaustion from mere low-activity periods. Using a 20-day window for the volume baseline provides a more stable regime filter than the 5-day window used in IRVD_Exhaustion_Factor_10D, which may reduce the noise reflected in the current lower IR."
      },
      "cache_location": null
    },
    "d7c49a4c180d79dd": {
      "factor_id": "d7c49a4c180d79dd",
      "factor_name": "Liquidity_Fragility_Index_15D",
      "factor_expression": "RANK($high - $low) - RANK($volume) - TS_PCTCHANGE($volume, 5)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK($high - $low) - RANK($volume) - TS_PCTCHANGE($volume, 5)\" # Your output factor expression will be filled in here\n    name = \"Liquidity_Fragility_Index_15D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor captures price fragility by measuring the divergence between price range and volume intensity. It uses the rank of the intraday range relative to the rank of volume, adjusted for the recent trend in volume growth. High values indicate price moves that lack volume confirmation.",
      "factor_formulation": "LFI = RANK(high - low) - RANK(volume) - TS\\_PCTCHANGE(volume, 5)",
      "metadata": {
        "experiment_id": "2026-01-18_13-34-30-274463",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "8c1ca601cdea",
        "parent_trajectory_ids": [
          "4eb4899dd9ce"
        ],
        "hypothesis": "Hypothesis: The 'Intraday Range-Volume Divergence' (IRVD) factor predicts a mean-reversion effect by identifying cases where intraday price volatility (High-Low range) expands while relative volume intensity diminishes, signaling a lack of liquidity support for the current price move.\n                Concise Observation: The parent strategy (VVGP) successfully captured trend persistence using volume-price synergy (RankIC 0.0274), but it fails to identify turning points where price momentum becomes decoupled from actual trading activity.\n                Concise Justification: Market microstructure theory suggests that price moves on low volume are 'fragile' and often represent noise or temporary liquidity imbalances; by scaling the intraday range by the volume-weighted price spread, we can isolate exhausted price trends.\n                Concise Knowledge: If price volatility increases while volume remains stagnant or decreases, the price movement is likely driven by liquidity gaps rather than fundamental conviction; when such divergence occurs at intraday extremes, mean-reversion is expected as liquidity providers re-enter the market.\n                concise Specification: The factor is defined as the ratio of the daily (High - Low) range to the 5-day moving average of volume, further adjusted by the negative correlation between price change and volume over a 10-day window to capture exhaustion signatures.\n                ",
        "initial_direction": "Construct a 'Liquidity-Adjusted Volatility' factor by multiplying WVMA5 with the inverse of the bid-ask spread to filter out noise in low-liquidity environments.",
        "planning_direction": "Construct a 'Liquidity-Adjusted Volatility' factor by multiplying WVMA5 with the inverse of the bid-ask spread to filter out noise in low-liquidity environments.",
        "created_at": "2026-01-19T04:31:59.207124"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1350081436785704,
        "ICIR": 0.0470249152604819,
        "1day.excess_return_without_cost.std": 0.0042487272928815,
        "1day.excess_return_with_cost.annualized_return": -0.0095490284838301,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0001582100902101,
        "1day.excess_return_without_cost.annualized_return": 0.0376540014700261,
        "1day.excess_return_with_cost.std": 0.0042496561984101,
        "Rank IC": 0.0265072014814073,
        "IC": 0.0065132094838673,
        "1day.excess_return_without_cost.max_drawdown": -0.0869054645315969,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.5744652993003952,
        "1day.pa": 0.0,
        "l2.valid": 0.9965530330926204,
        "Rank ICIR": 0.1947857502446756,
        "l2.train": 0.9934672007192844,
        "1day.excess_return_with_cost.information_ratio": -0.1456521546811249,
        "1day.excess_return_with_cost.mean": -4.012196841945433e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the 'Intraday Range-Volume Divergence' (IRVD) hypothesis. The current results show a significant improvement in the Information Coefficient (IC) compared to the SOTA (0.0065 vs 0.0057), indicating a stronger linear relationship between the factor signals and subsequent returns. However, the portfolio-based metrics—specifically the Information Ratio and Annualized Return—show a decline compared to the SOTA. This suggests that while the raw predictive power (IC) has improved, the signal's stability or the tail-end performance used in portfolio construction might be less robust than the previous best implementation.",
        "hypothesis_evaluation": "The hypothesis that price volatility expansion coupled with volume exhaustion signals mean-reversion is supported by the positive IC. The 'Volume_Decoupled_Volatility_Z' (VDV) and 'IRVD_Exhaustion_Factor_10D' provide different mathematical approaches to this divergence. The VDV's use of Z-scores is particularly effective for standardizing 'exhaustion' across different liquidity regimes, but the lower IR suggests the signal might be noisy or highly concentrated in specific market regimes.",
        "decision": false,
        "reason": "The current IRVD factors use simple ratios or Z-scores. However, the core of the hypothesis is 'liquidity fragility.' By specifically targeting days where the 'cost of moving price' (Range/Volume) is exceptionally high (inefficient) while the 'fuel' (Volume) is drying up, we isolate true exhaustion from mere low-activity periods. Using a 20-day window for the volume baseline provides a more stable regime filter than the 5-day window used in IRVD_Exhaustion_Factor_10D, which may reduce the noise reflected in the current lower IR."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_213430",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_213430",
        "factor_dir": "64cd3d1e22524dc0a4cc2e5bb7931092",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_213430/64cd3d1e22524dc0a4cc2e5bb7931092/result.h5"
      }
    },
    "a9909836b758d4b5": {
      "factor_id": "a9909836b758d4b5",
      "factor_name": "Volume_Decoupled_Volatility_Z",
      "factor_expression": "TS_ZSCORE($high - $low, 20) / (TS_ZSCORE($volume, 20) + 2.0)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE($high - $low, 20) / (TS_ZSCORE($volume, 20) + 2.0)\" # Your output factor expression will be filled in here\n    name = \"Volume_Decoupled_Volatility_Z\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor standardizes the intraday range by its historical mean and divides it by the standardized volume. It aims to isolate periods where price volatility is significantly higher than its norm while volume is significantly lower than its norm, indicating a liquidity-driven exhaustion.",
      "factor_formulation": "VDV = \\frac{TS\\_ZSCORE(high - low, 20)}{TS\\_ZSCORE(volume, 20) + 2}",
      "metadata": {
        "experiment_id": "2026-01-18_13-34-30-274463",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "8c1ca601cdea",
        "parent_trajectory_ids": [
          "4eb4899dd9ce"
        ],
        "hypothesis": "Hypothesis: The 'Intraday Range-Volume Divergence' (IRVD) factor predicts a mean-reversion effect by identifying cases where intraday price volatility (High-Low range) expands while relative volume intensity diminishes, signaling a lack of liquidity support for the current price move.\n                Concise Observation: The parent strategy (VVGP) successfully captured trend persistence using volume-price synergy (RankIC 0.0274), but it fails to identify turning points where price momentum becomes decoupled from actual trading activity.\n                Concise Justification: Market microstructure theory suggests that price moves on low volume are 'fragile' and often represent noise or temporary liquidity imbalances; by scaling the intraday range by the volume-weighted price spread, we can isolate exhausted price trends.\n                Concise Knowledge: If price volatility increases while volume remains stagnant or decreases, the price movement is likely driven by liquidity gaps rather than fundamental conviction; when such divergence occurs at intraday extremes, mean-reversion is expected as liquidity providers re-enter the market.\n                concise Specification: The factor is defined as the ratio of the daily (High - Low) range to the 5-day moving average of volume, further adjusted by the negative correlation between price change and volume over a 10-day window to capture exhaustion signatures.\n                ",
        "initial_direction": "Construct a 'Liquidity-Adjusted Volatility' factor by multiplying WVMA5 with the inverse of the bid-ask spread to filter out noise in low-liquidity environments.",
        "planning_direction": "Construct a 'Liquidity-Adjusted Volatility' factor by multiplying WVMA5 with the inverse of the bid-ask spread to filter out noise in low-liquidity environments.",
        "created_at": "2026-01-19T04:31:59.207124"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1350081436785704,
        "ICIR": 0.0470249152604819,
        "1day.excess_return_without_cost.std": 0.0042487272928815,
        "1day.excess_return_with_cost.annualized_return": -0.0095490284838301,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0001582100902101,
        "1day.excess_return_without_cost.annualized_return": 0.0376540014700261,
        "1day.excess_return_with_cost.std": 0.0042496561984101,
        "Rank IC": 0.0265072014814073,
        "IC": 0.0065132094838673,
        "1day.excess_return_without_cost.max_drawdown": -0.0869054645315969,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.5744652993003952,
        "1day.pa": 0.0,
        "l2.valid": 0.9965530330926204,
        "Rank ICIR": 0.1947857502446756,
        "l2.train": 0.9934672007192844,
        "1day.excess_return_with_cost.information_ratio": -0.1456521546811249,
        "1day.excess_return_with_cost.mean": -4.012196841945433e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the 'Intraday Range-Volume Divergence' (IRVD) hypothesis. The current results show a significant improvement in the Information Coefficient (IC) compared to the SOTA (0.0065 vs 0.0057), indicating a stronger linear relationship between the factor signals and subsequent returns. However, the portfolio-based metrics—specifically the Information Ratio and Annualized Return—show a decline compared to the SOTA. This suggests that while the raw predictive power (IC) has improved, the signal's stability or the tail-end performance used in portfolio construction might be less robust than the previous best implementation.",
        "hypothesis_evaluation": "The hypothesis that price volatility expansion coupled with volume exhaustion signals mean-reversion is supported by the positive IC. The 'Volume_Decoupled_Volatility_Z' (VDV) and 'IRVD_Exhaustion_Factor_10D' provide different mathematical approaches to this divergence. The VDV's use of Z-scores is particularly effective for standardizing 'exhaustion' across different liquidity regimes, but the lower IR suggests the signal might be noisy or highly concentrated in specific market regimes.",
        "decision": false,
        "reason": "The current IRVD factors use simple ratios or Z-scores. However, the core of the hypothesis is 'liquidity fragility.' By specifically targeting days where the 'cost of moving price' (Range/Volume) is exceptionally high (inefficient) while the 'fuel' (Volume) is drying up, we isolate true exhaustion from mere low-activity periods. Using a 20-day window for the volume baseline provides a more stable regime filter than the 5-day window used in IRVD_Exhaustion_Factor_10D, which may reduce the noise reflected in the current lower IR."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_213430",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_213430",
        "factor_dir": "3aa27854242145aa981a1788dd95eb09",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_213430/3aa27854242145aa981a1788dd95eb09/result.h5"
      }
    },
    "d9e9ab4334724379": {
      "factor_id": "d9e9ab4334724379",
      "factor_name": "Informed_Accumulation_Efficiency_20D",
      "factor_expression": "(TS_SUM($volume, 20) / (TS_SUM($high - $low, 20) + 1e-8)) * (TS_MEAN($high - $low, 20) / (TS_MEAN($high - $low, 60) + 1e-8))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(TS_SUM($volume, 20) / (TS_SUM($high - $low, 20) + 1e-8)) * (TS_MEAN($high - $low, 20) / (TS_MEAN($high - $low, 60) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Informed_Accumulation_Efficiency_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor identifies stocks where informed participants are accumulating positions by measuring the Volume-Range Efficiency during periods of volatility compression. It calculates the ratio of total volume to the average price range over 20 days, multiplied by a compression ratio (20-day range vs 60-day range) to highlight 'coiling' behavior.",
      "factor_formulation": "IAE_{20D} = \\frac{\\sum_{i=1}^{20} \\text{volume}_i}{\\sum_{i=1}^{20} (\\text{high}_i - \\text{low}_i + 1e-8)} \\times \\frac{\\text{TS_MEAN}(\\text{high} - \\text{low}, 20)}{\\text{TS_MEAN}(\\text{high} - \\text{low}, 60)}",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "01745a3e6565",
        "parent_trajectory_ids": [
          "9e1028a26728"
        ],
        "hypothesis": "Hypothesis: The 'Informed Pre-Trade Clustering' factor, defined as the interaction between volume-price efficiency and volatility compression, identifies stocks where informed participants are accumulating positions during 'quiet' periods prior to a trend breakout.\n                Concise Observation: The parent strategy focused on high-volatility exhaustion and mean-reversion, but market leaders often exhibit 'coiling' behavior where volume remains robust despite narrowing price ranges (low volatility), suggesting a transition from distribution to accumulation.\n                Concise Justification: Informed traders often use periods of low volatility to build positions without moving the price significantly. By measuring the ratio of volume-to-price-range (efficiency) during a 20-day volatility trough, we can capture the 'quiet' accumulation that precedes a momentum breakout, creating a signal orthogonal to mean-reversion.\n                Concise Knowledge: If a stock exhibits high volume efficiency (low price movement per unit of volume) during a period of historical volatility compression, it likely indicates informed accumulation; when volatility expands following this state, the subsequent price movement tends to follow the direction of the preceding volume bias.\n                concise Specification: The factor will be calculated as the product of the 20-day Volume-Range Efficiency (Sum of Volume / (High - Low)) and the Volatility Compression Ratio (20-day High-Low Range / 60-day High-Low Range), specifically targeting the lowest decile of volatility for trend anticipation.\n                ",
        "initial_direction": "Cross-Sectional Residual Ranking: Testing a long-short strategy based on the cross-sectional rank of RESI5 within specific industries to neutralize sector-wide trend biases.",
        "planning_direction": "Cross-Sectional Residual Ranking: Testing a long-short strategy based on the cross-sectional rank of RESI5 within specific industries to neutralize sector-wide trend biases.",
        "created_at": "2026-01-19T13:17:43.292494"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1267906021805487,
        "ICIR": 0.044762754773843,
        "1day.excess_return_without_cost.std": 0.0041689838440549,
        "1day.excess_return_with_cost.annualized_return": 0.0044405929886422,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0002173943125356,
        "1day.excess_return_without_cost.annualized_return": 0.0517398463834825,
        "1day.excess_return_with_cost.std": 0.0041693045957625,
        "Rank IC": 0.0263654281583514,
        "IC": 0.0063011258231478,
        "1day.excess_return_without_cost.max_drawdown": -0.0910150551095565,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.8044636855481204,
        "1day.pa": 0.0,
        "l2.valid": 0.9964889967365096,
        "Rank ICIR": 0.1927729535997888,
        "l2.train": 0.993944199803475,
        "1day.excess_return_with_cost.information_ratio": 0.0690381056098166,
        "1day.excess_return_with_cost.mean": 1.865795373379077e-05
      },
      "feedback": {
        "observations": "The current iteration focused on the 'Informed Pre-Trade Clustering' hypothesis by testing three variations of volume efficiency during volatility compression. The results show a slight improvement in the Information Coefficient (IC) reaching 0.006301, compared to the SOTA's 0.005798. However, the risk-adjusted returns (Information Ratio) and drawdown metrics deteriorated compared to the SOTA. Specifically, the Information Ratio dropped from 0.97 to 0.80, and the Max Drawdown increased from -0.07 to -0.09. This suggests that while the signal's raw predictive power (IC) increased, the consistency and risk profile of the strategy weakened.",
        "hypothesis_evaluation": "The hypothesis that informed participants accumulate during 'quiet' periods is partially supported by the positive IC, indicating a valid signal. However, the 'Quiet_Period_Accumulation_Zscore' and 'Volatility_Trough_Volume_Bias' approaches might be capturing high-frequency noise or mean-reversion tendencies rather than a clean trend breakout signal, leading to higher volatility in the excess returns. The interaction between volume and range compression is a strong concept, but the current linear combinations and Z-score normalizations may be too sensitive to outliers in the 'high-low' denominator.",
        "decision": false,
        "reason": "Current factors use (High - Low) as the denominator, which can be extremely small in illiquid or 'pinned' stocks, leading to explosive factor values. By incorporating a liquidity measure or using the 'Close-to-Close' volatility in conjunction with intraday range, we can filter out false 'quiet' signals. Furthermore, replacing the raw volume with a volume-to-average-volume ratio (Relative Volume) will help normalize the signal across stocks with different liquidity profiles without relying solely on cross-sectional ranking."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_221528",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221528",
        "factor_dir": "b6a200f6e5f64a1a9e5eaa15483e6f28",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221528/b6a200f6e5f64a1a9e5eaa15483e6f28/result.h5"
      }
    },
    "4b2f2b0cc7f2b255": {
      "factor_id": "4b2f2b0cc7f2b255",
      "factor_name": "Volatility_Trough_Volume_Bias_20D",
      "factor_expression": "RANK(TS_MEAN($volume, 20) / (TS_MEAN($high - $low, 20) + 1e-8)) * RANK(TS_MEAN($high - $low, 60) / (TS_MEAN($high - $low, 20) + 1e-8))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN($volume, 20) / (TS_MEAN($high - $low, 20) + 1e-8)) * RANK(TS_MEAN($high - $low, 60) / (TS_MEAN($high - $low, 20) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Volatility_Trough_Volume_Bias_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor targets the lowest decile of volatility to anticipate trend breakouts. It measures the volume efficiency (volume per unit of price movement) specifically when the current 20-day price range is significantly lower than its 60-day historical average, normalized cross-sectionally.",
      "factor_formulation": "VTVB_{20D} = \\text{RANK}\\left(\\frac{\\text{TS_MEAN}(\\text{volume}, 20)}{\\text{TS_MEAN}(\\text{high} - \\text{low}, 20) + 1e-8}\\right) \\times \\text{RANK}\\left(\\frac{\\text{TS_MEAN}(\\text{high} - \\text{low}, 60)}{\\text{TS_MEAN}(\\text{high} - \\text{low}, 20) + 1e-8}\\right)",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "01745a3e6565",
        "parent_trajectory_ids": [
          "9e1028a26728"
        ],
        "hypothesis": "Hypothesis: The 'Informed Pre-Trade Clustering' factor, defined as the interaction between volume-price efficiency and volatility compression, identifies stocks where informed participants are accumulating positions during 'quiet' periods prior to a trend breakout.\n                Concise Observation: The parent strategy focused on high-volatility exhaustion and mean-reversion, but market leaders often exhibit 'coiling' behavior where volume remains robust despite narrowing price ranges (low volatility), suggesting a transition from distribution to accumulation.\n                Concise Justification: Informed traders often use periods of low volatility to build positions without moving the price significantly. By measuring the ratio of volume-to-price-range (efficiency) during a 20-day volatility trough, we can capture the 'quiet' accumulation that precedes a momentum breakout, creating a signal orthogonal to mean-reversion.\n                Concise Knowledge: If a stock exhibits high volume efficiency (low price movement per unit of volume) during a period of historical volatility compression, it likely indicates informed accumulation; when volatility expands following this state, the subsequent price movement tends to follow the direction of the preceding volume bias.\n                concise Specification: The factor will be calculated as the product of the 20-day Volume-Range Efficiency (Sum of Volume / (High - Low)) and the Volatility Compression Ratio (20-day High-Low Range / 60-day High-Low Range), specifically targeting the lowest decile of volatility for trend anticipation.\n                ",
        "initial_direction": "Cross-Sectional Residual Ranking: Testing a long-short strategy based on the cross-sectional rank of RESI5 within specific industries to neutralize sector-wide trend biases.",
        "planning_direction": "Cross-Sectional Residual Ranking: Testing a long-short strategy based on the cross-sectional rank of RESI5 within specific industries to neutralize sector-wide trend biases.",
        "created_at": "2026-01-19T13:17:43.292494"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1267906021805487,
        "ICIR": 0.044762754773843,
        "1day.excess_return_without_cost.std": 0.0041689838440549,
        "1day.excess_return_with_cost.annualized_return": 0.0044405929886422,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0002173943125356,
        "1day.excess_return_without_cost.annualized_return": 0.0517398463834825,
        "1day.excess_return_with_cost.std": 0.0041693045957625,
        "Rank IC": 0.0263654281583514,
        "IC": 0.0063011258231478,
        "1day.excess_return_without_cost.max_drawdown": -0.0910150551095565,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.8044636855481204,
        "1day.pa": 0.0,
        "l2.valid": 0.9964889967365096,
        "Rank ICIR": 0.1927729535997888,
        "l2.train": 0.993944199803475,
        "1day.excess_return_with_cost.information_ratio": 0.0690381056098166,
        "1day.excess_return_with_cost.mean": 1.865795373379077e-05
      },
      "feedback": {
        "observations": "The current iteration focused on the 'Informed Pre-Trade Clustering' hypothesis by testing three variations of volume efficiency during volatility compression. The results show a slight improvement in the Information Coefficient (IC) reaching 0.006301, compared to the SOTA's 0.005798. However, the risk-adjusted returns (Information Ratio) and drawdown metrics deteriorated compared to the SOTA. Specifically, the Information Ratio dropped from 0.97 to 0.80, and the Max Drawdown increased from -0.07 to -0.09. This suggests that while the signal's raw predictive power (IC) increased, the consistency and risk profile of the strategy weakened.",
        "hypothesis_evaluation": "The hypothesis that informed participants accumulate during 'quiet' periods is partially supported by the positive IC, indicating a valid signal. However, the 'Quiet_Period_Accumulation_Zscore' and 'Volatility_Trough_Volume_Bias' approaches might be capturing high-frequency noise or mean-reversion tendencies rather than a clean trend breakout signal, leading to higher volatility in the excess returns. The interaction between volume and range compression is a strong concept, but the current linear combinations and Z-score normalizations may be too sensitive to outliers in the 'high-low' denominator.",
        "decision": false,
        "reason": "Current factors use (High - Low) as the denominator, which can be extremely small in illiquid or 'pinned' stocks, leading to explosive factor values. By incorporating a liquidity measure or using the 'Close-to-Close' volatility in conjunction with intraday range, we can filter out false 'quiet' signals. Furthermore, replacing the raw volume with a volume-to-average-volume ratio (Relative Volume) will help normalize the signal across stocks with different liquidity profiles without relying solely on cross-sectional ranking."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_221528",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221528",
        "factor_dir": "4e68d29deba944e58793b3c517805ac0",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221528/4e68d29deba944e58793b3c517805ac0/result.h5"
      }
    },
    "3936c742c242bcb7": {
      "factor_id": "3936c742c242bcb7",
      "factor_name": "Quiet_Period_Accumulation_Zscore",
      "factor_expression": "TS_ZSCORE($volume / ($high - $low + 1e-8), 20) - TS_ZSCORE($high - $low, 20)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE($volume / (MAX($high - $low, $close * 0.001)), 20) - TS_ZSCORE($high - $low, 20)\" # Your output factor expression will be filled in here\n    name = \"Quiet_Period_Accumulation_Zscore\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "Captures the 'quiet' accumulation phase by identifying high volume-to-volatility ratios during periods where the current volatility is low relative to its own history. It uses TS_ZSCORE to normalize the price range and volume efficiency for better stability.",
      "factor_formulation": "QPAZ = \\text{TS_ZSCORE}\\left(\\frac{\\text{volume}}{\\text{high} - \\text{low} + 1e-8}, 20\\right) - \\text{TS_ZSCORE}(\\text{high} - \\text{low}, 20)",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "01745a3e6565",
        "parent_trajectory_ids": [
          "9e1028a26728"
        ],
        "hypothesis": "Hypothesis: The 'Informed Pre-Trade Clustering' factor, defined as the interaction between volume-price efficiency and volatility compression, identifies stocks where informed participants are accumulating positions during 'quiet' periods prior to a trend breakout.\n                Concise Observation: The parent strategy focused on high-volatility exhaustion and mean-reversion, but market leaders often exhibit 'coiling' behavior where volume remains robust despite narrowing price ranges (low volatility), suggesting a transition from distribution to accumulation.\n                Concise Justification: Informed traders often use periods of low volatility to build positions without moving the price significantly. By measuring the ratio of volume-to-price-range (efficiency) during a 20-day volatility trough, we can capture the 'quiet' accumulation that precedes a momentum breakout, creating a signal orthogonal to mean-reversion.\n                Concise Knowledge: If a stock exhibits high volume efficiency (low price movement per unit of volume) during a period of historical volatility compression, it likely indicates informed accumulation; when volatility expands following this state, the subsequent price movement tends to follow the direction of the preceding volume bias.\n                concise Specification: The factor will be calculated as the product of the 20-day Volume-Range Efficiency (Sum of Volume / (High - Low)) and the Volatility Compression Ratio (20-day High-Low Range / 60-day High-Low Range), specifically targeting the lowest decile of volatility for trend anticipation.\n                ",
        "initial_direction": "Cross-Sectional Residual Ranking: Testing a long-short strategy based on the cross-sectional rank of RESI5 within specific industries to neutralize sector-wide trend biases.",
        "planning_direction": "Cross-Sectional Residual Ranking: Testing a long-short strategy based on the cross-sectional rank of RESI5 within specific industries to neutralize sector-wide trend biases.",
        "created_at": "2026-01-19T13:17:43.292494"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1267906021805487,
        "ICIR": 0.044762754773843,
        "1day.excess_return_without_cost.std": 0.0041689838440549,
        "1day.excess_return_with_cost.annualized_return": 0.0044405929886422,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0002173943125356,
        "1day.excess_return_without_cost.annualized_return": 0.0517398463834825,
        "1day.excess_return_with_cost.std": 0.0041693045957625,
        "Rank IC": 0.0263654281583514,
        "IC": 0.0063011258231478,
        "1day.excess_return_without_cost.max_drawdown": -0.0910150551095565,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.8044636855481204,
        "1day.pa": 0.0,
        "l2.valid": 0.9964889967365096,
        "Rank ICIR": 0.1927729535997888,
        "l2.train": 0.993944199803475,
        "1day.excess_return_with_cost.information_ratio": 0.0690381056098166,
        "1day.excess_return_with_cost.mean": 1.865795373379077e-05
      },
      "feedback": {
        "observations": "The current iteration focused on the 'Informed Pre-Trade Clustering' hypothesis by testing three variations of volume efficiency during volatility compression. The results show a slight improvement in the Information Coefficient (IC) reaching 0.006301, compared to the SOTA's 0.005798. However, the risk-adjusted returns (Information Ratio) and drawdown metrics deteriorated compared to the SOTA. Specifically, the Information Ratio dropped from 0.97 to 0.80, and the Max Drawdown increased from -0.07 to -0.09. This suggests that while the signal's raw predictive power (IC) increased, the consistency and risk profile of the strategy weakened.",
        "hypothesis_evaluation": "The hypothesis that informed participants accumulate during 'quiet' periods is partially supported by the positive IC, indicating a valid signal. However, the 'Quiet_Period_Accumulation_Zscore' and 'Volatility_Trough_Volume_Bias' approaches might be capturing high-frequency noise or mean-reversion tendencies rather than a clean trend breakout signal, leading to higher volatility in the excess returns. The interaction between volume and range compression is a strong concept, but the current linear combinations and Z-score normalizations may be too sensitive to outliers in the 'high-low' denominator.",
        "decision": false,
        "reason": "Current factors use (High - Low) as the denominator, which can be extremely small in illiquid or 'pinned' stocks, leading to explosive factor values. By incorporating a liquidity measure or using the 'Close-to-Close' volatility in conjunction with intraday range, we can filter out false 'quiet' signals. Furthermore, replacing the raw volume with a volume-to-average-volume ratio (Relative Volume) will help normalize the signal across stocks with different liquidity profiles without relying solely on cross-sectional ranking."
      },
      "cache_location": null
    },
    "5487ecf23c571fac": {
      "factor_id": "5487ecf23c571fac",
      "factor_name": "Overnight_Alpha_Diffusion_5D",
      "factor_expression": "TS_MEAN($open / DELAY($close, 1) - MEDIAN($open / DELAY($close, 1)), 5) * (TS_MEAN($volume, 20) / (TS_MEAN($volume, 60) + 1e-8))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN($open / DELAY($close, 1) - MEDIAN($open / DELAY($close, 1)), 5) * (TS_MEAN($volume, 20) / (TS_MEAN($volume, 60) + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"Overnight_Alpha_Diffusion_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor identifies alpha by measuring the residual overnight return of a stock relative to the cross-sectional median, scaled by a volume surge ratio. It captures the lead-lag effect where idiosyncratic stocks underreact to overnight information compared to the broader market, especially when accompanied by abnormal volume.",
      "factor_formulation": "MA(\\frac{open_t}{close_{t-1}} - MEDIAN(\\frac{open_t}{close_{t-1}}), 5) \\times \\frac{TS\\_MEAN(volume, 20)}{TS\\_MEAN(volume, 60)}",
      "metadata": {
        "experiment_id": "2026-01-19_04-13-15-519909",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "3429d76a9a4e",
        "parent_trajectory_ids": [
          "46dfd7f039b9"
        ],
        "hypothesis": "Hypothesis: The 'Overnight-Intraday Momentum Decoupling' factor identifies alpha by measuring the residual return of a stock relative to its cross-sectional sector peers, specifically focusing on the lead-lag effect where overnight price discovery in high-volume leaders precedes responses in laggards.\n                Concise Observation: The parent strategy focused on univariate exhaustion (ROC60 and Price-Volume correlation), but failed to account for cross-sectional lead-lag relationships where market leaders often price in macro shocks overnight before idiosyncratic laggards follow.\n                Concise Justification: Information in quantitative markets often flows from high-liquidity 'anchor' assets to lower-liquidity 'satellite' assets; identifying the spread between a stock's overnight jump and its sector's average jump reveals mispriced sentiment before it is fully absorbed by intraday trading.\n                Concise Knowledge: If a stock's overnight return significantly deviates from its 20-day average relative to its volume-weighted sector peers, it indicates an information diffusion lag; When intraday volatility is low despite high overnight gaps, the market is likely underreacting to new information.\n                concise Specification: The factor is defined as the 5-day moving average of the difference between a stock's overnight return (Close_t/Close_{t-1}) and the cross-sectional median overnight return, scaled by the ratio of its 20-day volume to its 60-day average volume.\n                ",
        "initial_direction": "Volume-price decoupling as a trend exhaustion signal: Analyze whether a negative CORR20 combined with a high ROC60 identifies stocks where price is falling on rising volume, signaling a potential capitulation point.",
        "planning_direction": "Volume-price decoupling as a trend exhaustion signal: Analyze whether a negative CORR20 combined with a high ROC60 identifies stocks where price is falling on rising volume, signaling a potential capitulation point.",
        "created_at": "2026-01-19T18:04:18.361147"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.0837653692714893,
        "ICIR": 0.0557904181245162,
        "1day.excess_return_without_cost.std": 0.0041821653655626,
        "1day.excess_return_with_cost.annualized_return": 0.0225822227820395,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0002942924651932,
        "1day.excess_return_without_cost.annualized_return": 0.0700416067159995,
        "1day.excess_return_with_cost.std": 0.0041819654027495,
        "Rank IC": 0.0263270739713706,
        "IC": 0.0078420254303793,
        "1day.excess_return_without_cost.max_drawdown": -0.0713742974855334,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.0855914653862453,
        "1day.pa": 0.0,
        "l2.valid": 0.9964984405868932,
        "Rank ICIR": 0.1954788207611764,
        "l2.train": 0.9939542255950786,
        "1day.excess_return_with_cost.information_ratio": 0.3500239596381792,
        "1day.excess_return_with_cost.mean": 9.488328900016604e-05
      },
      "feedback": {
        "observations": "The current iteration focused on decoupling overnight and intraday price movements while incorporating volume-based scaling and cross-sectional normalization. The results show a significant improvement across all key performance metrics compared to the previous SOTA. Specifically, the Information Ratio (IR) increased from 0.97 to 1.08, and the Annualized Return rose from 5.2% to 7.0%. The IC also saw a healthy jump to 0.0078. The combination of 'Overnight_Alpha_Diffusion_5D', 'Sector_Relative_Overnight_Gap_ZScore', and 'Intraday_Underreaction_Volume_Weighted' successfully captured the lead-lag effect and information absorption efficiency as theorized.",
        "hypothesis_evaluation": "The results strongly support the hypothesis that 'Overnight-Intraday Momentum Decoupling' identifies alpha. The success of 'Overnight_Alpha_Diffusion_5D' suggests that scaling overnight residuals by volume surges effectively identifies stocks where information discovery is more pronounced. Furthermore, the 'Intraday_Underreaction' factor confirms that the relationship between the overnight gap and subsequent intraday range (volatility) is a potent signal for predicting next-day returns.",
        "decision": true,
        "reason": "While the current factors use volume-weighted ranks and simple moving averages, they don't fully capture the 'quality' of the intraday price action following the overnight jump. By measuring the stability of the price after the open (e.g., via the ratio of the high-low range to the standard deviation of intraday returns), we can distinguish between 'sustained discovery' and 'volatile exhaustion'. This maintains the core decoupling theory while adding a layer of volatility-adjusted persistence."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_221443",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221443",
        "factor_dir": "c14c89ef276b4e2282d850748b95d31c",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221443/c14c89ef276b4e2282d850748b95d31c/result.h5"
      }
    },
    "3d1ac4fc0e206d46": {
      "factor_id": "3d1ac4fc0e206d46",
      "factor_name": "Sector_Relative_Overnight_Gap_ZScore",
      "factor_expression": "TS_MEAN(ZSCORE(($open - DELAY($close, 1)) / (DELAY($close, 1) + 1e-8)), 10)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN(ZSCORE(($open - DELAY($close, 1)) / (DELAY($close, 1) + 1e-8)), 10)\" # Your output factor expression will be filled in here\n    name = \"Sector_Relative_Overnight_Gap_ZScore\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "Measures the standardized deviation of a stock's overnight jump relative to the market median, smoothed over 10 days. This highlights stocks that are significantly outperforming or underperforming the market's overnight price discovery, indicating potential momentum decoupling.",
      "factor_formulation": "TS\\_MEAN(ZSCORE(\\frac{open_t - close_{t-1}}{close_{t-1}}), 10)",
      "metadata": {
        "experiment_id": "2026-01-19_04-13-15-519909",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "3429d76a9a4e",
        "parent_trajectory_ids": [
          "46dfd7f039b9"
        ],
        "hypothesis": "Hypothesis: The 'Overnight-Intraday Momentum Decoupling' factor identifies alpha by measuring the residual return of a stock relative to its cross-sectional sector peers, specifically focusing on the lead-lag effect where overnight price discovery in high-volume leaders precedes responses in laggards.\n                Concise Observation: The parent strategy focused on univariate exhaustion (ROC60 and Price-Volume correlation), but failed to account for cross-sectional lead-lag relationships where market leaders often price in macro shocks overnight before idiosyncratic laggards follow.\n                Concise Justification: Information in quantitative markets often flows from high-liquidity 'anchor' assets to lower-liquidity 'satellite' assets; identifying the spread between a stock's overnight jump and its sector's average jump reveals mispriced sentiment before it is fully absorbed by intraday trading.\n                Concise Knowledge: If a stock's overnight return significantly deviates from its 20-day average relative to its volume-weighted sector peers, it indicates an information diffusion lag; When intraday volatility is low despite high overnight gaps, the market is likely underreacting to new information.\n                concise Specification: The factor is defined as the 5-day moving average of the difference between a stock's overnight return (Close_t/Close_{t-1}) and the cross-sectional median overnight return, scaled by the ratio of its 20-day volume to its 60-day average volume.\n                ",
        "initial_direction": "Volume-price decoupling as a trend exhaustion signal: Analyze whether a negative CORR20 combined with a high ROC60 identifies stocks where price is falling on rising volume, signaling a potential capitulation point.",
        "planning_direction": "Volume-price decoupling as a trend exhaustion signal: Analyze whether a negative CORR20 combined with a high ROC60 identifies stocks where price is falling on rising volume, signaling a potential capitulation point.",
        "created_at": "2026-01-19T18:04:18.361147"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.0837653692714893,
        "ICIR": 0.0557904181245162,
        "1day.excess_return_without_cost.std": 0.0041821653655626,
        "1day.excess_return_with_cost.annualized_return": 0.0225822227820395,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0002942924651932,
        "1day.excess_return_without_cost.annualized_return": 0.0700416067159995,
        "1day.excess_return_with_cost.std": 0.0041819654027495,
        "Rank IC": 0.0263270739713706,
        "IC": 0.0078420254303793,
        "1day.excess_return_without_cost.max_drawdown": -0.0713742974855334,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.0855914653862453,
        "1day.pa": 0.0,
        "l2.valid": 0.9964984405868932,
        "Rank ICIR": 0.1954788207611764,
        "l2.train": 0.9939542255950786,
        "1day.excess_return_with_cost.information_ratio": 0.3500239596381792,
        "1day.excess_return_with_cost.mean": 9.488328900016604e-05
      },
      "feedback": {
        "observations": "The current iteration focused on decoupling overnight and intraday price movements while incorporating volume-based scaling and cross-sectional normalization. The results show a significant improvement across all key performance metrics compared to the previous SOTA. Specifically, the Information Ratio (IR) increased from 0.97 to 1.08, and the Annualized Return rose from 5.2% to 7.0%. The IC also saw a healthy jump to 0.0078. The combination of 'Overnight_Alpha_Diffusion_5D', 'Sector_Relative_Overnight_Gap_ZScore', and 'Intraday_Underreaction_Volume_Weighted' successfully captured the lead-lag effect and information absorption efficiency as theorized.",
        "hypothesis_evaluation": "The results strongly support the hypothesis that 'Overnight-Intraday Momentum Decoupling' identifies alpha. The success of 'Overnight_Alpha_Diffusion_5D' suggests that scaling overnight residuals by volume surges effectively identifies stocks where information discovery is more pronounced. Furthermore, the 'Intraday_Underreaction' factor confirms that the relationship between the overnight gap and subsequent intraday range (volatility) is a potent signal for predicting next-day returns.",
        "decision": true,
        "reason": "While the current factors use volume-weighted ranks and simple moving averages, they don't fully capture the 'quality' of the intraday price action following the overnight jump. By measuring the stability of the price after the open (e.g., via the ratio of the high-low range to the standard deviation of intraday returns), we can distinguish between 'sustained discovery' and 'volatile exhaustion'. This maintains the core decoupling theory while adding a layer of volatility-adjusted persistence."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_221443",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221443",
        "factor_dir": "3565346a566e44a38bec1b87fb4001d2",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221443/3565346a566e44a38bec1b87fb4001d2/result.h5"
      }
    },
    "32e1f4e1673b4b0e": {
      "factor_id": "32e1f4e1673b4b0e",
      "factor_name": "Intraday_Underreaction_Volume_Weighted",
      "factor_expression": "(ABS($open / DELAY($close, 1) - 1) / (($high - $low) / ($close + 1e-8) + 1e-8)) * TS_RANK($volume, 20)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(ABS($open / DELAY($close, 1) - 1) / (($high - $low) / ($close + 1e-8) + 1e-8)) * TS_RANK($volume, 20)\" # Your output factor expression will be filled in here\n    name = \"Intraday_Underreaction_Volume_Weighted\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "Identifies potential underreactions by comparing the overnight return to the intraday range, weighted by the 20-day volume rank. High overnight gaps with low intraday volatility relative to volume suggest that information is still being absorbed.",
      "factor_formulation": "\\frac{ABS(open_t / close_{t-1} - 1)}{(high_t - low_t) / close_t + 1e-8} \\times TS\\_RANK(volume, 20)",
      "metadata": {
        "experiment_id": "2026-01-19_04-13-15-519909",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "3429d76a9a4e",
        "parent_trajectory_ids": [
          "46dfd7f039b9"
        ],
        "hypothesis": "Hypothesis: The 'Overnight-Intraday Momentum Decoupling' factor identifies alpha by measuring the residual return of a stock relative to its cross-sectional sector peers, specifically focusing on the lead-lag effect where overnight price discovery in high-volume leaders precedes responses in laggards.\n                Concise Observation: The parent strategy focused on univariate exhaustion (ROC60 and Price-Volume correlation), but failed to account for cross-sectional lead-lag relationships where market leaders often price in macro shocks overnight before idiosyncratic laggards follow.\n                Concise Justification: Information in quantitative markets often flows from high-liquidity 'anchor' assets to lower-liquidity 'satellite' assets; identifying the spread between a stock's overnight jump and its sector's average jump reveals mispriced sentiment before it is fully absorbed by intraday trading.\n                Concise Knowledge: If a stock's overnight return significantly deviates from its 20-day average relative to its volume-weighted sector peers, it indicates an information diffusion lag; When intraday volatility is low despite high overnight gaps, the market is likely underreacting to new information.\n                concise Specification: The factor is defined as the 5-day moving average of the difference between a stock's overnight return (Close_t/Close_{t-1}) and the cross-sectional median overnight return, scaled by the ratio of its 20-day volume to its 60-day average volume.\n                ",
        "initial_direction": "Volume-price decoupling as a trend exhaustion signal: Analyze whether a negative CORR20 combined with a high ROC60 identifies stocks where price is falling on rising volume, signaling a potential capitulation point.",
        "planning_direction": "Volume-price decoupling as a trend exhaustion signal: Analyze whether a negative CORR20 combined with a high ROC60 identifies stocks where price is falling on rising volume, signaling a potential capitulation point.",
        "created_at": "2026-01-19T18:04:18.361147"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.0837653692714893,
        "ICIR": 0.0557904181245162,
        "1day.excess_return_without_cost.std": 0.0041821653655626,
        "1day.excess_return_with_cost.annualized_return": 0.0225822227820395,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0002942924651932,
        "1day.excess_return_without_cost.annualized_return": 0.0700416067159995,
        "1day.excess_return_with_cost.std": 0.0041819654027495,
        "Rank IC": 0.0263270739713706,
        "IC": 0.0078420254303793,
        "1day.excess_return_without_cost.max_drawdown": -0.0713742974855334,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.0855914653862453,
        "1day.pa": 0.0,
        "l2.valid": 0.9964984405868932,
        "Rank ICIR": 0.1954788207611764,
        "l2.train": 0.9939542255950786,
        "1day.excess_return_with_cost.information_ratio": 0.3500239596381792,
        "1day.excess_return_with_cost.mean": 9.488328900016604e-05
      },
      "feedback": {
        "observations": "The current iteration focused on decoupling overnight and intraday price movements while incorporating volume-based scaling and cross-sectional normalization. The results show a significant improvement across all key performance metrics compared to the previous SOTA. Specifically, the Information Ratio (IR) increased from 0.97 to 1.08, and the Annualized Return rose from 5.2% to 7.0%. The IC also saw a healthy jump to 0.0078. The combination of 'Overnight_Alpha_Diffusion_5D', 'Sector_Relative_Overnight_Gap_ZScore', and 'Intraday_Underreaction_Volume_Weighted' successfully captured the lead-lag effect and information absorption efficiency as theorized.",
        "hypothesis_evaluation": "The results strongly support the hypothesis that 'Overnight-Intraday Momentum Decoupling' identifies alpha. The success of 'Overnight_Alpha_Diffusion_5D' suggests that scaling overnight residuals by volume surges effectively identifies stocks where information discovery is more pronounced. Furthermore, the 'Intraday_Underreaction' factor confirms that the relationship between the overnight gap and subsequent intraday range (volatility) is a potent signal for predicting next-day returns.",
        "decision": true,
        "reason": "While the current factors use volume-weighted ranks and simple moving averages, they don't fully capture the 'quality' of the intraday price action following the overnight jump. By measuring the stability of the price after the open (e.g., via the ratio of the high-low range to the standard deviation of intraday returns), we can distinguish between 'sustained discovery' and 'volatile exhaustion'. This maintains the core decoupling theory while adding a layer of volatility-adjusted persistence."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_221443",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221443",
        "factor_dir": "f8b4dae7200b41ad8413834b3074d8ee",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221443/f8b4dae7200b41ad8413834b3074d8ee/result.h5"
      }
    },
    "67d6e18ffaac1ec6": {
      "factor_id": "67d6e18ffaac1ec6",
      "factor_name": "IFI_Fragility_10D_20D",
      "factor_expression": "TS_MEAN(($high - $low) / ($volume + 1e-8), 10) / (TS_STD($return, 20) + 1e-8)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN(($high - $low) / ($volume + 1e-8), 10) / (TS_STD(TS_PCTCHANGE($close, 1), 20) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"IFI_Fragility_10D_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "The Intraday Fragility Index (IFI) identifies potential mean-reversion by detecting price-range expansion on declining volume density. A high ratio of (High-Low) to Volume suggests liquidity exhaustion where small trades move prices significantly. This is normalized by the 20-day return volatility to adjust for baseline asset risk.",
      "factor_formulation": "\\text{IFI} = \\frac{\\text{TS_MEAN}((\\text{high} - \\text{low}) / (\\text{volume} + 1e-8), 10)}{\\text{TS_STD}(\\text{return}, 20) + 1e-8}",
      "metadata": {
        "experiment_id": "2026-01-18_13-34-30-274463",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "5b0f7d5c74b4",
        "parent_trajectory_ids": [
          "85179b636251"
        ],
        "hypothesis": "Hypothesis: The 'Intraday Fragility Index' (IFI) identifies mean-reversion opportunities by detecting price-range expansion on declining volume density, where a high High-Low range relative to volume indicates liquidity exhaustion and imminent price reversal.\n                Concise Observation: The parent strategy focused on volume-confirmed breakouts (positive synergy), but market data often shows extreme price extensions on thinning volume that lead to sharp reversals, a phenomenon captured by the ratio of intraday range to volume.\n                Concise Justification: High price impact per unit of volume (Range/Volume) suggests a lack of depth in the limit order book, meaning small aggressive trades are moving the price disproportionately, creating a fragile structure that lacks the 'absorption' characteristic of sustainable trends.\n                Concise Knowledge: If price volatility (High-Low range) increases while volume density decreases, the price move is likely driven by liquidity gaps rather than institutional conviction; when such 'hollow' moves occur, the asset is prone to mean-reversion as market makers re-establish equilibrium.\n                concise Specification: The factor is defined as the 10-day average of the ratio between the daily (High - Low) range and the daily Volume, normalized by the 20-day standard deviation of returns to adjust for baseline volatility, targeting a negative correlation with subsequent 5-day returns.\n                ",
        "initial_direction": "Test the hypothesis that high RSQR10 combined with low KLEN indicates a 'quiet accumulation' phase, leading to higher risk-adjusted returns in the subsequent 5-day window.",
        "planning_direction": "Test the hypothesis that high RSQR10 combined with low KLEN indicates a 'quiet accumulation' phase, leading to higher risk-adjusted returns in the subsequent 5-day window.",
        "created_at": "2026-01-19T04:25:44.974717"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1492264792686197,
        "ICIR": 0.0444242242971554,
        "1day.excess_return_without_cost.std": 0.0041990134504689,
        "1day.excess_return_with_cost.annualized_return": -0.0272631027414121,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 8.412077236716507e-05,
        "1day.excess_return_without_cost.annualized_return": 0.0200207438233852,
        "1day.excess_return_with_cost.std": 0.0042001278702093,
        "Rank IC": 0.0262045985523569,
        "IC": 0.0061539254908711,
        "1day.excess_return_without_cost.max_drawdown": -0.0766272033444211,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.3090611841968024,
        "1day.pa": 0.0,
        "l2.valid": 0.9965727596904992,
        "Rank ICIR": 0.1907084221067227,
        "l2.train": 0.9939863429149266,
        "1day.excess_return_with_cost.information_ratio": -0.4207501594871117,
        "1day.excess_return_with_cost.mean": -0.0001145508518546
      },
      "feedback": {
        "observations": "The experiment tested the 'Intraday Fragility Index' (IFI) framework using three variations: a volatility-normalized version, a cross-sectional rank version, and a time-series Z-score version. The results show a slight improvement in the Information Coefficient (IC) compared to the SOTA (0.006154 vs 0.005798), indicating better predictive power at the individual stock level. However, the portfolio-level metrics (Annualized Return and Information Ratio) significantly underperform the SOTA, suggesting that while the signal is present, the current implementations (specifically the 10-15 day windows) might be capturing noise or lagging the actual mean-reversion turning points.",
        "hypothesis_evaluation": "The hypothesis that price-range expansion on declining volume density identifies mean-reversion is partially supported by the positive IC. However, the poor annualized return suggests that the 'fragility' signal as currently formulated may be too slow or needs better interaction with price direction. The Z-score and Rank approaches successfully capture the 'hollow' price moves, but the normalization by 20-day volatility in the first factor might be introducing a look-back bias or smoothing out the very spikes we intend to trade.",
        "decision": false,
        "reason": "The current factors measure fragility in isolation. However, a 'hollow' price move is only a mean-reversion signal if the price has already moved significantly. By combining the IFI with a 'Relative Price Position' (where the current close sits relative to the N-day High/Low), we can filter for cases where liquidity is exhausting at the end of a trend, rather than during a breakout. Additionally, shortening the window from 10 days to 3-5 days may capture the 'imminent' nature of liquidity exhaustion more effectively."
      },
      "cache_location": null
    },
    "84df137807271d8d": {
      "factor_id": "84df137807271d8d",
      "factor_name": "Ranked_Liquidity_Exhaustion_10D",
      "factor_expression": "RANK(TS_MEAN(($high - $low) / ($volume + 1e-8), 10))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN(($high - $low) / ($volume + 1e-8), 10))\" # Your output factor expression will be filled in here\n    name = \"Ranked_Liquidity_Exhaustion_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor measures the cross-sectional rank of the range-to-volume ratio smoothed over 10 days. It targets stocks where the intraday price movement is disproportionately large compared to the volume traded, indicating a 'hollow' price move likely to reverse.",
      "factor_formulation": "\\text{RLE} = \\text{RANK}(\\text{TS_MEAN}((\\text{high} - \\text{low}) / (\\text{volume} + 1e-8), 10))",
      "metadata": {
        "experiment_id": "2026-01-18_13-34-30-274463",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "5b0f7d5c74b4",
        "parent_trajectory_ids": [
          "85179b636251"
        ],
        "hypothesis": "Hypothesis: The 'Intraday Fragility Index' (IFI) identifies mean-reversion opportunities by detecting price-range expansion on declining volume density, where a high High-Low range relative to volume indicates liquidity exhaustion and imminent price reversal.\n                Concise Observation: The parent strategy focused on volume-confirmed breakouts (positive synergy), but market data often shows extreme price extensions on thinning volume that lead to sharp reversals, a phenomenon captured by the ratio of intraday range to volume.\n                Concise Justification: High price impact per unit of volume (Range/Volume) suggests a lack of depth in the limit order book, meaning small aggressive trades are moving the price disproportionately, creating a fragile structure that lacks the 'absorption' characteristic of sustainable trends.\n                Concise Knowledge: If price volatility (High-Low range) increases while volume density decreases, the price move is likely driven by liquidity gaps rather than institutional conviction; when such 'hollow' moves occur, the asset is prone to mean-reversion as market makers re-establish equilibrium.\n                concise Specification: The factor is defined as the 10-day average of the ratio between the daily (High - Low) range and the daily Volume, normalized by the 20-day standard deviation of returns to adjust for baseline volatility, targeting a negative correlation with subsequent 5-day returns.\n                ",
        "initial_direction": "Test the hypothesis that high RSQR10 combined with low KLEN indicates a 'quiet accumulation' phase, leading to higher risk-adjusted returns in the subsequent 5-day window.",
        "planning_direction": "Test the hypothesis that high RSQR10 combined with low KLEN indicates a 'quiet accumulation' phase, leading to higher risk-adjusted returns in the subsequent 5-day window.",
        "created_at": "2026-01-19T04:25:44.974717"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1492264792686197,
        "ICIR": 0.0444242242971554,
        "1day.excess_return_without_cost.std": 0.0041990134504689,
        "1day.excess_return_with_cost.annualized_return": -0.0272631027414121,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 8.412077236716507e-05,
        "1day.excess_return_without_cost.annualized_return": 0.0200207438233852,
        "1day.excess_return_with_cost.std": 0.0042001278702093,
        "Rank IC": 0.0262045985523569,
        "IC": 0.0061539254908711,
        "1day.excess_return_without_cost.max_drawdown": -0.0766272033444211,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.3090611841968024,
        "1day.pa": 0.0,
        "l2.valid": 0.9965727596904992,
        "Rank ICIR": 0.1907084221067227,
        "l2.train": 0.9939863429149266,
        "1day.excess_return_with_cost.information_ratio": -0.4207501594871117,
        "1day.excess_return_with_cost.mean": -0.0001145508518546
      },
      "feedback": {
        "observations": "The experiment tested the 'Intraday Fragility Index' (IFI) framework using three variations: a volatility-normalized version, a cross-sectional rank version, and a time-series Z-score version. The results show a slight improvement in the Information Coefficient (IC) compared to the SOTA (0.006154 vs 0.005798), indicating better predictive power at the individual stock level. However, the portfolio-level metrics (Annualized Return and Information Ratio) significantly underperform the SOTA, suggesting that while the signal is present, the current implementations (specifically the 10-15 day windows) might be capturing noise or lagging the actual mean-reversion turning points.",
        "hypothesis_evaluation": "The hypothesis that price-range expansion on declining volume density identifies mean-reversion is partially supported by the positive IC. However, the poor annualized return suggests that the 'fragility' signal as currently formulated may be too slow or needs better interaction with price direction. The Z-score and Rank approaches successfully capture the 'hollow' price moves, but the normalization by 20-day volatility in the first factor might be introducing a look-back bias or smoothing out the very spikes we intend to trade.",
        "decision": false,
        "reason": "The current factors measure fragility in isolation. However, a 'hollow' price move is only a mean-reversion signal if the price has already moved significantly. By combining the IFI with a 'Relative Price Position' (where the current close sits relative to the N-day High/Low), we can filter for cases where liquidity is exhausting at the end of a trend, rather than during a breakout. Additionally, shortening the window from 10 days to 3-5 days may capture the 'imminent' nature of liquidity exhaustion more effectively."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_213430",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_213430",
        "factor_dir": "c6c27881aefe4fc39b1f57d2d8dbdc78",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_213430/c6c27881aefe4fc39b1f57d2d8dbdc78/result.h5"
      }
    },
    "cdd7063180802512": {
      "factor_id": "cdd7063180802512",
      "factor_name": "ZScore_Fragility_Momentum_15D",
      "factor_expression": "TS_ZSCORE(($high - $low) / ($volume + 1e-8), 15)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE(($high - $low) / ($volume + 1e-8), 15)\" # Your output factor expression will be filled in here\n    name = \"ZScore_Fragility_Momentum_15D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "Detects the acceleration of price fragility by calculating the time-series Z-score of the range-to-volume ratio. High values indicate that the current price impact per unit of volume is significantly higher than its historical average, signaling imminent mean-reversion.",
      "factor_formulation": "\\text{ZFM} = \\text{TS_ZSCORE}((\\text{high} - \\text{low}) / (\\text{volume} + 1e-8), 15)",
      "metadata": {
        "experiment_id": "2026-01-18_13-34-30-274463",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "5b0f7d5c74b4",
        "parent_trajectory_ids": [
          "85179b636251"
        ],
        "hypothesis": "Hypothesis: The 'Intraday Fragility Index' (IFI) identifies mean-reversion opportunities by detecting price-range expansion on declining volume density, where a high High-Low range relative to volume indicates liquidity exhaustion and imminent price reversal.\n                Concise Observation: The parent strategy focused on volume-confirmed breakouts (positive synergy), but market data often shows extreme price extensions on thinning volume that lead to sharp reversals, a phenomenon captured by the ratio of intraday range to volume.\n                Concise Justification: High price impact per unit of volume (Range/Volume) suggests a lack of depth in the limit order book, meaning small aggressive trades are moving the price disproportionately, creating a fragile structure that lacks the 'absorption' characteristic of sustainable trends.\n                Concise Knowledge: If price volatility (High-Low range) increases while volume density decreases, the price move is likely driven by liquidity gaps rather than institutional conviction; when such 'hollow' moves occur, the asset is prone to mean-reversion as market makers re-establish equilibrium.\n                concise Specification: The factor is defined as the 10-day average of the ratio between the daily (High - Low) range and the daily Volume, normalized by the 20-day standard deviation of returns to adjust for baseline volatility, targeting a negative correlation with subsequent 5-day returns.\n                ",
        "initial_direction": "Test the hypothesis that high RSQR10 combined with low KLEN indicates a 'quiet accumulation' phase, leading to higher risk-adjusted returns in the subsequent 5-day window.",
        "planning_direction": "Test the hypothesis that high RSQR10 combined with low KLEN indicates a 'quiet accumulation' phase, leading to higher risk-adjusted returns in the subsequent 5-day window.",
        "created_at": "2026-01-19T04:25:44.974717"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1492264792686197,
        "ICIR": 0.0444242242971554,
        "1day.excess_return_without_cost.std": 0.0041990134504689,
        "1day.excess_return_with_cost.annualized_return": -0.0272631027414121,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 8.412077236716507e-05,
        "1day.excess_return_without_cost.annualized_return": 0.0200207438233852,
        "1day.excess_return_with_cost.std": 0.0042001278702093,
        "Rank IC": 0.0262045985523569,
        "IC": 0.0061539254908711,
        "1day.excess_return_without_cost.max_drawdown": -0.0766272033444211,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.3090611841968024,
        "1day.pa": 0.0,
        "l2.valid": 0.9965727596904992,
        "Rank ICIR": 0.1907084221067227,
        "l2.train": 0.9939863429149266,
        "1day.excess_return_with_cost.information_ratio": -0.4207501594871117,
        "1day.excess_return_with_cost.mean": -0.0001145508518546
      },
      "feedback": {
        "observations": "The experiment tested the 'Intraday Fragility Index' (IFI) framework using three variations: a volatility-normalized version, a cross-sectional rank version, and a time-series Z-score version. The results show a slight improvement in the Information Coefficient (IC) compared to the SOTA (0.006154 vs 0.005798), indicating better predictive power at the individual stock level. However, the portfolio-level metrics (Annualized Return and Information Ratio) significantly underperform the SOTA, suggesting that while the signal is present, the current implementations (specifically the 10-15 day windows) might be capturing noise or lagging the actual mean-reversion turning points.",
        "hypothesis_evaluation": "The hypothesis that price-range expansion on declining volume density identifies mean-reversion is partially supported by the positive IC. However, the poor annualized return suggests that the 'fragility' signal as currently formulated may be too slow or needs better interaction with price direction. The Z-score and Rank approaches successfully capture the 'hollow' price moves, but the normalization by 20-day volatility in the first factor might be introducing a look-back bias or smoothing out the very spikes we intend to trade.",
        "decision": false,
        "reason": "The current factors measure fragility in isolation. However, a 'hollow' price move is only a mean-reversion signal if the price has already moved significantly. By combining the IFI with a 'Relative Price Position' (where the current close sits relative to the N-day High/Low), we can filter for cases where liquidity is exhausting at the end of a trend, rather than during a breakout. Additionally, shortening the window from 10 days to 3-5 days may capture the 'imminent' nature of liquidity exhaustion more effectively."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_213430",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_213430",
        "factor_dir": "cd31b61f31f6451fb46916106623f292",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_213430/cd31b61f31f6451fb46916106623f292/result.h5"
      }
    },
    "c8d0fa07dbbc8966": {
      "factor_id": "c8d0fa07dbbc8966",
      "factor_name": "IAD_Accumulation_Ratio_5D",
      "factor_expression": "TS_MEAN(ABS($open - DELAY($close, 1)) / (TS_MEAN($high - $low, 5) + 1e-8), 5) * (TS_MEAN($volume, 10) / ($volume + 1e-8))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_MEAN(ABS($open - DELAY($close, 1)) / (TS_MEAN($high - $low, 5) + 1e-8), 5) * (TS_MEAN($volume, 10) / ($volume + 1e-8))\" # Your output factor expression will be filled in here\n    name = \"IAD_Accumulation_Ratio_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor identifies early-stage accumulation by calculating the ratio of the absolute overnight gap to the average intraday range, scaled by the inverse of the volume trend. High values suggest that price discovery is happening overnight while intraday volatility and volume remain suppressed, indicating informed absorption.",
      "factor_formulation": "IAD = \\text{TS_MEAN}\\left(\\frac{\\text{ABS}(\\text{open}_t - \\text{close}_{t-1})}{\\text{TS_MEAN}(\\text{high}_t - \\text{low}_t, 5) + 1e-8}, 5\\right) \\times \\frac{\\text{TS_MEAN}(\\text{volume}, 10)}{\\text{volume} + 1e-8}",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "8fc166e23723",
        "parent_trajectory_ids": [
          "3f76a5dc4775"
        ],
        "hypothesis": "Hypothesis: The Information Asymmetry Decay (IAD) factor identifies early-stage accumulation by detecting periods where positive overnight returns coincide with shrinking intraday ranges and below-median volume, suggesting informed buyers are absorbing supply without triggering public momentum.\n                Concise Observation: Parent strategies focus on high-volatility breakouts and liquidity density, often missing the 'quiet' phase where price discovery happens through overnight gaps rather than intraday volume surges.\n                Concise Justification: Informed traders often utilize overnight periods to avoid intraday slippage, and a compression in the intraday high-low range relative to the overnight gap suggests a lack of aggressive selling pressure.\n                Concise Knowledge: If overnight returns are positive while intraday volatility and volume are declining, it indicates a transition from public distribution to quiet accumulation; when price gaps up but stays stable on low volume, informed participants are likely controlling the price floor.\n                concise Specification: The factor is defined as the 5-day average of the ratio between the absolute overnight return (Close_t-1 to Open_t) and the 5-day moving average of the intraday range (High_t - Low_t), scaled by the inverse of the 10-day volume trend.\n                ",
        "initial_direction": "Intraday Support Persistence: Analyzing the decay rate of KLOW over a 3-day window to determine if diminishing lower shadows signal an imminent breakdown of price support.",
        "planning_direction": "Intraday Support Persistence: Analyzing the decay rate of KLOW over a 3-day window to determine if diminishing lower shadows signal an imminent breakdown of price support.",
        "created_at": "2026-01-19T12:41:32.454033"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1737767541520777,
        "ICIR": 0.0620103443581923,
        "1day.excess_return_without_cost.std": 0.004385991256182,
        "1day.excess_return_with_cost.annualized_return": 0.0027028114366958,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.000210398941179,
        "1day.excess_return_without_cost.annualized_return": 0.0500749480006237,
        "1day.excess_return_with_cost.std": 0.0043862188844923,
        "Rank IC": 0.0257057188134777,
        "IC": 0.0083528459143655,
        "1day.excess_return_without_cost.max_drawdown": -0.1084414340860757,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.7400554596394844,
        "1day.pa": 0.0,
        "l2.valid": 0.9965702673056454,
        "Rank ICIR": 0.2003359277839442,
        "l2.train": 0.9940205033223658,
        "1day.excess_return_with_cost.information_ratio": 0.0399426586648422,
        "1day.excess_return_with_cost.mean": 1.1356350574352308e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the Information Asymmetry Decay (IAD) hypothesis. The results show a significant improvement in the Information Coefficient (IC), which rose to 0.008353 compared to the SOTA's 0.005798. This indicates that the core logic—identifying informed accumulation through the relationship between overnight gaps and intraday ranges—has strong predictive power. However, while the IC improved, the Information Ratio (IR) and Max Drawdown (MDD) deteriorated compared to the SOTA. This suggests that while the signal is more accurate on average, it may be more volatile or prone to specific market regime risks, leading to a lower risk-adjusted return (IR of 0.74 vs 0.97).",
        "hypothesis_evaluation": "The hypothesis is partially supported. The high IC suggests that the 'Information Asymmetry' captured by overnight gaps vs. intraday ranges is a valid predictor of future returns. The 'Quiet' part of the hypothesis (low volume/low intraday range) appears to filter for quality, but the current implementations (especially the division by volume Z-score or scaling by volume trend) might be introducing instability. The 'Overnight_Dominance_Index' and 'IAD_Accumulation_Ratio' successfully capture the signal, but the risk-adjusted metrics suggest the 'accumulation' signal might be getting mixed with simple 'gap-and-go' momentum which has higher drawdown.",
        "decision": false,
        "reason": "The current factors use volume as a simple divisor or rank, which can be noisy. By using the 'True Range' (Max(High, PrevClose) - Min(Low, PrevClose)) as a denominator, we can better normalize the overnight move within the context of total daily volatility. Furthermore, replacing the raw volume ratio with a 'Volume Stability' measure (e.g., inverse of Volume Coefficient of Variation) will better isolate 'quiet' accumulation from 'dead' stocks or high-volatility spikes, potentially improving the Information Ratio and reducing Drawdown."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_221528",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221528",
        "factor_dir": "9833a71082244b53a100172c746b89e3",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221528/9833a71082244b53a100172c746b89e3/result.h5"
      }
    },
    "20ab80a33f16f6fc": {
      "factor_id": "20ab80a33f16f6fc",
      "factor_name": "Quiet_Accumulation_ZScore_10D",
      "factor_expression": "RANK($open - DELAY($close, 1)) - RANK($high - $low) - RANK(TS_MEAN($volume, 10))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK($open - DELAY($close, 1)) - RANK($high - $low) - RANK(TS_MEAN($volume, 10))\" # Your output factor expression will be filled in here\n    name = \"Quiet_Accumulation_ZScore_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "A simplified version of the Information Asymmetry Decay hypothesis focusing on the cross-sectional rank of overnight returns relative to intraday volatility. It targets stocks where the overnight move is significant but the intraday range is tightening, normalized by volume intensity.",
      "factor_formulation": "QAZ = \\text{RANK}(\\text{open} - \\text{DELAY}(\\text{close}, 1)) - \\text{RANK}(\\text{high} - \\text{low}) - \\text{RANK}(\\text{TS_MEAN}(\\text{volume}, 10))",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "8fc166e23723",
        "parent_trajectory_ids": [
          "3f76a5dc4775"
        ],
        "hypothesis": "Hypothesis: The Information Asymmetry Decay (IAD) factor identifies early-stage accumulation by detecting periods where positive overnight returns coincide with shrinking intraday ranges and below-median volume, suggesting informed buyers are absorbing supply without triggering public momentum.\n                Concise Observation: Parent strategies focus on high-volatility breakouts and liquidity density, often missing the 'quiet' phase where price discovery happens through overnight gaps rather than intraday volume surges.\n                Concise Justification: Informed traders often utilize overnight periods to avoid intraday slippage, and a compression in the intraday high-low range relative to the overnight gap suggests a lack of aggressive selling pressure.\n                Concise Knowledge: If overnight returns are positive while intraday volatility and volume are declining, it indicates a transition from public distribution to quiet accumulation; when price gaps up but stays stable on low volume, informed participants are likely controlling the price floor.\n                concise Specification: The factor is defined as the 5-day average of the ratio between the absolute overnight return (Close_t-1 to Open_t) and the 5-day moving average of the intraday range (High_t - Low_t), scaled by the inverse of the 10-day volume trend.\n                ",
        "initial_direction": "Intraday Support Persistence: Analyzing the decay rate of KLOW over a 3-day window to determine if diminishing lower shadows signal an imminent breakdown of price support.",
        "planning_direction": "Intraday Support Persistence: Analyzing the decay rate of KLOW over a 3-day window to determine if diminishing lower shadows signal an imminent breakdown of price support.",
        "created_at": "2026-01-19T12:41:32.454033"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1737767541520777,
        "ICIR": 0.0620103443581923,
        "1day.excess_return_without_cost.std": 0.004385991256182,
        "1day.excess_return_with_cost.annualized_return": 0.0027028114366958,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.000210398941179,
        "1day.excess_return_without_cost.annualized_return": 0.0500749480006237,
        "1day.excess_return_with_cost.std": 0.0043862188844923,
        "Rank IC": 0.0257057188134777,
        "IC": 0.0083528459143655,
        "1day.excess_return_without_cost.max_drawdown": -0.1084414340860757,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.7400554596394844,
        "1day.pa": 0.0,
        "l2.valid": 0.9965702673056454,
        "Rank ICIR": 0.2003359277839442,
        "l2.train": 0.9940205033223658,
        "1day.excess_return_with_cost.information_ratio": 0.0399426586648422,
        "1day.excess_return_with_cost.mean": 1.1356350574352308e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the Information Asymmetry Decay (IAD) hypothesis. The results show a significant improvement in the Information Coefficient (IC), which rose to 0.008353 compared to the SOTA's 0.005798. This indicates that the core logic—identifying informed accumulation through the relationship between overnight gaps and intraday ranges—has strong predictive power. However, while the IC improved, the Information Ratio (IR) and Max Drawdown (MDD) deteriorated compared to the SOTA. This suggests that while the signal is more accurate on average, it may be more volatile or prone to specific market regime risks, leading to a lower risk-adjusted return (IR of 0.74 vs 0.97).",
        "hypothesis_evaluation": "The hypothesis is partially supported. The high IC suggests that the 'Information Asymmetry' captured by overnight gaps vs. intraday ranges is a valid predictor of future returns. The 'Quiet' part of the hypothesis (low volume/low intraday range) appears to filter for quality, but the current implementations (especially the division by volume Z-score or scaling by volume trend) might be introducing instability. The 'Overnight_Dominance_Index' and 'IAD_Accumulation_Ratio' successfully capture the signal, but the risk-adjusted metrics suggest the 'accumulation' signal might be getting mixed with simple 'gap-and-go' momentum which has higher drawdown.",
        "decision": false,
        "reason": "The current factors use volume as a simple divisor or rank, which can be noisy. By using the 'True Range' (Max(High, PrevClose) - Min(Low, PrevClose)) as a denominator, we can better normalize the overnight move within the context of total daily volatility. Furthermore, replacing the raw volume ratio with a 'Volume Stability' measure (e.g., inverse of Volume Coefficient of Variation) will better isolate 'quiet' accumulation from 'dead' stocks or high-volatility spikes, potentially improving the Information Ratio and reducing Drawdown."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_221528",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221528",
        "factor_dir": "47642455b0a44f51a33906f7a8bb99a1",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221528/47642455b0a44f51a33906f7a8bb99a1/result.h5"
      }
    },
    "040b900a4c952ab2": {
      "factor_id": "040b900a4c952ab2",
      "factor_name": "Overnight_Dominance_Index",
      "factor_expression": "TS_MEAN($open - DELAY($close, 1), 5) / (TS_MEAN($high - $low, 5) * TS_ZSCORE($volume, 10) + 1e-8)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(TS_MEAN(($open - DELAY($close, 1)) / (TS_MEAN($high - $low, 5) + 1e-8), 5)) / (TS_ZSCORE($volume, 10) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Overnight_Dominance_Index\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor measures the dominance of overnight price action over intraday price action. It uses a 5-day window to identify stocks where the gap return is positive and constitutes a larger portion of the total volatility than the intraday range, filtered by low relative volume.",
      "factor_formulation": "ODI = \\frac{\\text{TS_MEAN}(\\text{open} - \\text{DELAY}(\\text{close}, 1), 5)}{\\text{TS_MEAN}(\\text{high} - \\text{low}, 5) + 1e-8} / \\text{TS_ZSCORE}(\\text{volume}, 10)",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "8fc166e23723",
        "parent_trajectory_ids": [
          "3f76a5dc4775"
        ],
        "hypothesis": "Hypothesis: The Information Asymmetry Decay (IAD) factor identifies early-stage accumulation by detecting periods where positive overnight returns coincide with shrinking intraday ranges and below-median volume, suggesting informed buyers are absorbing supply without triggering public momentum.\n                Concise Observation: Parent strategies focus on high-volatility breakouts and liquidity density, often missing the 'quiet' phase where price discovery happens through overnight gaps rather than intraday volume surges.\n                Concise Justification: Informed traders often utilize overnight periods to avoid intraday slippage, and a compression in the intraday high-low range relative to the overnight gap suggests a lack of aggressive selling pressure.\n                Concise Knowledge: If overnight returns are positive while intraday volatility and volume are declining, it indicates a transition from public distribution to quiet accumulation; when price gaps up but stays stable on low volume, informed participants are likely controlling the price floor.\n                concise Specification: The factor is defined as the 5-day average of the ratio between the absolute overnight return (Close_t-1 to Open_t) and the 5-day moving average of the intraday range (High_t - Low_t), scaled by the inverse of the 10-day volume trend.\n                ",
        "initial_direction": "Intraday Support Persistence: Analyzing the decay rate of KLOW over a 3-day window to determine if diminishing lower shadows signal an imminent breakdown of price support.",
        "planning_direction": "Intraday Support Persistence: Analyzing the decay rate of KLOW over a 3-day window to determine if diminishing lower shadows signal an imminent breakdown of price support.",
        "created_at": "2026-01-19T12:41:32.454033"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1737767541520777,
        "ICIR": 0.0620103443581923,
        "1day.excess_return_without_cost.std": 0.004385991256182,
        "1day.excess_return_with_cost.annualized_return": 0.0027028114366958,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.000210398941179,
        "1day.excess_return_without_cost.annualized_return": 0.0500749480006237,
        "1day.excess_return_with_cost.std": 0.0043862188844923,
        "Rank IC": 0.0257057188134777,
        "IC": 0.0083528459143655,
        "1day.excess_return_without_cost.max_drawdown": -0.1084414340860757,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.7400554596394844,
        "1day.pa": 0.0,
        "l2.valid": 0.9965702673056454,
        "Rank ICIR": 0.2003359277839442,
        "l2.train": 0.9940205033223658,
        "1day.excess_return_with_cost.information_ratio": 0.0399426586648422,
        "1day.excess_return_with_cost.mean": 1.1356350574352308e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the Information Asymmetry Decay (IAD) hypothesis. The results show a significant improvement in the Information Coefficient (IC), which rose to 0.008353 compared to the SOTA's 0.005798. This indicates that the core logic—identifying informed accumulation through the relationship between overnight gaps and intraday ranges—has strong predictive power. However, while the IC improved, the Information Ratio (IR) and Max Drawdown (MDD) deteriorated compared to the SOTA. This suggests that while the signal is more accurate on average, it may be more volatile or prone to specific market regime risks, leading to a lower risk-adjusted return (IR of 0.74 vs 0.97).",
        "hypothesis_evaluation": "The hypothesis is partially supported. The high IC suggests that the 'Information Asymmetry' captured by overnight gaps vs. intraday ranges is a valid predictor of future returns. The 'Quiet' part of the hypothesis (low volume/low intraday range) appears to filter for quality, but the current implementations (especially the division by volume Z-score or scaling by volume trend) might be introducing instability. The 'Overnight_Dominance_Index' and 'IAD_Accumulation_Ratio' successfully capture the signal, but the risk-adjusted metrics suggest the 'accumulation' signal might be getting mixed with simple 'gap-and-go' momentum which has higher drawdown.",
        "decision": false,
        "reason": "The current factors use volume as a simple divisor or rank, which can be noisy. By using the 'True Range' (Max(High, PrevClose) - Min(Low, PrevClose)) as a denominator, we can better normalize the overnight move within the context of total daily volatility. Furthermore, replacing the raw volume ratio with a 'Volume Stability' measure (e.g., inverse of Volume Coefficient of Variation) will better isolate 'quiet' accumulation from 'dead' stocks or high-volatility spikes, potentially improving the Information Ratio and reducing Drawdown."
      },
      "cache_location": null
    },
    "6d87ea3707dbb424": {
      "factor_id": "6d87ea3707dbb424",
      "factor_name": "Shadow_Exhaustion_MeanReversion_10D",
      "factor_expression": "(($high - MAX($open, $close)) + (MIN($open, $close) - $low)) / ($high - $low + 1e-8) * TS_STD($return, 10) * (1 - TS_CORR($return, DELAY($return, 1), 10))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"((($high - ($open > $close ? $open : $close)) + (($open < $close ? $open : $close) - $low)) / (($high - $low) + 1e-8)) * TS_STD(TS_PCTCHANGE($close, 1), 10) * (1 - TS_CORR(TS_PCTCHANGE($close, 1), DELAY(TS_PCTCHANGE($close, 1), 1), 10))\" # Your output factor expression will be filled in here\n    name = \"Shadow_Exhaustion_MeanReversion_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor identifies short-term mean reversion by calculating the ratio of intraday shadows (upper + lower) to the total daily range. It is weighted by the 10-day return volatility and penalized by return autocorrelation to isolate non-trending exhaustion regimes.",
      "factor_formulation": "\\text{Factor} = \\frac{(high - \\max(open, close)) + (\\min(open, close) - low)}{high - low + 1e-8} \\times \\text{TS\\_STD}(return, 10) \\times (1 - \\text{TS\\_CORR}(return, \\text{DELAY}(return, 1), 10))",
      "metadata": {
        "experiment_id": "2026-01-18_13-34-30-274463",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "98f9effdeb66",
        "parent_trajectory_ids": [
          "53d3f1da3e28"
        ],
        "hypothesis": "Hypothesis: The 'Intraday Shadow-Range Exhaustion' factor predicts short-term mean reversion by measuring the ratio of candle shadows to the total daily range, weighted by the inverse of the 10-day return autocorrelation to identify structural price rejection in non-trending regimes.\n                Concise Observation: The parent strategy focused on overnight gap momentum and volume velocity, whereas intraday HLOC geometry (shadows) often captures the 'exhaustion' of a move that volume-based metrics might misinterpret as conviction.\n                Concise Justification: Large upper and lower shadows represent failed attempts to push price levels further, signaling a lack of follow-through; combining this with low autocorrelation ensures the signal is captured during mean-reverting phases rather than strong trending breakouts.\n                Concise Knowledge: If a stock exhibits large intraday shadows relative to its body during periods of low serial correlation, it indicates liquidity exhaustion and price rejection; when such structural inefficiency occurs, the asset is likely to mean-revert as the price fails to sustain its intraday extremes.\n                concise Specification: The factor is defined as the sum of the upper shadow (High - Max(Open, Close)) and lower shadow (Min(Open, Close) - Low) divided by the total range (High - Low), multiplied by the 10-day rolling standard deviation of returns to filter for volatility, and negatively scaled by the 10-day return autocorrelation.\n                ",
        "initial_direction": "Analyze the predictive power of KLEN (Intraday Range) normalized by its 20-day moving average to detect regime shifts from low-volatility consolidation to breakout.",
        "planning_direction": "Analyze the predictive power of KLEN (Intraday Range) normalized by its 20-day moving average to detect regime shifts from low-volatility consolidation to breakout.",
        "created_at": "2026-01-19T04:23:09.406506"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1035325693350438,
        "ICIR": 0.0493333148623321,
        "1day.excess_return_without_cost.std": 0.0040512146509655,
        "1day.excess_return_with_cost.annualized_return": 0.0426068267738442,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0003776677529254,
        "1day.excess_return_without_cost.annualized_return": 0.0898849251962589,
        "1day.excess_return_with_cost.std": 0.0040533740216934,
        "Rank IC": 0.0253139803623488,
        "IC": 0.0073454303835604,
        "1day.excess_return_without_cost.max_drawdown": -0.0958125023166008,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.4381796133546358,
        "1day.pa": 0.0,
        "l2.valid": 0.9961710027466002,
        "Rank ICIR": 0.1716121588690461,
        "l2.train": 0.992942773484728,
        "1day.excess_return_with_cost.information_ratio": 0.6813559177055538,
        "1day.excess_return_with_cost.mean": 0.0001790202805623
      },
      "feedback": {
        "observations": "The current iteration focused on the 'Intraday Shadow-Range Exhaustion' hypothesis, testing three variations that combine candle wicks with return autocorrelation. The results show a significant improvement over the SOTA across most key performance metrics. Specifically, the Information Ratio (IR) increased from 0.97 to 1.44, and the Annualized Return rose from 5.2% to 8.99%. The Information Coefficient (IC) also improved from 0.0058 to 0.0073. While the Max Drawdown slightly worsened (-0.095 vs -0.072), the substantial gains in risk-adjusted returns (IR) suggest a much stronger signal-to-noise ratio in the current implementation.",
        "hypothesis_evaluation": "The results strongly support the hypothesis that measuring intraday price rejection (shadows) in non-trending regimes (low autocorrelation) provides a robust mean-reversion signal. The 'Shadow_Volatility_Interaction_10D' and 'Ranked_Shadow_Efficiency_Filter' approaches effectively isolate exhaustion points. The success of the interaction between the shadow ratio and (1 - CORR) confirms that price rejection is a more reliable predictor when the asset is not in a persistent trend.",
        "decision": true,
        "reason": "While the current shadow-to-range ratio captures price rejection, it treats all 'wicks' equally regardless of the conviction behind the move. By incorporating a 'Volume Force' component (e.g., the ratio of current volume to its 10-day average), we can distinguish between 'noise' wicks and 'exhaustion' wicks. Furthermore, replacing the simple subtraction of autocorrelation with a non-linear scaling factor or a conditional filter may better isolate the specific 'mean-reverting' regime sought by the hypothesis."
      },
      "cache_location": null
    },
    "ae7aef8d89ce9d5f": {
      "factor_id": "ae7aef8d89ce9d5f",
      "factor_name": "Ranked_Shadow_Efficiency_Filter",
      "factor_expression": "RANK(($high - $low - ABS($close - $open)) / ($high - $low + 1e-8)) / (RANK(ABS(TS_CORR($return, DELAY($return, 1), 10))) + 1e-8)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(($high - $low - ABS($close - $open)) / ($high - $low + 1e-8)) / (RANK(ABS(TS_CORR($close / DELAY($close, 1) - 1, DELAY($close / DELAY($close, 1) - 1, 1), 10))) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Ranked_Shadow_Efficiency_Filter\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "A cross-sectionally ranked version of the shadow-to-range ratio, adjusted for structural price rejection. It focuses on stocks where the 'wick' or shadow dominates the daily price action relative to its recent volatility, specifically in low-autocorrelation environments.",
      "factor_formulation": "\\text{Factor} = \\text{RANK}(\\frac{high - low - \\text{ABS}(close - open)}{high - low + 1e-8}) / \\text{RANK}(\\text{ABS}(\\text{TS\\_CORR}(return, \\text{DELAY}(return, 1), 10)) + 1e-8)",
      "metadata": {
        "experiment_id": "2026-01-18_13-34-30-274463",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "98f9effdeb66",
        "parent_trajectory_ids": [
          "53d3f1da3e28"
        ],
        "hypothesis": "Hypothesis: The 'Intraday Shadow-Range Exhaustion' factor predicts short-term mean reversion by measuring the ratio of candle shadows to the total daily range, weighted by the inverse of the 10-day return autocorrelation to identify structural price rejection in non-trending regimes.\n                Concise Observation: The parent strategy focused on overnight gap momentum and volume velocity, whereas intraday HLOC geometry (shadows) often captures the 'exhaustion' of a move that volume-based metrics might misinterpret as conviction.\n                Concise Justification: Large upper and lower shadows represent failed attempts to push price levels further, signaling a lack of follow-through; combining this with low autocorrelation ensures the signal is captured during mean-reverting phases rather than strong trending breakouts.\n                Concise Knowledge: If a stock exhibits large intraday shadows relative to its body during periods of low serial correlation, it indicates liquidity exhaustion and price rejection; when such structural inefficiency occurs, the asset is likely to mean-revert as the price fails to sustain its intraday extremes.\n                concise Specification: The factor is defined as the sum of the upper shadow (High - Max(Open, Close)) and lower shadow (Min(Open, Close) - Low) divided by the total range (High - Low), multiplied by the 10-day rolling standard deviation of returns to filter for volatility, and negatively scaled by the 10-day return autocorrelation.\n                ",
        "initial_direction": "Analyze the predictive power of KLEN (Intraday Range) normalized by its 20-day moving average to detect regime shifts from low-volatility consolidation to breakout.",
        "planning_direction": "Analyze the predictive power of KLEN (Intraday Range) normalized by its 20-day moving average to detect regime shifts from low-volatility consolidation to breakout.",
        "created_at": "2026-01-19T04:23:09.406506"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1035325693350438,
        "ICIR": 0.0493333148623321,
        "1day.excess_return_without_cost.std": 0.0040512146509655,
        "1day.excess_return_with_cost.annualized_return": 0.0426068267738442,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0003776677529254,
        "1day.excess_return_without_cost.annualized_return": 0.0898849251962589,
        "1day.excess_return_with_cost.std": 0.0040533740216934,
        "Rank IC": 0.0253139803623488,
        "IC": 0.0073454303835604,
        "1day.excess_return_without_cost.max_drawdown": -0.0958125023166008,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.4381796133546358,
        "1day.pa": 0.0,
        "l2.valid": 0.9961710027466002,
        "Rank ICIR": 0.1716121588690461,
        "l2.train": 0.992942773484728,
        "1day.excess_return_with_cost.information_ratio": 0.6813559177055538,
        "1day.excess_return_with_cost.mean": 0.0001790202805623
      },
      "feedback": {
        "observations": "The current iteration focused on the 'Intraday Shadow-Range Exhaustion' hypothesis, testing three variations that combine candle wicks with return autocorrelation. The results show a significant improvement over the SOTA across most key performance metrics. Specifically, the Information Ratio (IR) increased from 0.97 to 1.44, and the Annualized Return rose from 5.2% to 8.99%. The Information Coefficient (IC) also improved from 0.0058 to 0.0073. While the Max Drawdown slightly worsened (-0.095 vs -0.072), the substantial gains in risk-adjusted returns (IR) suggest a much stronger signal-to-noise ratio in the current implementation.",
        "hypothesis_evaluation": "The results strongly support the hypothesis that measuring intraday price rejection (shadows) in non-trending regimes (low autocorrelation) provides a robust mean-reversion signal. The 'Shadow_Volatility_Interaction_10D' and 'Ranked_Shadow_Efficiency_Filter' approaches effectively isolate exhaustion points. The success of the interaction between the shadow ratio and (1 - CORR) confirms that price rejection is a more reliable predictor when the asset is not in a persistent trend.",
        "decision": true,
        "reason": "While the current shadow-to-range ratio captures price rejection, it treats all 'wicks' equally regardless of the conviction behind the move. By incorporating a 'Volume Force' component (e.g., the ratio of current volume to its 10-day average), we can distinguish between 'noise' wicks and 'exhaustion' wicks. Furthermore, replacing the simple subtraction of autocorrelation with a non-linear scaling factor or a conditional filter may better isolate the specific 'mean-reverting' regime sought by the hypothesis."
      },
      "cache_location": null
    },
    "7188d4b318bd6937": {
      "factor_id": "7188d4b318bd6937",
      "factor_name": "Shadow_Volatility_Interaction_10D",
      "factor_expression": "TS_ZSCORE((($high - MAX($open, $close)) + (MIN($open, $close) - $low)) / ($high - $low + 1e-8), 10) * (1 - TS_CORR($return, DELAY($return, 1), 10))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE(((($high - MAX($open, $close)) + (MIN($open, $close) - $low)) / (($high - $low) + 1e-8)), 10) * (1 - TS_CORR(($close / DELAY($close, 1) - 1), DELAY(($close / DELAY($close, 1) - 1), 1), 10))\" # Your output factor expression will be filled in here\n    name = \"Shadow_Volatility_Interaction_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "Measures the exhaustion of price moves by interacting the relative shadow size with the inverse of return persistence. High values indicate significant intraday price rejection during periods where the stock lacks a clear trend (low autocorrelation).",
      "factor_formulation": "\\text{Factor} = \\text{TS\\_ZSCORE}(\\frac{(high - \\max(open, close)) + (\\min(open, close) - low)}{high - low + 1e-8}, 10) * (1 - TS\\_CORR(return, DELAY(return, 1), 10))",
      "metadata": {
        "experiment_id": "2026-01-18_13-34-30-274463",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "98f9effdeb66",
        "parent_trajectory_ids": [
          "53d3f1da3e28"
        ],
        "hypothesis": "Hypothesis: The 'Intraday Shadow-Range Exhaustion' factor predicts short-term mean reversion by measuring the ratio of candle shadows to the total daily range, weighted by the inverse of the 10-day return autocorrelation to identify structural price rejection in non-trending regimes.\n                Concise Observation: The parent strategy focused on overnight gap momentum and volume velocity, whereas intraday HLOC geometry (shadows) often captures the 'exhaustion' of a move that volume-based metrics might misinterpret as conviction.\n                Concise Justification: Large upper and lower shadows represent failed attempts to push price levels further, signaling a lack of follow-through; combining this with low autocorrelation ensures the signal is captured during mean-reverting phases rather than strong trending breakouts.\n                Concise Knowledge: If a stock exhibits large intraday shadows relative to its body during periods of low serial correlation, it indicates liquidity exhaustion and price rejection; when such structural inefficiency occurs, the asset is likely to mean-revert as the price fails to sustain its intraday extremes.\n                concise Specification: The factor is defined as the sum of the upper shadow (High - Max(Open, Close)) and lower shadow (Min(Open, Close) - Low) divided by the total range (High - Low), multiplied by the 10-day rolling standard deviation of returns to filter for volatility, and negatively scaled by the 10-day return autocorrelation.\n                ",
        "initial_direction": "Analyze the predictive power of KLEN (Intraday Range) normalized by its 20-day moving average to detect regime shifts from low-volatility consolidation to breakout.",
        "planning_direction": "Analyze the predictive power of KLEN (Intraday Range) normalized by its 20-day moving average to detect regime shifts from low-volatility consolidation to breakout.",
        "created_at": "2026-01-19T04:23:09.406506"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1035325693350438,
        "ICIR": 0.0493333148623321,
        "1day.excess_return_without_cost.std": 0.0040512146509655,
        "1day.excess_return_with_cost.annualized_return": 0.0426068267738442,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0003776677529254,
        "1day.excess_return_without_cost.annualized_return": 0.0898849251962589,
        "1day.excess_return_with_cost.std": 0.0040533740216934,
        "Rank IC": 0.0253139803623488,
        "IC": 0.0073454303835604,
        "1day.excess_return_without_cost.max_drawdown": -0.0958125023166008,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.4381796133546358,
        "1day.pa": 0.0,
        "l2.valid": 0.9961710027466002,
        "Rank ICIR": 0.1716121588690461,
        "l2.train": 0.992942773484728,
        "1day.excess_return_with_cost.information_ratio": 0.6813559177055538,
        "1day.excess_return_with_cost.mean": 0.0001790202805623
      },
      "feedback": {
        "observations": "The current iteration focused on the 'Intraday Shadow-Range Exhaustion' hypothesis, testing three variations that combine candle wicks with return autocorrelation. The results show a significant improvement over the SOTA across most key performance metrics. Specifically, the Information Ratio (IR) increased from 0.97 to 1.44, and the Annualized Return rose from 5.2% to 8.99%. The Information Coefficient (IC) also improved from 0.0058 to 0.0073. While the Max Drawdown slightly worsened (-0.095 vs -0.072), the substantial gains in risk-adjusted returns (IR) suggest a much stronger signal-to-noise ratio in the current implementation.",
        "hypothesis_evaluation": "The results strongly support the hypothesis that measuring intraday price rejection (shadows) in non-trending regimes (low autocorrelation) provides a robust mean-reversion signal. The 'Shadow_Volatility_Interaction_10D' and 'Ranked_Shadow_Efficiency_Filter' approaches effectively isolate exhaustion points. The success of the interaction between the shadow ratio and (1 - CORR) confirms that price rejection is a more reliable predictor when the asset is not in a persistent trend.",
        "decision": true,
        "reason": "While the current shadow-to-range ratio captures price rejection, it treats all 'wicks' equally regardless of the conviction behind the move. By incorporating a 'Volume Force' component (e.g., the ratio of current volume to its 10-day average), we can distinguish between 'noise' wicks and 'exhaustion' wicks. Furthermore, replacing the simple subtraction of autocorrelation with a non-linear scaling factor or a conditional filter may better isolate the specific 'mean-reverting' regime sought by the hypothesis."
      },
      "cache_location": null
    },
    "0004f0fd43106add": {
      "factor_id": "0004f0fd43106add",
      "factor_name": "SPVD_Decoupling_Momentum_Factor",
      "factor_expression": "(TS_CORR($return, $volume, 20) - TS_CORR($return, $volume, 5)) * TS_PCTCHANGE($close, 60)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(TS_CORR(TS_PCTCHANGE($close, 1), $volume, 20) - TS_CORR(TS_PCTCHANGE($close, 1), $volume, 5)) * TS_PCTCHANGE($close, 60)\" # Your output factor expression will be filled in here\n    name = \"SPVD_Decoupling_Momentum_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor identifies trend exhaustion by measuring the decoupling of price and volume. It calculates the difference between the 20-day and 5-day correlation of returns and volume, scaled by the 60-day price momentum. High values suggest that a long-term trend is losing its liquidity support, indicating a potential mean-reversion.",
      "factor_formulation": "SPVD = (TS\\_CORR(return, volume, 20) - TS\\_CORR(return, volume, 5)) * TS\\_PCTCHANGE(close, 60)",
      "metadata": {
        "experiment_id": "2026-01-18_14-14-43-683963",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "911652a7a878",
        "parent_trajectory_ids": [
          "a4ec6ac56127"
        ],
        "hypothesis": "Hypothesis: The Short-term Price-Volume Decoupling (SPVD) factor predicts that stocks exhibiting a significant decrease in the 5-day price-volume correlation relative to their 20-day baseline, while maintaining a strong 60-day price trend, identify 'exhaustion' or 'smart money' distribution phases that precede a mean-reversion in returns.\n                Concise Observation: The parent strategy successfully captured structural trends using 60-day momentum, but the feedback suggests it struggles with timing exits or identifying trend exhaustion where price action becomes decoupled from liquidity support.\n                Concise Justification: A high 20-day price-volume correlation suggests a healthy, liquidity-backed trend, whereas a sudden drop in the 5-day correlation (decoupling) suggests that price movements are being driven by low-conviction noise or institutional distribution, signaling a high probability of a trend reversal.\n                Concise Knowledge: If the short-term correlation between price changes and volume shifts significantly away from the medium-term average, it indicates a change in market conviction; specifically, when price continues to rise on declining volume-price synchronization, the trend is likely fragile and prone to reversal.\n                concise Specification: The factor is defined as the difference between the 20-day and 5-day Spearman correlation of daily returns and volume, scaled by the 60-day Rate of Change (ROC); high values indicate a decoupling in an uptrend, suggesting a short-term reversal signal.\n                ",
        "initial_direction": "Multi-horizon volume correlation decay: Compare CORR20 with CORR5 to identify 'smart money' signals where short-term price-volume decoupling precedes a reversal in ROC60.",
        "planning_direction": "Multi-horizon volume correlation decay: Compare CORR20 with CORR5 to identify 'smart money' signals where short-term price-volume decoupling precedes a reversal in ROC60.",
        "created_at": "2026-01-19T06:01:21.050227"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.0854575235939071,
        "ICIR": 0.0520835522297896,
        "1day.excess_return_without_cost.std": 0.0043821151287136,
        "1day.excess_return_with_cost.annualized_return": 0.0580794455472482,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0004420019322732,
        "1day.excess_return_without_cost.annualized_return": 0.1051964598810272,
        "1day.excess_return_with_cost.std": 0.0043826914267616,
        "Rank IC": 0.0247539240774338,
        "IC": 0.0071151127147149,
        "1day.excess_return_without_cost.max_drawdown": -0.0788586972735475,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.5560690442061411,
        "1day.pa": 0.0,
        "l2.valid": 0.9967404445316196,
        "Rank ICIR": 0.1851820652682221,
        "l2.train": 0.9939332648687912,
        "1day.excess_return_with_cost.information_ratio": 0.8589998519103728,
        "1day.excess_return_with_cost.mean": 0.0002440312838119
      },
      "feedback": {
        "observations": "The current iteration focused on the 'Short-term Price-Volume Decoupling' (SPVD) hypothesis, yielding a significant performance leap over the SOTA. The Information Ratio (IR) increased from 0.97 to 1.56, and the Annualized Return more than doubled from 5.2% to 10.5%. The IC also showed a healthy improvement to 0.0071. While the Max Drawdown slightly worsened (-0.078 vs -0.072), the risk-adjusted return (IR) confirms that the trade-off is highly favorable. The implementation of 'SPVD_Decoupling_Momentum_Factor' and 'Relative_Decoupling_ZScore_60D' successfully captured the 'exhaustion' phase by combining short-term correlation decay with long-term trend filters.",
        "hypothesis_evaluation": "The results strongly support the hypothesis. The core mechanism—identifying a drop in price-volume synchronization (5D vs 20D) within a strong 60D trend—effectively isolates mean-reversion opportunities. The use of the 60-day price change as a multiplier or sign-filter successfully distinguishes between healthy consolidations and actual trend exhaustion. The 'Relative_Decoupling_ZScore_60D' approach suggests that cross-sectional ranking of the decoupling signal enhances the signal-to-noise ratio compared to raw values.",
        "decision": true,
        "reason": "Current factors use raw price change (TS_PCTCHANGE) which doesn't account for the 'path' of the trend. A smooth trend followed by a price-volume decoupling is a more reliable signal of institutional distribution than a volatile trend. Additionally, normalizing the decoupling signal by the rolling standard deviation of volume (Volume Volatility) will help identify if the decoupling is happening during a period of abnormal activity, which usually precedes sharper reversals. This maintains the core logic while improving the 'quality' of the entry signal."
      },
      "cache_location": null
    },
    "7b00851863d07c2f": {
      "factor_id": "7b00851863d07c2f",
      "factor_name": "Relative_Decoupling_ZScore_60D",
      "factor_expression": "RANK(TS_CORR($return, $volume, 20) - TS_CORR($return, $volume, 5)) * SIGN(TS_PCTCHANGE($close, 60))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_CORR(TS_PCTCHANGE($close, 1), $volume, 20) - TS_CORR(TS_PCTCHANGE($close, 1), $volume, 5)) * SIGN(TS_PCTCHANGE($close, 60))\" # Your output factor expression will be filled in here\n    name = \"Relative_Decoupling_ZScore_60D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor captures the statistical anomaly of price-volume decoupling. It computes the cross-sectional rank of the difference between medium-term (20D) and short-term (5D) price-volume correlations, then filters this by the 60-day price trend to isolate overextended stocks.",
      "factor_formulation": "RDZ = RANK(TS\\_CORR(return, volume, 20) - TS\\_CORR(return, volume, 5)) * SIGN(TS_PCTCHANGE(close, 60))",
      "metadata": {
        "experiment_id": "2026-01-18_14-14-43-683963",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "911652a7a878",
        "parent_trajectory_ids": [
          "a4ec6ac56127"
        ],
        "hypothesis": "Hypothesis: The Short-term Price-Volume Decoupling (SPVD) factor predicts that stocks exhibiting a significant decrease in the 5-day price-volume correlation relative to their 20-day baseline, while maintaining a strong 60-day price trend, identify 'exhaustion' or 'smart money' distribution phases that precede a mean-reversion in returns.\n                Concise Observation: The parent strategy successfully captured structural trends using 60-day momentum, but the feedback suggests it struggles with timing exits or identifying trend exhaustion where price action becomes decoupled from liquidity support.\n                Concise Justification: A high 20-day price-volume correlation suggests a healthy, liquidity-backed trend, whereas a sudden drop in the 5-day correlation (decoupling) suggests that price movements are being driven by low-conviction noise or institutional distribution, signaling a high probability of a trend reversal.\n                Concise Knowledge: If the short-term correlation between price changes and volume shifts significantly away from the medium-term average, it indicates a change in market conviction; specifically, when price continues to rise on declining volume-price synchronization, the trend is likely fragile and prone to reversal.\n                concise Specification: The factor is defined as the difference between the 20-day and 5-day Spearman correlation of daily returns and volume, scaled by the 60-day Rate of Change (ROC); high values indicate a decoupling in an uptrend, suggesting a short-term reversal signal.\n                ",
        "initial_direction": "Multi-horizon volume correlation decay: Compare CORR20 with CORR5 to identify 'smart money' signals where short-term price-volume decoupling precedes a reversal in ROC60.",
        "planning_direction": "Multi-horizon volume correlation decay: Compare CORR20 with CORR5 to identify 'smart money' signals where short-term price-volume decoupling precedes a reversal in ROC60.",
        "created_at": "2026-01-19T06:01:21.050227"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.0854575235939071,
        "ICIR": 0.0520835522297896,
        "1day.excess_return_without_cost.std": 0.0043821151287136,
        "1day.excess_return_with_cost.annualized_return": 0.0580794455472482,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0004420019322732,
        "1day.excess_return_without_cost.annualized_return": 0.1051964598810272,
        "1day.excess_return_with_cost.std": 0.0043826914267616,
        "Rank IC": 0.0247539240774338,
        "IC": 0.0071151127147149,
        "1day.excess_return_without_cost.max_drawdown": -0.0788586972735475,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.5560690442061411,
        "1day.pa": 0.0,
        "l2.valid": 0.9967404445316196,
        "Rank ICIR": 0.1851820652682221,
        "l2.train": 0.9939332648687912,
        "1day.excess_return_with_cost.information_ratio": 0.8589998519103728,
        "1day.excess_return_with_cost.mean": 0.0002440312838119
      },
      "feedback": {
        "observations": "The current iteration focused on the 'Short-term Price-Volume Decoupling' (SPVD) hypothesis, yielding a significant performance leap over the SOTA. The Information Ratio (IR) increased from 0.97 to 1.56, and the Annualized Return more than doubled from 5.2% to 10.5%. The IC also showed a healthy improvement to 0.0071. While the Max Drawdown slightly worsened (-0.078 vs -0.072), the risk-adjusted return (IR) confirms that the trade-off is highly favorable. The implementation of 'SPVD_Decoupling_Momentum_Factor' and 'Relative_Decoupling_ZScore_60D' successfully captured the 'exhaustion' phase by combining short-term correlation decay with long-term trend filters.",
        "hypothesis_evaluation": "The results strongly support the hypothesis. The core mechanism—identifying a drop in price-volume synchronization (5D vs 20D) within a strong 60D trend—effectively isolates mean-reversion opportunities. The use of the 60-day price change as a multiplier or sign-filter successfully distinguishes between healthy consolidations and actual trend exhaustion. The 'Relative_Decoupling_ZScore_60D' approach suggests that cross-sectional ranking of the decoupling signal enhances the signal-to-noise ratio compared to raw values.",
        "decision": true,
        "reason": "Current factors use raw price change (TS_PCTCHANGE) which doesn't account for the 'path' of the trend. A smooth trend followed by a price-volume decoupling is a more reliable signal of institutional distribution than a volatile trend. Additionally, normalizing the decoupling signal by the rolling standard deviation of volume (Volume Volatility) will help identify if the decoupling is happening during a period of abnormal activity, which usually precedes sharper reversals. This maintains the core logic while improving the 'quality' of the entry signal."
      },
      "cache_location": null
    },
    "5e9653732ee31c20": {
      "factor_id": "5e9653732ee31c20",
      "factor_name": "Exhaustion_Volume_Divergence_Factor",
      "factor_expression": "(TS_CORR($return, $volume, 20) - TS_CORR($return, $volume, 5)) / (TS_STD($return, 60) + 1e-8)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(TS_CORR(TS_PCTCHANGE($close, 1), $volume, 20) - TS_CORR(TS_PCTCHANGE($close, 1), $volume, 5)) / (TS_STD(TS_PCTCHANGE($close, 1), 60) + 1e-8)\" # Your output factor expression will be filled in here\n    name = \"Exhaustion_Volume_Divergence_Factor\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "A simplified version of the decoupling hypothesis focusing on the divergence between price volatility and volume synchronization. It uses the 5-day correlation drop relative to a 20-day window, normalized by the 60-day price volatility to identify exhaustion in high-momentum stocks.",
      "factor_formulation": "EVD = \\frac{TS\\_CORR(return, volume, 20) - TS\\_CORR(return, volume, 5)}{TS\\_STD(return, 60) + 1e-8}",
      "metadata": {
        "experiment_id": "2026-01-18_14-14-43-683963",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "911652a7a878",
        "parent_trajectory_ids": [
          "a4ec6ac56127"
        ],
        "hypothesis": "Hypothesis: The Short-term Price-Volume Decoupling (SPVD) factor predicts that stocks exhibiting a significant decrease in the 5-day price-volume correlation relative to their 20-day baseline, while maintaining a strong 60-day price trend, identify 'exhaustion' or 'smart money' distribution phases that precede a mean-reversion in returns.\n                Concise Observation: The parent strategy successfully captured structural trends using 60-day momentum, but the feedback suggests it struggles with timing exits or identifying trend exhaustion where price action becomes decoupled from liquidity support.\n                Concise Justification: A high 20-day price-volume correlation suggests a healthy, liquidity-backed trend, whereas a sudden drop in the 5-day correlation (decoupling) suggests that price movements are being driven by low-conviction noise or institutional distribution, signaling a high probability of a trend reversal.\n                Concise Knowledge: If the short-term correlation between price changes and volume shifts significantly away from the medium-term average, it indicates a change in market conviction; specifically, when price continues to rise on declining volume-price synchronization, the trend is likely fragile and prone to reversal.\n                concise Specification: The factor is defined as the difference between the 20-day and 5-day Spearman correlation of daily returns and volume, scaled by the 60-day Rate of Change (ROC); high values indicate a decoupling in an uptrend, suggesting a short-term reversal signal.\n                ",
        "initial_direction": "Multi-horizon volume correlation decay: Compare CORR20 with CORR5 to identify 'smart money' signals where short-term price-volume decoupling precedes a reversal in ROC60.",
        "planning_direction": "Multi-horizon volume correlation decay: Compare CORR20 with CORR5 to identify 'smart money' signals where short-term price-volume decoupling precedes a reversal in ROC60.",
        "created_at": "2026-01-19T06:01:21.050227"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.0854575235939071,
        "ICIR": 0.0520835522297896,
        "1day.excess_return_without_cost.std": 0.0043821151287136,
        "1day.excess_return_with_cost.annualized_return": 0.0580794455472482,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0004420019322732,
        "1day.excess_return_without_cost.annualized_return": 0.1051964598810272,
        "1day.excess_return_with_cost.std": 0.0043826914267616,
        "Rank IC": 0.0247539240774338,
        "IC": 0.0071151127147149,
        "1day.excess_return_without_cost.max_drawdown": -0.0788586972735475,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 1.5560690442061411,
        "1day.pa": 0.0,
        "l2.valid": 0.9967404445316196,
        "Rank ICIR": 0.1851820652682221,
        "l2.train": 0.9939332648687912,
        "1day.excess_return_with_cost.information_ratio": 0.8589998519103728,
        "1day.excess_return_with_cost.mean": 0.0002440312838119
      },
      "feedback": {
        "observations": "The current iteration focused on the 'Short-term Price-Volume Decoupling' (SPVD) hypothesis, yielding a significant performance leap over the SOTA. The Information Ratio (IR) increased from 0.97 to 1.56, and the Annualized Return more than doubled from 5.2% to 10.5%. The IC also showed a healthy improvement to 0.0071. While the Max Drawdown slightly worsened (-0.078 vs -0.072), the risk-adjusted return (IR) confirms that the trade-off is highly favorable. The implementation of 'SPVD_Decoupling_Momentum_Factor' and 'Relative_Decoupling_ZScore_60D' successfully captured the 'exhaustion' phase by combining short-term correlation decay with long-term trend filters.",
        "hypothesis_evaluation": "The results strongly support the hypothesis. The core mechanism—identifying a drop in price-volume synchronization (5D vs 20D) within a strong 60D trend—effectively isolates mean-reversion opportunities. The use of the 60-day price change as a multiplier or sign-filter successfully distinguishes between healthy consolidations and actual trend exhaustion. The 'Relative_Decoupling_ZScore_60D' approach suggests that cross-sectional ranking of the decoupling signal enhances the signal-to-noise ratio compared to raw values.",
        "decision": true,
        "reason": "Current factors use raw price change (TS_PCTCHANGE) which doesn't account for the 'path' of the trend. A smooth trend followed by a price-volume decoupling is a more reliable signal of institutional distribution than a volatile trend. Additionally, normalizing the decoupling signal by the rolling standard deviation of volume (Volume Volatility) will help identify if the decoupling is happening during a period of abnormal activity, which usually precedes sharper reversals. This maintains the core logic while improving the 'quality' of the entry signal."
      },
      "cache_location": null
    },
    "91c4fa7b6c869f52": {
      "factor_id": "91c4fa7b6c869f52",
      "factor_name": "Institutional_Absorption_Index_10D",
      "factor_expression": "TS_ZSCORE(TS_MEAN($volume / ($high - $low + 1e-8), 10), 60) * SIGN(DELTA($close, 20))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE(TS_MEAN($volume / (($high - $low) > 0.0001 ? ($high - $low) : 0.0001), 10), 60) * SIGN(DELTA($close, 20))\" # Your output factor expression will be filled in here\n    name = \"Institutional_Absorption_Index_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor identifies institutional absorption by measuring the ratio of volume to the price range (high-low). A high ratio suggests price-volume compression where significant volume is traded within a narrow range. The factor is smoothed over 10 days, normalized by its 60-day time-series Z-score, and signed by the 20-day price momentum to indicate the direction of the trend being supported.",
      "factor_formulation": "\\text{IAI} = \\text{TS\\_ZSCORE}(\\text{TS\\_MEAN}(\\frac{\\text{volume}}{\\text{high} - \\text{low} + \\epsilon}, 10), 60) \\times \\text{SIGN}(\\text{DELTA}(\\text{close}, 20))",
      "metadata": {
        "experiment_id": "2026-01-19_04-13-15-519909",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "2c2cf2eb24ed",
        "parent_trajectory_ids": [
          "c969bfda1d28"
        ],
        "hypothesis": "Hypothesis: The 'Institutional Absorption Index' (IAI) identifies high-probability trend continuations by measuring the ratio of trading volume to the daily price range, specifically when high volume coincides with low price volatility (price-volume compression).\n                Concise Observation: The previous 'Liquidity Vacuum' strategy focused on high-volatility price exhaustion (mean-reversion), but failed to capture 'thick' liquidity periods where high volume and low volatility suggest institutional accumulation or distribution.\n                Concise Justification: High volume relative to price range (Volume / (High-Low)) signifies market depth and absorption. Unlike retail-driven volatility, institutional orders often seek to minimize market impact, creating a 'low-range, high-volume' signature that precedes significant trend movements.\n                Concise Knowledge: If trading volume increases significantly while the price range (High-Low) remains narrow, it indicates institutional absorption of liquidity; when this 'dense' liquidity state occurs, the resulting price stability acts as a foundation for a strong subsequent breakout in the direction of the prevailing trend.\n                concise Specification: The factor is defined as the 10-day moving average of the ratio between daily volume and the (High-Low) range, normalized by its 60-day Z-score, and then multiplied by the sign of the 20-day price momentum to determine direction.\n                ",
        "initial_direction": "Dynamic lookback optimization: Test the sensitivity of the ROC60 factor by weighting the 60-day return by the inverse of the average VSTD5, penalizing high-volatility price drops.",
        "planning_direction": "Dynamic lookback optimization: Test the sensitivity of the ROC60 factor by weighting the 60-day return by the inverse of the average VSTD5, penalizing high-volatility price drops.",
        "created_at": "2026-01-19T19:19:38.858976"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.21089474652826,
        "ICIR": 0.0448146809406777,
        "1day.excess_return_without_cost.std": 0.0046247295128457,
        "1day.excess_return_with_cost.annualized_return": -0.0154954070929584,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0001364026087886,
        "1day.excess_return_without_cost.annualized_return": 0.0324638208917008,
        "1day.excess_return_with_cost.std": 0.0046255455781517,
        "Rank IC": 0.0236248201185452,
        "IC": 0.0067723485691498,
        "1day.excess_return_without_cost.max_drawdown": -0.1464079705955052,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.4550140613473934,
        "1day.pa": 0.0,
        "l2.valid": 0.996432409594727,
        "Rank ICIR": 0.1581540329164919,
        "l2.train": 0.9933548108450824,
        "1day.excess_return_with_cost.information_ratio": -0.2171458567623858,
        "1day.excess_return_with_cost.mean": -6.510675249142194e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the 'Institutional Absorption Index' (IAI) focusing on price-volume compression. While the current iteration achieved a higher Information Coefficient (IC: 0.00677 vs SOTA: 0.00579), it significantly underperformed the SOTA in risk-adjusted returns (IR: 0.455 vs 0.972) and drawdown management. The IC improvement suggests that the core concept of volume-to-range density has predictive power, but the current implementations (IAI, CSAM, NCS) are likely introducing noise or lack the necessary robustness to translate that correlation into stable excess returns.",
        "hypothesis_evaluation": "The hypothesis that price-volume compression identifies trend continuation is partially supported by the improved IC. However, the 'SIGN' functions and 'RANK' interactions used in the current factors might be too binary or volatile, leading to poor Information Ratios and higher drawdowns. The 'Institutional_Absorption_Index_10D' uses a complex Z-score of a mean, which might be lagging, while 'Normalized_Compression_Strength_20D' relies on a median that may not capture the 'explosive' nature of institutional entry effectively.",
        "decision": false,
        "reason": "The current factors use static lookback windows and simple signs which may be too slow to react to the 'absorption' phase. By measuring the change (velocity) in the volume/range ratio, we can identify the exact onset of institutional activity. Replacing the binary SIGN(DELTA) with a normalized distance from a trend line (like a moving average) will provide a more granular signal, reducing the 'flipping' of the factor that likely caused the high drawdown and low IR in the current results. This also maintains a lower complexity (SL < 300) to ensure better generalization."
      },
      "cache_location": null
    },
    "1f714b88f93cfc28": {
      "factor_id": "1f714b88f93cfc28",
      "factor_name": "CrossSectional_Absorption_Momentum",
      "factor_expression": "RANK(TS_MEAN($volume / ($high - $low + 1e-8), 5)) * RANK(TS_SUM($return, 10))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_MEAN($volume / ($high - $low + 1e-8), 5)) * RANK(TS_PCTCHANGE($close, 10))\" # Your output factor expression will be filled in here\n    name = \"CrossSectional_Absorption_Momentum\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "A cross-sectional adaptation of the institutional absorption hypothesis. It ranks stocks based on their volume-to-range density over 5 days and interacts this with the 10-day price return. This identifies stocks experiencing the highest relative 'thick' liquidity compared to the market, filtered by their recent price direction.",
      "factor_formulation": "\\text{CSAM} = \\text{RANK}(\\text{TS\\_MEAN}(\\frac{\\text{volume}}{\\text{high} - \\text{low} + \\epsilon}, 5)) \\times \\text{RANK}(\\text{TS\\_SUM}(\\text{return}, 10))",
      "metadata": {
        "experiment_id": "2026-01-19_04-13-15-519909",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "2c2cf2eb24ed",
        "parent_trajectory_ids": [
          "c969bfda1d28"
        ],
        "hypothesis": "Hypothesis: The 'Institutional Absorption Index' (IAI) identifies high-probability trend continuations by measuring the ratio of trading volume to the daily price range, specifically when high volume coincides with low price volatility (price-volume compression).\n                Concise Observation: The previous 'Liquidity Vacuum' strategy focused on high-volatility price exhaustion (mean-reversion), but failed to capture 'thick' liquidity periods where high volume and low volatility suggest institutional accumulation or distribution.\n                Concise Justification: High volume relative to price range (Volume / (High-Low)) signifies market depth and absorption. Unlike retail-driven volatility, institutional orders often seek to minimize market impact, creating a 'low-range, high-volume' signature that precedes significant trend movements.\n                Concise Knowledge: If trading volume increases significantly while the price range (High-Low) remains narrow, it indicates institutional absorption of liquidity; when this 'dense' liquidity state occurs, the resulting price stability acts as a foundation for a strong subsequent breakout in the direction of the prevailing trend.\n                concise Specification: The factor is defined as the 10-day moving average of the ratio between daily volume and the (High-Low) range, normalized by its 60-day Z-score, and then multiplied by the sign of the 20-day price momentum to determine direction.\n                ",
        "initial_direction": "Dynamic lookback optimization: Test the sensitivity of the ROC60 factor by weighting the 60-day return by the inverse of the average VSTD5, penalizing high-volatility price drops.",
        "planning_direction": "Dynamic lookback optimization: Test the sensitivity of the ROC60 factor by weighting the 60-day return by the inverse of the average VSTD5, penalizing high-volatility price drops.",
        "created_at": "2026-01-19T19:19:38.858976"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.21089474652826,
        "ICIR": 0.0448146809406777,
        "1day.excess_return_without_cost.std": 0.0046247295128457,
        "1day.excess_return_with_cost.annualized_return": -0.0154954070929584,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0001364026087886,
        "1day.excess_return_without_cost.annualized_return": 0.0324638208917008,
        "1day.excess_return_with_cost.std": 0.0046255455781517,
        "Rank IC": 0.0236248201185452,
        "IC": 0.0067723485691498,
        "1day.excess_return_without_cost.max_drawdown": -0.1464079705955052,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.4550140613473934,
        "1day.pa": 0.0,
        "l2.valid": 0.996432409594727,
        "Rank ICIR": 0.1581540329164919,
        "l2.train": 0.9933548108450824,
        "1day.excess_return_with_cost.information_ratio": -0.2171458567623858,
        "1day.excess_return_with_cost.mean": -6.510675249142194e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the 'Institutional Absorption Index' (IAI) focusing on price-volume compression. While the current iteration achieved a higher Information Coefficient (IC: 0.00677 vs SOTA: 0.00579), it significantly underperformed the SOTA in risk-adjusted returns (IR: 0.455 vs 0.972) and drawdown management. The IC improvement suggests that the core concept of volume-to-range density has predictive power, but the current implementations (IAI, CSAM, NCS) are likely introducing noise or lack the necessary robustness to translate that correlation into stable excess returns.",
        "hypothesis_evaluation": "The hypothesis that price-volume compression identifies trend continuation is partially supported by the improved IC. However, the 'SIGN' functions and 'RANK' interactions used in the current factors might be too binary or volatile, leading to poor Information Ratios and higher drawdowns. The 'Institutional_Absorption_Index_10D' uses a complex Z-score of a mean, which might be lagging, while 'Normalized_Compression_Strength_20D' relies on a median that may not capture the 'explosive' nature of institutional entry effectively.",
        "decision": false,
        "reason": "The current factors use static lookback windows and simple signs which may be too slow to react to the 'absorption' phase. By measuring the change (velocity) in the volume/range ratio, we can identify the exact onset of institutional activity. Replacing the binary SIGN(DELTA) with a normalized distance from a trend line (like a moving average) will provide a more granular signal, reducing the 'flipping' of the factor that likely caused the high drawdown and low IR in the current results. This also maintains a lower complexity (SL < 300) to ensure better generalization."
      },
      "cache_location": null
    },
    "a9bd1d0954cad514": {
      "factor_id": "a9bd1d0954cad514",
      "factor_name": "Normalized_Compression_Strength_20D",
      "factor_expression": "($volume / ($high - $low + 1e-8)) / (TS_MEDIAN($volume / ($high - $low + 1e-8), 20) + 1e-8) * SIGN($close - DELAY($close, 5))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"($volume / ($high - $low + 1e-8)) / (TS_MEDIAN($volume / ($high - $low + 1e-8), 20) + 1e-8) * SIGN($close - DELAY($close, 5))\" # Your output factor expression will be filled in here\n    name = \"Normalized_Compression_Strength_20D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "Measures the strength of price-volume compression by comparing the current volume-to-range ratio against its 20-day median. This factor focuses on identifying spikes in absorption density relative to the stock's own recent history, signed by the short-term price trend.",
      "factor_formulation": "\\text{NCS} = \\frac{\\text{volume}/(\\text{high}-\\text{low})}{\\text{TS\\_MEDIAN}(\\text{volume}/(\\text{high}-\\text{low}), 20)} \\times \\text{SIGN}(\\text{close} - \\text{DELAY}(\\text{close}, 5))",
      "metadata": {
        "experiment_id": "2026-01-19_04-13-15-519909",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "2c2cf2eb24ed",
        "parent_trajectory_ids": [
          "c969bfda1d28"
        ],
        "hypothesis": "Hypothesis: The 'Institutional Absorption Index' (IAI) identifies high-probability trend continuations by measuring the ratio of trading volume to the daily price range, specifically when high volume coincides with low price volatility (price-volume compression).\n                Concise Observation: The previous 'Liquidity Vacuum' strategy focused on high-volatility price exhaustion (mean-reversion), but failed to capture 'thick' liquidity periods where high volume and low volatility suggest institutional accumulation or distribution.\n                Concise Justification: High volume relative to price range (Volume / (High-Low)) signifies market depth and absorption. Unlike retail-driven volatility, institutional orders often seek to minimize market impact, creating a 'low-range, high-volume' signature that precedes significant trend movements.\n                Concise Knowledge: If trading volume increases significantly while the price range (High-Low) remains narrow, it indicates institutional absorption of liquidity; when this 'dense' liquidity state occurs, the resulting price stability acts as a foundation for a strong subsequent breakout in the direction of the prevailing trend.\n                concise Specification: The factor is defined as the 10-day moving average of the ratio between daily volume and the (High-Low) range, normalized by its 60-day Z-score, and then multiplied by the sign of the 20-day price momentum to determine direction.\n                ",
        "initial_direction": "Dynamic lookback optimization: Test the sensitivity of the ROC60 factor by weighting the 60-day return by the inverse of the average VSTD5, penalizing high-volatility price drops.",
        "planning_direction": "Dynamic lookback optimization: Test the sensitivity of the ROC60 factor by weighting the 60-day return by the inverse of the average VSTD5, penalizing high-volatility price drops.",
        "created_at": "2026-01-19T19:19:38.858976"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.21089474652826,
        "ICIR": 0.0448146809406777,
        "1day.excess_return_without_cost.std": 0.0046247295128457,
        "1day.excess_return_with_cost.annualized_return": -0.0154954070929584,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0001364026087886,
        "1day.excess_return_without_cost.annualized_return": 0.0324638208917008,
        "1day.excess_return_with_cost.std": 0.0046255455781517,
        "Rank IC": 0.0236248201185452,
        "IC": 0.0067723485691498,
        "1day.excess_return_without_cost.max_drawdown": -0.1464079705955052,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.4550140613473934,
        "1day.pa": 0.0,
        "l2.valid": 0.996432409594727,
        "Rank ICIR": 0.1581540329164919,
        "l2.train": 0.9933548108450824,
        "1day.excess_return_with_cost.information_ratio": -0.2171458567623858,
        "1day.excess_return_with_cost.mean": -6.510675249142194e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the 'Institutional Absorption Index' (IAI) focusing on price-volume compression. While the current iteration achieved a higher Information Coefficient (IC: 0.00677 vs SOTA: 0.00579), it significantly underperformed the SOTA in risk-adjusted returns (IR: 0.455 vs 0.972) and drawdown management. The IC improvement suggests that the core concept of volume-to-range density has predictive power, but the current implementations (IAI, CSAM, NCS) are likely introducing noise or lack the necessary robustness to translate that correlation into stable excess returns.",
        "hypothesis_evaluation": "The hypothesis that price-volume compression identifies trend continuation is partially supported by the improved IC. However, the 'SIGN' functions and 'RANK' interactions used in the current factors might be too binary or volatile, leading to poor Information Ratios and higher drawdowns. The 'Institutional_Absorption_Index_10D' uses a complex Z-score of a mean, which might be lagging, while 'Normalized_Compression_Strength_20D' relies on a median that may not capture the 'explosive' nature of institutional entry effectively.",
        "decision": false,
        "reason": "The current factors use static lookback windows and simple signs which may be too slow to react to the 'absorption' phase. By measuring the change (velocity) in the volume/range ratio, we can identify the exact onset of institutional activity. Replacing the binary SIGN(DELTA) with a normalized distance from a trend line (like a moving average) will provide a more granular signal, reducing the 'flipping' of the factor that likely caused the high drawdown and low IR in the current results. This also maintains a lower complexity (SL < 300) to ensure better generalization."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_221443",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221443",
        "factor_dir": "cda8ecf368df4682a993ef9fb4222772",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221443/cda8ecf368df4682a993ef9fb4222772/result.h5"
      }
    },
    "8b14c666d8c7f7e6": {
      "factor_id": "8b14c666d8c7f7e6",
      "factor_name": "Liquidity_Exhaustion_Reversal_5D",
      "factor_expression": "(TS_STD($high - $low, 5) / (TS_MEAN($high - $low, 20) + 1e-8)) * (-1 * DELTA($volume, 5)) * ($close - TS_MEDIAN($close, 10))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"(TS_STD($high - $low, 5) / (TS_MEAN($high - $low, 20) + 1e-8)) * (-1 * DELTA($volume, 5)) * ($close - TS_MEDIAN($close, 10))\" # Your output factor expression will be filled in here\n    name = \"Liquidity_Exhaustion_Reversal_5D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor identifies mean-reversion opportunities by detecting 'liquidity vacuums'. It calculates the ratio of recent intraday volatility expansion (5-day STD of range relative to 20-day mean) to volume decay, weighted by the price's deviation from its 10-day median. High values suggest price extremes unsupported by volume.",
      "factor_formulation": "LER = \\frac{TS\\_STD(high - low, 5)}{TS\\_MEAN(high - low, 20) + 1e-8} \\times (-DELTA(volume, 5)) \\times (close - TS\\_MEDIAN(close, 10))",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "ba84d4e06e0a",
        "parent_trajectory_ids": [
          "4aeb5308e094"
        ],
        "hypothesis": "Hypothesis: The 'Mean-Reverting Liquidity Exhaustion' factor, defined as the ratio of 5-day intraday volatility expansion to the 5-day decay in turnover, identifies price reversals when extreme price movements are unsupported by volume.\n                Concise Observation: Parent strategies focused on trend inertia and volume-price harmony (IC 0.0097) struggle during blow-off tops or capitulation bottoms where price-volume divergence signals a regime shift rather than trend continuation.\n                Concise Justification: Market extremes characterized by high intraday ranges but low turnover indicate a 'liquidity vacuum' where small trades move prices significantly, suggesting that the prevailing trend lacks institutional conviction to sustain further movement.\n                Concise Knowledge: If price volatility reaches a multi-day peak while turnover velocity declines, the current trend is likely exhausting due to a lack of liquidity provision; When price extensions occur on thinning volume, mean reversion is imminent.\n                concise Specification: The factor calculates the 5-day standard deviation of ($high - $low) divided by its 20-day mean, multiplied by the negative 5-day change in volume, further weighted by the distance of the close from the 10-day price median.\n                ",
        "initial_direction": "Volume-Weighted Support: Weighting KLOW by intraday volume to test if price rejection at the lows is more significant when backed by high turnover.",
        "planning_direction": "Volume-Weighted Support: Weighting KLOW by intraday volume to test if price rejection at the lows is more significant when backed by high turnover.",
        "created_at": "2026-01-19T12:53:08.897550"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1372674602523461,
        "ICIR": 0.0371879845392214,
        "1day.excess_return_without_cost.std": 0.003867629744835,
        "1day.excess_return_with_cost.annualized_return": -0.0086847357685702,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0001606941666032,
        "1day.excess_return_without_cost.annualized_return": 0.0382452116515744,
        "1day.excess_return_with_cost.std": 0.0038685435686611,
        "Rank IC": 0.0235386804296771,
        "IC": 0.0049568200542107,
        "1day.excess_return_without_cost.max_drawdown": -0.0834510047014922,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.6409788484458132,
        "1day.pa": 0.0,
        "l2.valid": 0.9960827402122412,
        "Rank ICIR": 0.1811786730692098,
        "l2.train": 0.9929283585047178,
        "1day.excess_return_with_cost.information_ratio": -0.1455193140089729,
        "1day.excess_return_with_cost.mean": -3.649048642256416e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the 'Mean-Reverting Liquidity Exhaustion' hypothesis. While the factors successfully captured the logic of price expansion on thinning volume, the current results (IC 0.004957, IR 0.6409) underperform the SOTA (IC 0.005798, IR 0.9725). The 'Liquidity_Exhaustion_Reversal_5D' factor attempted to combine volatility, volume decay, and price deviation, but the multiplicative structure might have introduced noise. The 'Normalized_Exhaustion_Index_10D' provided a cleaner signal by using a Z-score of 'liquidity cost' (range/volume), but the 10-day window might be too short to establish a stable regime for mean reversion.",
        "hypothesis_evaluation": "The hypothesis that liquidity exhaustion leads to price reversals is supported by the positive IC, but the current implementations are less robust than the SOTA. The 'Cross_Sectional_Liquidity_Vacuum_Rank' suggests that relative exhaustion is a viable path, but the subtraction of ranks may be too simplistic. The core concept of 'expensive' price movement (high range/low volume) remains strong, but the interaction between volatility and volume needs a more stable normalization than a simple DELTA or 10-day Z-score.",
        "decision": false,
        "reason": "Current factors used simple range (high-low) and volume DELTA, which are highly sensitive to daily outliers. By using ATR (Average True Range) for volatility and a 20-day Z-score for normalization, we create a more robust 'Liquidity Strain' metric. Adding a condition for the slope of volume ensures that we are capturing a genuine decay in participation rather than a single-day volume dip, reducing false signals and improving the Information Ratio."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_221528",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221528",
        "factor_dir": "0c85fc3c31fa4a97a4c02102df9c1c48",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221528/0c85fc3c31fa4a97a4c02102df9c1c48/result.h5"
      }
    },
    "f0583f7a78da67ab": {
      "factor_id": "f0583f7a78da67ab",
      "factor_name": "Cross_Sectional_Liquidity_Vacuum_Rank",
      "factor_expression": "RANK(TS_STD($high - $low, 5)) - RANK(TS_PCTCHANGE($volume, 5))",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"RANK(TS_STD($high - $low, 5)) - RANK(TS_PCTCHANGE($volume, 5))\" # Your output factor expression will be filled in here\n    name = \"Cross_Sectional_Liquidity_Vacuum_Rank\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "A cross-sectional version of the liquidity exhaustion hypothesis. It ranks assets based on the divergence between price range expansion and volume growth, identifying stocks that are overextended on thinning liquidity relative to the market universe.",
      "factor_formulation": "CSLV = RANK(TS_STD(high - low, 5)) - RANK(TS_PCTCHANGE(volume, 5))",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "ba84d4e06e0a",
        "parent_trajectory_ids": [
          "4aeb5308e094"
        ],
        "hypothesis": "Hypothesis: The 'Mean-Reverting Liquidity Exhaustion' factor, defined as the ratio of 5-day intraday volatility expansion to the 5-day decay in turnover, identifies price reversals when extreme price movements are unsupported by volume.\n                Concise Observation: Parent strategies focused on trend inertia and volume-price harmony (IC 0.0097) struggle during blow-off tops or capitulation bottoms where price-volume divergence signals a regime shift rather than trend continuation.\n                Concise Justification: Market extremes characterized by high intraday ranges but low turnover indicate a 'liquidity vacuum' where small trades move prices significantly, suggesting that the prevailing trend lacks institutional conviction to sustain further movement.\n                Concise Knowledge: If price volatility reaches a multi-day peak while turnover velocity declines, the current trend is likely exhausting due to a lack of liquidity provision; When price extensions occur on thinning volume, mean reversion is imminent.\n                concise Specification: The factor calculates the 5-day standard deviation of ($high - $low) divided by its 20-day mean, multiplied by the negative 5-day change in volume, further weighted by the distance of the close from the 10-day price median.\n                ",
        "initial_direction": "Volume-Weighted Support: Weighting KLOW by intraday volume to test if price rejection at the lows is more significant when backed by high turnover.",
        "planning_direction": "Volume-Weighted Support: Weighting KLOW by intraday volume to test if price rejection at the lows is more significant when backed by high turnover.",
        "created_at": "2026-01-19T12:53:08.897550"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1372674602523461,
        "ICIR": 0.0371879845392214,
        "1day.excess_return_without_cost.std": 0.003867629744835,
        "1day.excess_return_with_cost.annualized_return": -0.0086847357685702,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0001606941666032,
        "1day.excess_return_without_cost.annualized_return": 0.0382452116515744,
        "1day.excess_return_with_cost.std": 0.0038685435686611,
        "Rank IC": 0.0235386804296771,
        "IC": 0.0049568200542107,
        "1day.excess_return_without_cost.max_drawdown": -0.0834510047014922,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.6409788484458132,
        "1day.pa": 0.0,
        "l2.valid": 0.9960827402122412,
        "Rank ICIR": 0.1811786730692098,
        "l2.train": 0.9929283585047178,
        "1day.excess_return_with_cost.information_ratio": -0.1455193140089729,
        "1day.excess_return_with_cost.mean": -3.649048642256416e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the 'Mean-Reverting Liquidity Exhaustion' hypothesis. While the factors successfully captured the logic of price expansion on thinning volume, the current results (IC 0.004957, IR 0.6409) underperform the SOTA (IC 0.005798, IR 0.9725). The 'Liquidity_Exhaustion_Reversal_5D' factor attempted to combine volatility, volume decay, and price deviation, but the multiplicative structure might have introduced noise. The 'Normalized_Exhaustion_Index_10D' provided a cleaner signal by using a Z-score of 'liquidity cost' (range/volume), but the 10-day window might be too short to establish a stable regime for mean reversion.",
        "hypothesis_evaluation": "The hypothesis that liquidity exhaustion leads to price reversals is supported by the positive IC, but the current implementations are less robust than the SOTA. The 'Cross_Sectional_Liquidity_Vacuum_Rank' suggests that relative exhaustion is a viable path, but the subtraction of ranks may be too simplistic. The core concept of 'expensive' price movement (high range/low volume) remains strong, but the interaction between volatility and volume needs a more stable normalization than a simple DELTA or 10-day Z-score.",
        "decision": false,
        "reason": "Current factors used simple range (high-low) and volume DELTA, which are highly sensitive to daily outliers. By using ATR (Average True Range) for volatility and a 20-day Z-score for normalization, we create a more robust 'Liquidity Strain' metric. Adding a condition for the slope of volume ensures that we are capturing a genuine decay in participation rather than a single-day volume dip, reducing false signals and improving the Information Ratio."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_221528",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221528",
        "factor_dir": "55f83ad603b741eb90b6c686610c45b0",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221528/55f83ad603b741eb90b6c686610c45b0/result.h5"
      }
    },
    "88c3bedf1fb828f0": {
      "factor_id": "88c3bedf1fb828f0",
      "factor_name": "Normalized_Exhaustion_Index_10D",
      "factor_expression": "TS_ZSCORE(($high - $low) / (EMA($volume, 5) + 1e-8), 10)",
      "factor_implementation_code": "File: factor.py\n\nimport pandas as pd\nimport numpy as np\nimport os\nfrom alphaagent.components.coder.factor_coder.expr_parser import parse_expression, parse_symbol\nfrom alphaagent.components.coder.factor_coder.function_lib import *\n\n\ndef calculate_factor(expr: str, name: str):\n    # stock dataframe\n    df = pd.read_hdf('./daily_pv.h5', key='data')\n    \n    expr = parse_symbol(expr, df.columns)\n    expr = parse_expression(expr)\n\n    # replace '$var' by 'df['var'] to extract var's actual values\n    for col in df.columns:\n        expr = expr.replace(col[1:], f\"df[\\'{col}\\']\")\n\n    df[name] = eval(expr)\n    result = df[name].astype(np.float64)\n\n    if os.path.exists('result.h5'):\n        os.remove('result.h5')\n    result.to_hdf('result.h5', key='data')\n\nif __name__ == '__main__':\n    # Input factor expression. Do NOT use the variable format like \"df['$xxx']\" in factor expressions. Instead, you should use \"$xxx\". \n    expr = \"TS_ZSCORE(($high - $low) / (EMA($volume, 5) + 1e-8), 10)\" # Your output factor expression will be filled in here\n    name = \"Normalized_Exhaustion_Index_10D\" # Your output factor name will be filled in here\n    calculate_factor(expr, name)\n",
      "factor_description": "This factor focuses on the regime shift from trend to mean-reversion. It uses the Z-score of the intraday range divided by volume turnover to pinpoint days where price movement is most 'expensive' in terms of liquidity, signaling imminent exhaustion.",
      "factor_formulation": "NEI = TS\\_ZSCORE(\\frac{high - low}{EMA(volume, 5) + 1e-8}, 10)",
      "metadata": {
        "experiment_id": "2026-01-18_21-40-12-932281",
        "round_number": 7,
        "evolution_phase": "mutation",
        "trajectory_id": "ba84d4e06e0a",
        "parent_trajectory_ids": [
          "4aeb5308e094"
        ],
        "hypothesis": "Hypothesis: The 'Mean-Reverting Liquidity Exhaustion' factor, defined as the ratio of 5-day intraday volatility expansion to the 5-day decay in turnover, identifies price reversals when extreme price movements are unsupported by volume.\n                Concise Observation: Parent strategies focused on trend inertia and volume-price harmony (IC 0.0097) struggle during blow-off tops or capitulation bottoms where price-volume divergence signals a regime shift rather than trend continuation.\n                Concise Justification: Market extremes characterized by high intraday ranges but low turnover indicate a 'liquidity vacuum' where small trades move prices significantly, suggesting that the prevailing trend lacks institutional conviction to sustain further movement.\n                Concise Knowledge: If price volatility reaches a multi-day peak while turnover velocity declines, the current trend is likely exhausting due to a lack of liquidity provision; When price extensions occur on thinning volume, mean reversion is imminent.\n                concise Specification: The factor calculates the 5-day standard deviation of ($high - $low) divided by its 20-day mean, multiplied by the negative 5-day change in volume, further weighted by the distance of the close from the 10-day price median.\n                ",
        "initial_direction": "Volume-Weighted Support: Weighting KLOW by intraday volume to test if price rejection at the lows is more significant when backed by high turnover.",
        "planning_direction": "Volume-Weighted Support: Weighting KLOW by intraday volume to test if price rejection at the lows is more significant when backed by high turnover.",
        "created_at": "2026-01-19T12:53:08.897550"
      },
      "backtest_results": {
        "1day.excess_return_with_cost.max_drawdown": -0.1372674602523461,
        "ICIR": 0.0371879845392214,
        "1day.excess_return_without_cost.std": 0.003867629744835,
        "1day.excess_return_with_cost.annualized_return": -0.0086847357685702,
        "1day.ffr": 1.0,
        "1day.excess_return_without_cost.mean": 0.0001606941666032,
        "1day.excess_return_without_cost.annualized_return": 0.0382452116515744,
        "1day.excess_return_with_cost.std": 0.0038685435686611,
        "Rank IC": 0.0235386804296771,
        "IC": 0.0049568200542107,
        "1day.excess_return_without_cost.max_drawdown": -0.0834510047014922,
        "1day.pos": 0.0,
        "1day.excess_return_without_cost.information_ratio": 0.6409788484458132,
        "1day.pa": 0.0,
        "l2.valid": 0.9960827402122412,
        "Rank ICIR": 0.1811786730692098,
        "l2.train": 0.9929283585047178,
        "1day.excess_return_with_cost.information_ratio": -0.1455193140089729,
        "1day.excess_return_with_cost.mean": -3.649048642256416e-05
      },
      "feedback": {
        "observations": "The experiment tested three variations of the 'Mean-Reverting Liquidity Exhaustion' hypothesis. While the factors successfully captured the logic of price expansion on thinning volume, the current results (IC 0.004957, IR 0.6409) underperform the SOTA (IC 0.005798, IR 0.9725). The 'Liquidity_Exhaustion_Reversal_5D' factor attempted to combine volatility, volume decay, and price deviation, but the multiplicative structure might have introduced noise. The 'Normalized_Exhaustion_Index_10D' provided a cleaner signal by using a Z-score of 'liquidity cost' (range/volume), but the 10-day window might be too short to establish a stable regime for mean reversion.",
        "hypothesis_evaluation": "The hypothesis that liquidity exhaustion leads to price reversals is supported by the positive IC, but the current implementations are less robust than the SOTA. The 'Cross_Sectional_Liquidity_Vacuum_Rank' suggests that relative exhaustion is a viable path, but the subtraction of ranks may be too simplistic. The core concept of 'expensive' price movement (high range/low volume) remains strong, but the interaction between volatility and volume needs a more stable normalization than a simple DELTA or 10-day Z-score.",
        "decision": false,
        "reason": "Current factors used simple range (high-low) and volume DELTA, which are highly sensitive to daily outliers. By using ATR (Average True Range) for volatility and a 20-day Z-score for normalization, we create a more robust 'Liquidity Strain' metric. Adding a condition for the slope of volume ensures that we are capturing a genuine decay in participation rather than a single-day volume dip, reducing false signals and improving the Information Ratio."
      },
      "cache_location": {
        "workspace_suffix": "exp_20260118_221528",
        "workspace_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221528",
        "factor_dir": "30588bbf62d64e86b92aa2bdfc421907",
        "result_h5_path": "/mnt/DATA/quantagent/AlphaAgent/RD-Agent_workspace_exp_20260118_221528/30588bbf62d64e86b92aa2bdfc421907/result.h5"
      }
    }
  }
}